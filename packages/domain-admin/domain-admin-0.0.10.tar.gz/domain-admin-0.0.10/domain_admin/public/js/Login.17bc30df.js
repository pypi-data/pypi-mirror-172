import{_ as c,s as f}from"./index.9b675415.js";import{a5 as r,o as _,c as h,X as t,R as a,a as u,a0 as g,aa as w,Z as b,aD as y,aE as v}from"./vendor-vue.a1692e4d.js";import"./element-icon.e40e8117.js";import"./vendor-lib.f70cdf99.js";import"./element-plus.4f78adc4.js";const V={name:"Login",props:{},components:{},data(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}},computed:{},methods:{async getData(){},onSubmit(){this.$refs.form.validate(e=>{if(e)this.confirmSubmit();else return!1})},async confirmSubmit(){const e=await this.$http.login({username:this.form.username,password:this.form.password});if(console.log(e),e.code==0){f(e.data.token),this.$msg.success("\u767B\u5F55\u6210\u529F");let o="/";this.$route.query.redirect&&(o=this.$route.query.redirect),this.$router.push({path:o})}}},created(){this.getData()}},S=e=>(y("data-v-5e777eed"),e=e(),v(),e),k={class:"login-container"},x=S(()=>u("h3",{class:"title"},"\u767B\u5F55",-1));function q(e,o,C,I,s,n){const m=r("el-input"),i=r("el-form-item"),p=r("el-form"),d=r("el-button");return _(),h("div",k,[x,t(p,{class:"",ref:"form",model:s.form,rules:s.rules,"label-width":"auto"},{default:a(()=>[t(i,{label:"",prop:"username"},{default:a(()=>[t(m,{modelValue:s.form.username,"onUpdate:modelValue":o[0]||(o[0]=l=>s.form.username=l),"auto-complete":"off",placeholder:"\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),t(i,{label:"",prop:"password"},{default:a(()=>[t(m,{modelValue:s.form.password,"onUpdate:modelValue":o[1]||(o[1]=l=>s.form.password=l),type:"password","auto-complete":"off",placeholder:"\u5BC6\u7801",onKeypress:w(n.onSubmit,["enter"])},null,8,["modelValue","onKeypress"])]),_:1})]),_:1},8,["model","rules"]),u("div",null,[t(d,{class:"w-full",type:"primary",size:"large",onClick:g(n.onSubmit,["prevent"])},{default:a(()=>[b("\u767B \u5F55")]),_:1},8,["onClick"])])])}const E=c(V,[["render",q],["__scopeId","data-v-5e777eed"]]);export{E as default};
