"use strict";(self.webpackChunkastronbs=self.webpackChunkastronbs||[]).push([[763],{763:(e,o,t)=>{t.r(o),t.d(o,{default:()=>d});var a=t(829),n=t(306),s=t(194),r=t(512),c=t(655),l=t(12),m=t(322);async function i(e="",o={}){const t=m.ServerConnection.makeSettings(),a=l.URLExt.join(t.baseUrl,"astronbs",e);let n;try{n=await m.ServerConnection.makeRequest(a,o,t)}catch(e){throw new m.ServerConnection.NetworkError(e)}let s=await n.text();if(s.length>0)try{s=JSON.parse(s)}catch(e){console.log("Not a JSON response body.",n)}if(!n.ok)throw new m.ServerConnection.ResponseError(n,s.message||s);return s}const p={id:"astronbs:plugin",autoStart:!0,optional:[a.ISettingRegistry,r.ILauncher,n.IFileBrowserFactory,s.IDocumentManager],activate:(e,o,t,a,n)=>{console.log("JupyterLab extension astronbs is activated!"),o&&o.load(p.id).then((e=>{console.log("astronbs settings loaded:",e.composite)})).catch((e=>{console.error("Failed to load settings for astronbs.",e)})),e.commands.addCommand("astronbs:reduction_template",{execute:()=>{const e=i("reduction_template",{body:JSON.stringify({path:a.defaultBrowser.model.path,package_path:"astronbs.notebooks",nb_name:"reduction_template.ipynb"}),method:"POST"});console.log(e),e.then((e=>{console.log(e),n&&n.open(e.path)}))},icon:c.imageIcon,label:"Reduction Template"}),e.commands.addCommand("astronbs:reprojection_template",{execute:()=>{const e=i("reprojection_template",{body:JSON.stringify({path:a.defaultBrowser.model.path}),method:"POST"});console.log(e),e.then((e=>{console.log(e),n&&n.open(e.path)}))},icon:c.imageIcon,label:"Reprojection Template"}),e.commands.addCommand("astronbs:light_combo_template",{execute:()=>{const e=i("light_combo_template",{body:JSON.stringify({path:a.defaultBrowser.model.path}),method:"POST"});console.log("I am back in open2"),console.log(e),e.then((e=>{console.log(e),n&&n.open(e.path)}))},icon:c.imageIcon,label:"Light Combo Template"}),e.commands.addCommand("astronbs:01_seeing_profile",{execute:()=>{const e=i("nb_make",{body:JSON.stringify({path:a.defaultBrowser.model.path,package_path:"stellarphot.notebooks.photometry",nb_name:"01-viewer-seeing-template.ipynb"}),method:"POST"});console.log(e),e.then((e=>{console.log(e),n&&n.open(e.path)}))},icon:c.imageIcon,label:"01 Seeing Profile"}),e.commands.addCommand("astronbs:02_comp_stars",{execute:()=>{const e=i("nb_make",{body:JSON.stringify({path:a.defaultBrowser.model.path,package_path:"stellarphot.notebooks.photometry",nb_name:"02-comp-star-plotter-template.ipynb"}),method:"POST"});console.log(e),e.then((e=>{console.log(e),n&&n.open(e.path)}))},icon:c.imageIcon,label:"02 Comparison Stars"}),t&&(t.add({command:"astronbs:reduction_template",category:"Astro",rank:0}),t.add({command:"astronbs:reprojection_template",category:"Astro",rank:10}),t.add({command:"astronbs:light_combo_template",category:"Astro",rank:20}),t.add({command:"astronbs:01_seeing_profile",category:"Photometry",rank:0}),t.add({command:"astronbs:02_comp_stars",category:"Photometry",rank:0})),i("get_example").then((e=>{console.log(e)})).catch((e=>{console.error(`The astronbs server extension appears to be missing.\n${e}`)}))}},d=p}}]);