(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6884:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2036)}])},2036:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return o},__next_rsc__:function(){return r},default:function(){return i}}),Promise.resolve().then(t.bind(t,3340)),Promise.resolve().then(t.bind(t,9025)),Promise.resolve().then(t.bind(t,6295)),Promise.resolve().then(t.bind(t,5029)),Promise.resolve().then(t.bind(t,1437)),Promise.resolve().then(t.bind(t,9378)),Promise.resolve().then(t.bind(t,1830)),Promise.resolve().then(t.bind(t,4958)),Promise.resolve().then(t.bind(t,4980)),Promise.resolve().then(t.bind(t,3930)),Promise.resolve().then(t.bind(t,9933)),Promise.resolve().then(t.bind(t,7259)),Promise.resolve().then(t.bind(t,3682)),Promise.resolve().then(t.t.bind(t,5675,23)),Promise.resolve().then(t.bind(t,8882)),Promise.resolve().then(t.bind(t,8087)),Promise.resolve().then(t.bind(t,4731)),Promise.resolve().then(t.bind(t,1918)),Promise.resolve().then(t.bind(t,7926)),Promise.resolve().then(t.bind(t,7432)),Promise.resolve().then(t.bind(t,4661)),Promise.resolve().then(t.bind(t,1925));const r={server:!1,__webpack_require__:t};function i(){}const o=!0},4731:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(7171),o=t(9628);n.default=function(e){var n=e.value;return null===n?(0,r.jsx)(r.Fragment,{children:"None"}):1===n?(0,r.jsx)(i.Z,{}):(0,r.jsx)(o.Z,{})}},1925:function(e,n,t){"use strict";t.r(n);var r=t(7568),i=t(4051),o=t.n(i),s=t(5893),l=t(5152),a=t.n(l),c=t(7294),u=t(1663),d=t(3682),h=a()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(0,c.useState)(null),i=t[0],l=t[1],a=(0,c.useState)(null),f=a[0],v=(a[1],(0,c.useContext)(d.ConfigContext)),x=((0,c.useRef)(Math.random()),(0,c.useCallback)((0,r.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v.apiUrl,"category"),{body:JSON.stringify(n),method:"post"});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,l(r);case 7:case"end":return e.stop()}}),e)}))),[n]));(0,c.useEffect)((function(){x()}),[x]);var m=(0,c.useMemo)((function(){if(null===i||void 0===i?void 0:i.values)return Object.keys(i.values).sort().reduce((function(e,n){return e[n]=i.values[n],e}),{})}),[i]),j=(0,c.useMemo)((function(){if(m)return[{type:"bar",orientation:"h",x:Object.values(m),y:Object.keys(m),text:Object.keys(m).map((function(e){return"".concat(i.column,": ").concat(e," ").concat(i.message||"")})),marker:{color:Object.keys(m).map(u.Lq)}}]}),[m]),p=(0,c.useMemo)((function(){return{paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,bargap:.1,margin:{l:0,r:0,b:0,t:0,pad:0},showlegend:!1,xaxis:{visible:!0,showticklabels:!0},yaxis:{visible:!0,showticklabels:!0,type:"category"}}}),[f]);return"verbatim"===(null===i||void 0===i?void 0:i.type)?(0,s.jsx)("div",{className:"cell-verbatim",children:i.value}):(0,s.jsx)(h,{style:{height:"100%",width:"100%",maxHeight:"110px"},data:j,layout:p,config:{displayModeBar:!1}})}},4661:function(e,n,t){"use strict";t.r(n);var r=t(7568),i=t(4051),o=t.n(i),s=t(5893),l=t(5152),a=t.n(l),c=t(7294),u=t(1663),d=t(3682),h=a()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(0,c.useContext)(d.ConfigContext),i=(0,c.useState)(null),l=i[0],a=i[1],f=(0,c.useState)(null),v=(f[0],f[1]),x=((0,c.useRef)(Math.random()),(0,c.useCallback)((0,r.Z)(o().mark((function e(){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.apiUrl,"category"),{body:JSON.stringify(n),method:"post"});case 2:return r=e.sent,e.next=5,r.json();case 5:i=e.sent,a(i);case 7:case"end":return e.stop()}}),e)}))),[n]));(0,c.useEffect)((function(){x()}),[x]),(0,c.useLayoutEffect)((function(){var e=window.visualViewport;(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&v({height:e.height,width:e.width})}),[]);var m=(0,c.useMemo)((function(){if(null===l||void 0===l?void 0:l.values)return Object.keys(l.values).sort().reduce((function(e,n){return e[n]=l.values[n],e}),{})}),[l]),j=(0,c.useMemo)((function(){if(m)return[{type:"bar",orientation:"h",x:Object.values(m),y:Object.keys(m),text:Object.keys(m).map((function(e){return"".concat(l.column,": ").concat(e," ").concat(l.message||"")})),marker:{color:Object.keys(m).map(u.Lq)}}]}),[m]),p=(0,c.useMemo)((function(){return{autosize:!0,title:"".concat(null===n||void 0===n?void 0:n.columnName),font:{family:"Roboto",size:22,color:"#191A1C"},xaxis:{font:{size:13,color:"#3D4355"}},yaxis:{type:"category"}}}),[n]);return"verbatim"===(null===l||void 0===l?void 0:l.type)?(0,s.jsx)("div",{className:"cell-verbatim-expanded",children:l.value}):(0,s.jsx)("div",{style:{minWidth:"500px"},children:(0,s.jsx)(h,{style:{height:"100%",width:"100%"},data:j,layout:p,config:{displayModeBar:!1}})})}},3682:function(e,n,t){"use strict";t.r(n),t.d(n,{ConfigContext:function(){return i}});var r=t(5893),i=(0,t(7294).createContext)({apiUrl:null,otherUrl:null,apiProxyUrl:null});n.default=function(e){var n=e.apiUrl,t=e.otherUrl,o=e.apiProxyUrl,s=e.children;return(0,r.jsx)(i.Provider,{value:{apiUrl:n,otherUrl:t,apiProxyUrl:o},children:s})}},8087:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),o=t.n(i),s=(t(7294),o()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}));n.default=function(e){var n=e.chartData,t=e.layout;return(0,r.jsx)(s,{data:n,layout:t,config:{displayModeBar:!1}})}},7259:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(4980);n.default=function(e){var n=e.children;return(0,r.jsx)("div",{className:"expand-overlay",children:(0,r.jsx)(i.default,{children:n})})}},7926:function(e,n,t){"use strict";t.r(n);var r=t(7568),i=t(4051),o=t.n(i),s=t(5893),l=t(5152),a=t.n(l),c=t(7294),u=t(1763),d=t(1663),h=t(3682),f=a()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(e.dgid,(0,c.useState)(null)),i=t[0],l=t[1],a=(0,c.useContext)(h.ConfigContext),v=(0,c.useCallback)((0,r.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a.apiUrl,"histogram"),{body:JSON.stringify(n),method:"post"});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,l(r);case 7:case"end":return e.stop()}}),e)}))),[n]);(0,c.useEffect)((function(){v()}),[v]);var x=(0,c.useMemo)((function(){var e;return i?[{type:"bar",x:"DATETIME"===i.columnType?i.labels.map((function(e){return(0,u.Z)(e,"DATETIME")})):i.labels,y:i.bins,text:null===i||void 0===i||null===(e=i.labels)||void 0===e?void 0:e.map((function(e){return"".concat(i.column,": ").concat((0,u.Z)(e,i.columnType)," ").concat(i.message||"")})),marker:{color:(0,d.Lq)(i.column)}}]:null}),[i]),m=(0,c.useMemo)((function(){return{paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,bargap:.1,margin:{l:0,r:0,b:0,t:0,pad:0},showlegend:!1,xaxis:{visible:!0,showticklabels:!0},yaxis:{visible:!0,showticklabels:!0}}}),[]),j=(0,c.useMemo)((function(){return{displayModeBar:!1}}));return"verbatim"===(null===i||void 0===i?void 0:i.type)?(0,s.jsx)("div",{className:"cell-verbatim",children:i.value}):(0,s.jsx)(f,{style:{height:"100%",width:"100%",maxHeight:"110px"},data:x,layout:m,config:j})}},7432:function(e,n,t){"use strict";t.r(n);var r=t(7568),i=t(4051),o=t.n(i),s=t(5893),l=t(5152),a=t.n(l),c=t(7294),u=t(1763),d=t(2825),h=t(1663),f=t(3682),v=a()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(e.dgid,(0,c.useState)(null)),i=t[0],l=t[1],a=(0,c.useContext)(f.ConfigContext),x=(0,c.useCallback)((0,r.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a.apiUrl,"histogram"),{body:JSON.stringify(n),method:"post"});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,l(r);case 7:case"end":return e.stop()}}),e)}))),[n]);(0,c.useEffect)((function(){x()}),[x]);var m=(0,c.useMemo)((function(){var e;return i?[{type:"bar",x:"DATETIME"===i.columnType?i.labels.map((function(e){return(0,u.Z)(e,"DATETIME")})):i.labels,y:i.bins,text:null===i||void 0===i||null===(e=i.labels)||void 0===e?void 0:e.map((function(e){return"".concat(i.column,": ").concat((0,u.Z)(e,i.columnType)," ").concat(i.message||"")})),marker:{color:(0,h.Lq)(i.column)}}]:null}),[i]),j=(0,c.useMemo)((function(){return(null===i||void 0===i?void 0:i.statistics)?(e=i.statistics)?(0,s.jsx)("div",{style:{margin:"auto",marginLeft:"inherit"},children:Object.keys(e).map((function(n,t){return(0,s.jsxs)("ul",{style:{paddingLeft:"0"},children:[(0,s.jsx)("b",{children:n})," :"," ",(0,d.Z)(e[n],3).toLocaleString(a.locale)]})}))}):(0,s.jsx)("div",{}):(0,s.jsx)("div",{});var e}),[i]),p=(0,c.useMemo)((function(){return{autosize:!0,title:"".concat(null===i||void 0===i?void 0:i.column),font:{family:"Roboto",size:22,color:"#191A1C"},xaxis:{font:{size:13,color:"#3D4355"}},yaxis:{font:{size:13,color:"#3D4355"}}}}),[i]),g=(0,c.useMemo)((function(){return{displayModeBar:!1}}));return"verbatim"===(null===i||void 0===i?void 0:i.type)?(0,s.jsx)("div",{className:"cell-verbatim-expanded",children:i.value}):(0,s.jsxs)("div",{style:{minWidth:"600px",display:"flex"},children:[(0,s.jsx)(v,{style:{height:"100%",width:"75%"},data:m,layout:p,config:g}),j]})}},8882:function(e,n,t){"use strict";t.r(n),t.d(n,{CanvasContext:function(){return N},default:function(){return k}});var r=t(7568),i=t(872),o=t(1799),s=t(9396),l=t(828),a=t(9815),c=t(4051),u=t.n(c),d=t(5893),h=t(7294),f=(t(5152),t(7650)),v=t(4697),x=t(3682),m=t(1663),j=function(e){var n=e.label,t=e.hidden,r=e.addLabel,i=e.removeLabel,o=(0,h.useMemo)((function(){return t?"badge badge-label badge-disabled":"badge badge-label"}),[t]),s=(0,h.useMemo)((function(){return(0,m.Lq)(n)}),[n]),l=(0,h.useMemo)((function(){return(0,m.Qg)((0,m.Lq)(n))}),[n]),a=(0,h.useRef)(),c=(0,h.useCallback)((function(){r&&i&&(t?r(n):i(n))}),[t,n,r,i]);return(0,d.jsx)("div",{ref:a,className:o,style:{backgroundColor:s,color:l},onClick:c,children:"".concat(n)})},p=t(4980),g=t(8456),b=function(e){var n=e.url,t=e.drawImage,r=e.dgid,i=e.scoreBound,o=e.ref,s=(0,h.useRef)(),l=(0,h.useRef)(),a=(0,h.useState)(),c=a[0],u=a[1],f=(0,h.useState)([]),v=f[0],m=f[1],j=(0,h.useMemo)((function(){return new URL(n).searchParams.get("assetId")}),[n]),p=(0,h.useContext)(x.ConfigContext);(0,h.useEffect)((function(){fetch("/api/metadata",{body:JSON.stringify({assetId:j,dgid:r,url:"".concat(p.apiProxyUrl,"asset-metadata")}),method:"POST"}).then((function(e){return e.json()})).then((function(e){return u(JSON.parse(e))}))}),[null===p||void 0===p?void 0:p.apiProxyUrl,j,r]),(0,h.useEffect)((function(){var e;if(i&&(null===c||void 0===c?void 0:c.overlays)){var n=null===c||void 0===c||null===(e=c.overlays)||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.score)<i}));m(n.map((function(e){return e.label})))}}),[c,i]);var g=(0,h.useCallback)((function(){s&&l&&c&&t(s,l,c,v)}),[t,c,v]);return(0,h.useEffect)((function(){g()}),[g]),(0,d.jsxs)("div",{className:"canvas-container",ref:o,children:[(0,d.jsx)("canvas",{ref:s,className:"image-canvas"}),(0,d.jsx)("img",{ref:l,src:n,crossOrigin:"Anonymous",style:{display:"none"},onLoad:g,alt:"DataGrid Image"})]})},y=function(e){var n=e.url,t=e.drawImage,r=e.dgid,i=e.scoreBound,o=(0,f.YD)({threshold:0,rootMargin:"1000px",triggerOnce:!0}),s=o.ref,l=o.inView,a=(o.entry,(0,h.useRef)());return(0,d.jsxs)("div",{ref:s,children:[l&&(0,d.jsx)("div",{ref:a,children:(0,d.jsx)(b,{url:n,drawImage:t,dgid:r,scoreBound:i})}),!l&&(0,d.jsx)(g.Z,{})]})},N=(0,h.createContext)(),w=function(e){var n=e.urls,t=e.url,r=(e.isMulti,e.strValue),i=e.drawImage,o=e.assetId,s=e.dgid,l=e.filterLabels,a=e.scoreBound,c=(0,f.YD)({threshold:0,rootMargin:"10000px"}),u=c.ref,x=c.inView,m=(c.entry,(0,v.y1)((function(){N(Math.min(g+100,null===n||void 0===n?void 0:n.length))}),250));(0,h.useEffect)((function(){x&&m()}),[x,m]);var j=(0,h.useState)(100),g=j[0],N=j[1];return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"image-title",children:r}),n?(0,d.jsxs)("div",{className:"canvas-grid",children:[n.slice(0,g).map((function(e,n){return(0,d.jsx)(p.default,{tabIndex:n,toggleElement:(0,d.jsx)(y,{url:e,drawImage:i,assetId:o,dgid:s,filterLabels:l,scoreBound:a,index:n}),children:(0,d.jsx)(S,{url:e,dgid:s,assetId:o})},e)})),(0,d.jsx)("div",{style:{width:"100%"},ref:u})]}):(0,d.jsx)(b,{url:t,drawImage:i,assetId:o,dgid:s,scoreBound:a})]})};var C=function(e){var n=e.label,t=e.children,r=(0,h.useState)(!1),i=r[0],o=r[1],s=(0,h.useCallback)((function(){o(!i)}),[i]);return(0,d.jsxs)("div",{className:"accordion",children:[(0,d.jsxs)("div",{className:"accordion-label",onClick:s,children:[(0,d.jsx)("div",{className:"arrow"}),n]}),(0,d.jsx)("div",{className:"accordion-content ".concat(i?"active":""),children:t})]})},S=function(e){var n=e.url,t=e.metadata,c=e.dgid,f=e.assetId,v=e.urls,p=(0,h.useContext)(x.ConfigContext),g=(0,h.useState)()[0],b=(0,h.useState)(!0),y=b[0],N=b[1],S=(0,h.useState)(!1),k=S[0],Z=S[1],P=(0,h.useState)(!1)[0],M=(0,h.useState)(1)[0],E=(0,h.useState)(1)[0],_=(0,h.useState)(),O=_[0],I=_[1],D=(0,h.useState)({min:0,max:1}),A=D[0],R=D[1],T=(0,h.useState)(),q=T[0],B=T[1],L=(0,h.useState)(new Set),z=L[0],G=L[1],U=(0,h.useState)(1),F=U[0],Y=U[1],V=(0,h.useMemo)((function(){return!!(null===v||void 0===v?void 0:v.length)}),[v]),K=(0,h.useRef)(),J=(0,h.useCallback)((0,r.Z)(u().mark((function e(){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/metadata",{body:JSON.stringify({assetId:f||new URL(n).searchParams.get("assetId"),dgid:c,url:"".concat(p.apiProxyUrl,"asset-metadata")}),method:"post"});case 4:return r=e.sent,e.next=7,r.json();case 7:i=e.sent,I(JSON.parse(i));case 9:case"end":return e.stop()}}),e)}))),[null===p||void 0===p?void 0:p.apiProxyUrl,f,c,t,n]);(0,h.useEffect)((function(){if(t){var e=JSON.parse(t);e&&I(e)}else J()}),[t,J]);var H=(0,h.useCallback)((function(e){N(!e.target.checked)}),[]),W=(0,h.useCallback)((function(e){Z(e.target.checked)}),[]),X=(0,h.useCallback)((function(e){Y(e.target.value)}),[]),Q=(0,h.useCallback)((function(e){B(e.target.value)}),[]);(0,h.useEffect)((function(){K.current.min=A.min,K.current.max=A.max}),[A]);var $=(0,h.useCallback)((function(e){var n=new Set(z);null===e||void 0===e||e.forEach((function(e){n.has(e)||n.add(e)})),G(n)}),[z]),ee=(0,h.useCallback)((function(e,n,t,r){if(t){var i=e.current.getContext("2d"),a=function(e,n,t,r){return t>r?t<e?Math.max(t/e,e/t):Math.min(t/e,e/t):r<n?Math.max(r/n,n/r):Math.min(r/n,n/r)}(400*F,400*F,n.current.naturalWidth,n.current.naturalHeight);if(e.current.width=n.current.naturalWidth*a,e.current.height=n.current.naturalHeight*a,i.clearRect(0,0,e.current.width,e.current.height),i.globalAlpha=M,g&&(i.drawImage(g,0,0,n.current.width*a,n.current.height*a),i.globalCompositeOperation="source-in"),i.imageSmoothingEnabled=y,i.drawImage(n.current,0,0,n.current.width*a,n.current.height*a),k){for(var c=i.getImageData(0,0,e.current.width,e.current.height),u=c.data,d=0;d<u.length;d+=4){var h=(u[d]+u[d+1]+u[d+2])/3;u[d]=h,u[d+1]=h,u[d+2]=h}i.putImageData(c,0,0)}if(P){for(var f=i.getImageData(0,0,e.current.width,e.current.height),v=f.data,x=0;x<v.length;x+=4)v[x]=255-v[x],v[x+1]=255-v[x+1],v[x+2]=255-v[x+2];i.putImageData(f,0,0)}if(null===t||void 0===t?void 0:t.overlays){i.globalAlpha=E;for(var j=0;j<(null===t||void 0===t?void 0:t.overlays.length);j++){var p,b;if(!r.includes(null===(p=t.overlays[j])||void 0===p?void 0:p.label)){if(null===(b=t.overlays[j])||void 0===b?void 0:b.score){var N=t.overlays[j].score;A.min>N&&R((0,s.Z)((0,o.Z)({},A),{min:N})),A.max<N&&R((0,s.Z)((0,o.Z)({},A),{max:N})),!V&&q>N&&te(t.overlays[j].label)}if("regions"===(null===t||void 0===t?void 0:t.overlays[j].type)){var w=null===t||void 0===t?void 0:t.overlays[j].data;if(!z.has(null===t||void 0===t?void 0:t.overlays[j].label))for(var C=0;C<w.length;C++){var S=w[C];i.fillStyle=(0,m.Lq)(null===t||void 0===t?void 0:t.overlays[j].label),i.beginPath(),i.moveTo(S[0]*a,S[1]*a);for(var Z=2;Z<S.length;Z+=2)i.lineTo(S[Z]*a,S[Z+1]*a);i.closePath(),i.fill()}}else if("boxes"===(null===t||void 0===t?void 0:t.overlays[j].type)){var _=null===t||void 0===t?void 0:t.overlays[j].data;if(!z.has(null===t||void 0===t?void 0:t.overlays[j].label))for(var O=0;O<_.length;O++){var I=(0,l.Z)(_[O],2),D=(0,l.Z)(I[0],2),T=D[0],B=D[1],L=(0,l.Z)(I[1],2),G=L[0],U=L[1];i.strokeStyle=(0,m.Lq)(null===t||void 0===t?void 0:t.overlays[j].label),i.lineWidth=3,i.beginPath(),i.moveTo(T*a,B*a),i.lineTo(G*a,B*a),i.lineTo(G*a,U*a),i.lineTo(T*a,U*a),i.closePath(),i.stroke()}}else null===t||void 0===t||t.overlays[j].type}}}}}),[g,k,P,F,z,y,te,q,400,400,M,V,E,A]),ne=(0,h.useCallback)((function(e){var n=new Set(z);n.has(e)&&n.delete(e),G(n)}),[z]),te=(0,h.useCallback)((function(e){var n=new Set(z);n.has(e)||n.add(e),G(n)}),[z]),re=(0,h.useMemo)((function(){return(null===O||void 0===O?void 0:O.labels)?Array.isArray(null===O||void 0===O?void 0:O.labels)?null===O||void 0===O?void 0:O.labels.sort():Object.keys(null===O||void 0===O?void 0:O.labels).sort():null}),[O]),ie=(0,h.useMemo)((function(){return(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.filename)||f}),[t,f]),oe=(0,h.useMemo)((function(){return!O||V?null:(null===O||void 0===O?void 0:O.overlays)?(0,i.Z)({},O):O}),[O,V]);return(0,h.useEffect)((function(){if((null===O||void 0===O?void 0:O.overlays)&&q){var e=new Set(z),n=!0,t=!1,r=void 0;try{for(var i,o=((null===O||void 0===O?void 0:O.overlays)||{})[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;(null===s||void 0===s?void 0:s.score)&&((null===s||void 0===s?void 0:s.score)<=q&&e.add(null===s||void 0===s?void 0:s.label),(null===s||void 0===s?void 0:s.score)>q&&e.has(null===s||void 0===s?void 0:s.label)&&e.delete(null===s||void 0===s?void 0:s.label))}}catch(l){t=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}z.size===e.size&&(0,a.Z)(z).every((function(n){return e.has(n)}))||G(e)}}),[O,q,z]),(0,d.jsxs)("div",{className:"editor-container",children:[(0,d.jsxs)("div",{className:"left-column",children:[(0,d.jsxs)("div",{className:"image-controls",children:[(0,d.jsxs)("div",{className:"checkbox",children:[(0,d.jsx)("input",{type:"checkbox",className:"image-smoothing-checkbox",id:"image-smoothing",onChange:H}),(0,d.jsx)("label",{htmlFor:"image-smoothing",className:"checkbox-label",children:"Pixelated"})]}),(0,d.jsxs)("div",{className:"checkbox",children:[(0,d.jsx)("input",{type:"checkbox",className:"grayscale-checkbox",id:"grayscale",onChange:W}),(0,d.jsx)("label",{htmlFor:"grayscale",className:"checkbox-label",children:"Grayscale"})]}),!V&&(0,d.jsxs)("div",{className:"slider-container",children:[(0,d.jsx)("div",{className:"zoom-label",children:"Zoom:"}),(0,d.jsx)("input",{type:"range",min:"1",max:"5",defaultValue:"".concat(F),className:"zoom-slider",id:"zoom-slide",onChange:X,step:"0.01"})]})]}),oe&&(0,d.jsx)("div",{className:"metadata-control",children:(0,d.jsx)(C,{label:"Metadata",children:(0,d.jsx)("pre",{children:(0,d.jsx)("code",{children:JSON.stringify(oe,null,4)})})})}),(0,d.jsx)("div",{className:"score-control",children:(0,d.jsxs)("div",{className:"slider-container",children:[(0,d.jsx)("div",{className:"zoom-label",children:"Score:"}),(0,d.jsx)("input",{type:"range",ref:K,min:"0",max:"1",defaultValue:"0",className:"zoom-slider",id:"zoom-slide",step:"0.001",onChange:Q})]})}),(0,d.jsx)("div",{className:"labels-container",children:!!re&&re.map((function(e){return(0,d.jsx)(j,{label:e,hidden:z.has(e),addLabel:ne,removeLabel:te})}))})]}),(0,d.jsx)("div",{className:"right-column ".concat(V&&"multi-canvas"),children:(0,d.jsx)(w,{urls:v,url:n,dgid:c,assetId:f,isMulti:V,drawImage:ee,filterLabels:$,scoreBound:q,strValue:ie})})]})},k=S},1918:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(7650);n.default=function(e){var n=e.children,t=(0,i.YD)({threshold:0,rootMargin:"1000px"}),o=t.ref,s=t.inView;t.entry;return(0,r.jsx)("div",{ref:o,children:s&&n})}},4980:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(7294),o=t(8262);n.default=function(e){var n=e.toggleElement,t=e.children,s=e.sx,l=e.tabIndex,a=e.fullScreen,c=void 0===a||a,u=(0,i.useState)(!1),d=u[0],h=u[1],f=(0,i.useCallback)((function(){return h(!d)}),[d]),v=(0,i.useCallback)((function(){d||h(!0)}),[d]);return n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{tabIndex:l,onClick:v,children:n}),(0,r.jsx)(o.Z,{open:d,fullScreen:c,onClose:f,sx:s,children:t})]}):(0,r.jsx)("div",{onClick:v,style:{height:"100%",width:"100%",opacity:"0",cursor:"pointer"},tabIndex:l,children:(0,r.jsx)(o.Z,{open:d,fullScreen:c,onClose:f,sx:s,children:t})})}},1437:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return M}});var r=t(1799),i=t(9396),o=t(9534),s=t(5893),l=t(7294),a=t(5152),c=t.n(a),u=t(7625),d=t(5503),h=t(813),f=t(828),v=t(9815),x=t(883),m=t(1590),j=t(887),p=t(2339),g=t(5587),b=t(4285),y=function(e){var n=(0,i.Z)((0,r.Z)({},e.innerProps),{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}}),t=(0,g.nB)({id:e.data.id}),o=t.attributes,l=t.listeners,a=t.setNodeRef,c=t.transform,u=t.transition,d={transform:b.ux.Transform.toString(c),transition:u};return(0,s.jsx)("div",(0,i.Z)((0,r.Z)({style:d,ref:a},o,l),{children:(0,s.jsx)(m.c.MultiValue,(0,i.Z)((0,r.Z)({},e),{innerProps:n}))}))},N=function(e){var n=(0,j.Zj)({id:"droppable"}),t=n.isOver,i=n.setNodeRef,o={color:t?"green":void 0};return(0,s.jsx)("div",{style:o,ref:i,children:(0,s.jsx)(m.c.MultiValueContainer,(0,r.Z)({},e))})},w=function(e){return(0,s.jsx)(m.c.MultiValueRemove,(0,i.Z)((0,r.Z)({},e),{innerProps:(0,r.Z)({onPointerDown:function(e){return e.stopPropagation()}},e.innerProps)}))},C=function(e){return(0,s.jsx)(m.c.Menu,(0,r.Z)({className:"react-select-list"},e))},S=function(e){var n=e.options,t=e.update,o=e.defaults,a=(0,f.Z)(l.useState(n),2),c=a[0],u=a[1],d=(0,l.useCallback)((function(){return t(c)}),[c]),h={valueContainer:function(e,n){return(0,i.Z)((0,r.Z)({},e),{overflow:"auto"})}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.LB,{modifiers:[p.F4],onDragEnd:function(e){var n=e.active,t=e.over;n&&t&&u((function(e){var r=e.findIndex((function(e){return e.id===n.id})),i=e.findIndex((function(e){return e.id===t.id}));return(0,g.Rp)(e,r,i)}))},children:(0,s.jsx)(g.Fo,{items:c,strategy:g.PG,children:(0,s.jsx)(x.default,{styles:h,distance:4,isMulti:!0,options:o,value:c,onChange:function(e){return u((0,v.Z)(e))},components:{MultiValue:y,MultiValueContainer:N,MultiValueRemove:w,Menu:C},closeMenuOnSelect:!1})})}),(0,s.jsx)("button",{onClick:d,children:"Save Changes"})]})},k=t(4199),Z=c()((function(){return Promise.resolve().then(t.bind(t,883))}),{ssr:!1}),P=function(e){var n=e.toggle,t=e.sortDesc;return(0,s.jsxs)("div",{className:"arrow-toggle",onClick:n,children:[t&&(0,s.jsx)(d.Z,{}),!t&&(0,s.jsx)(h.Z,{})]})},M=function(e){var n=e.columns,t=e.query,a=e.defaultOptions,c=e.subtree,d=void 0===c?"":c,h=e.isMulti,f=void 0!==h&&h,v=e.subtrees,x=void 0===v?[]:v,m=(0,u.unstable_useRefreshRoot)(),j=(0,l.useState)(!1),p=(j[0],j[1],(0,l.useState)(null)),g=(p[0],p[1],(0,l.useState)(!1)),b=(g[0],g[1],(0,l.useState)(!1)),y=b[0],N=(b[1],(0,l.useMemo)((function(){return n.map((function(e,n){return{id:n+1,label:e,value:e}}))}),[n])),w=(0,l.useMemo)((function(){return null===a||void 0===a?void 0:a.map((function(e,n){return{id:n+1,label:e,value:e}}))}),[a]),C=(0,l.useMemo)((function(){var e=t[d]||t[x[0]];return N.find((function(n){return n.value===e}))||null}),[N,t]),M=(0,l.useCallback)((function(e){var n=e.map((function(e){return e.value}));m({query:(0,k.Z)(t,"",{select:n})})}),[t]),E=(0,l.useCallback)((function(e){var n=e.value;if(x.length){var s=(0,i.Z)((0,r.Z)({},t),{sortDesc:y}),l=!0,a=!1,c=void 0;try{for(var u,h=x[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var f=u.value;s=(0,k.Z)(s,f,n)}}catch(p){a=!0,c=p}finally{try{l||null==h.return||h.return()}finally{if(a)throw c}}if(null===s||void 0===s?void 0:s.groupBy){s.limit,s.offset;var v=(0,o.Z)(s,["limit","offset"]);s=(0,i.Z)((0,r.Z)({},v),{limit:4})}else{s.limit,s.offset;var j=(0,o.Z)(s,["limit","offset"]);s=(0,i.Z)((0,r.Z)({},j),{limit:10})}m({query:s})}else m({query:(0,k.Z)(t,d,n)})}),[x,d,t,y]),_=(0,l.useCallback)((function(){var e=(0,r.Z)({},t);if("groupBy"===d||"groupBy"==x[0]){e.groupBy,e.sortBy;var n=(0,o.Z)(e,["groupBy","sortBy"]);e=(0,i.Z)((0,r.Z)({},n),{limit:10})}else if("sortBy"===d||"sortBy"==x[0]){e.sortBy;e=(0,o.Z)(e,["sortBy"])}m({query:e})}),[t,d,x]),O=(0,l.useCallback)((function(){m({query:(0,i.Z)((0,r.Z)({},t),{sortDesc:!(null===t||void 0===t?void 0:t.sortDesc)})})}),[t]);return f?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"alert",children:"You can drag and drop columns to sort them in the DataGrid"}),(0,s.jsx)(S,{options:N,update:M,defaults:w})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"select-modal-title",children:[(0,s.jsxs)("div",{children:["Select a column ",!!(null===t||void 0===t?void 0:t.sortBy)&&(0,s.jsx)(P,{toggle:O,sortDesc:null===t||void 0===t?void 0:t.sortDesc})]}),(0,s.jsx)("div",{className:"reset-button ".concat(C?"enabled":"disabled"),onClick:_,children:"Reset to default"})]}),(0,s.jsx)("div",{className:"select-modal-body",children:(0,s.jsx)(Z,{options:N,value:C,onChange:E})})]})}},1830:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(1799),i=t(9396),o=t(5893),s=t(7625),l=t(2349),a=t(7294),c=t(4980),u=function(){return(0,o.jsxs)("div",{className:"markdown-body",children:[(0,o.jsxs)("p",{dir:"auto",children:[(0,o.jsx)("b",{children:"DataGrid filter expressions"})," use Python syntax for selecting matching rows. To use the value of a column in the expression, enclosing the column name like ",(0,o.jsx)("code",{children:'{"Column Name"}'}),". Some examples:"]}),(0,o.jsx)("p",{dir:"auto",children:'To select all of the rows that have a fitness score less than 0.1, given that you have a column named "Fitness":'}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"fitness"} < 0.1'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("p",{dir:"auto",children:'Note that the column name is case-insensitive (i.e., you can use any case of letters inside quotes). Column values can be used any where in the filter expression. For example, if you wanted to select all of the rows where column "Score 1" was greater than or equal to "Score 2", you would write:'}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"score 1"} >= {"score 2"}'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("p",{dir:"auto",children:"You can use any of Python's operators, including:"}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"<"})," - less than"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"<="})," - less than or equal"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:">"})," - greater than"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:">="})," - greater than or equal"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"=="})," - equal to"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"!="})," - not equal to"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"is"})," - is the same (e.g., ",(0,o.jsx)("code",{children:"is None"}),")"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"is not"})," - is not the same (e.g."," ",(0,o.jsx)("code",{children:"is not None"}),")"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"+"})," - addition"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"-"})," - subtraction"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"*"})," - multiplication"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"/"})," - division"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"//"})," - integer division"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"**"})," - raise to a power"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"not"})," - flip the boolean value"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"in"})," - is value in a list of values"]})]}),(0,o.jsxs)("p",{dir:"auto",children:["Use ",(0,o.jsx)("code",{children:"is None"})," and ",(0,o.jsx)("code",{children:"is not None"})," for selecting rows that have null values. Otherwise, null values are ignored in most other uses."]}),(0,o.jsxs)("p",{dir:"auto",children:["You can combine comparisons using Python's ",(0,o.jsx)("code",{children:"and"})," and"," ",(0,o.jsx)("code",{children:"or"})," (use parentheses to force evaluation order different from Python's defaults):"]}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'(({"loss"} - {"base line"}) < 0.5) or ({"loss"} > 0.95)'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("h3",{dir:"auto",children:"JSON attribute access"}),(0,o.jsx)("p",{dir:"auto",children:"For JSON and metdata columns, you can use the dot operator to access values:"}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"Image"}.extension == "jpg"'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("p",{dir:"auto",children:"or nested values:"}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"Image"}.overlay.labels.contains("dog")'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsxs)("p",{dir:"auto",children:["See below for more information on ",(0,o.jsx)("code",{children:"contains()"})," and other string and JSON methods."]}),(0,o.jsx)("p",{dir:"auto",children:"Note that any mention of a column that contains an asset type (e.g., an image) will automatically reference its metadata."}),(0,o.jsx)("h3",{dir:"auto",children:"Python String and JSON methods"}),(0,o.jsx)("p",{dir:"auto",children:"These are mostly used with column values:"}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.contains(STRING)'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.endswith(STRING)'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.startswith(STRING)'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.strip()'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.lstrip()'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.rstrip()'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.upper()'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.lower()'})})]}),(0,o.jsx)("h3",{dir:"auto",children:"Python if/else expression"}),(0,o.jsx)("p",{dir:"auto",children:"You can use Python's if/else expression to return one value or another."}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'("low" if {"loss"} < 0.5 else "high") == "low"'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("h3",{dir:"auto",children:"Python Builtin Functions"}),(0,o.jsx)("p",{dir:"auto",children:"You can use any of these Python builtin functions:"}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"abs()"})," - absolute value"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"round()"})," - rounds to int"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"max(v1, v2, ...)"})," or ",(0,o.jsx)("code",{children:"max([v1, v2, ...])"})," ","- maximum of list of values"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"min(v1, v2, ...)"})," or ",(0,o.jsx)("code",{children:"min([v1, v2, ...])"})," ","- minimum of list of values"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"len()"})," - length of item"]})]}),(0,o.jsx)("h3",{dir:"auto",children:"Aggregate Functions"}),(0,o.jsx)("p",{dir:"auto",children:"You can use the following aggregate functions. Note that these are more expensive to compute, as they require computing on all rows."}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'AVG({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'MAX({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'MIN({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'SUM({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'TOTAL({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'COUNT({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'STDEV({"Column Name"})'})})]}),(0,o.jsx)("p",{dir:"auto",children:"Examples:"}),(0,o.jsx)("p",{dir:"auto",children:"Find all rows that have a loss value less than the average:"}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"loss"} < AVG({"loss"})'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("h3",{dir:"auto",children:"Python Library Functions and Values"}),(0,o.jsxs)("p",{dir:"auto",children:["Functions from Python's ",(0,o.jsx)("code",{children:"random"})," library:"]}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"random.random()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"random.randint()"})})]}),(0,o.jsx)("p",{dir:"auto",children:"Note that random values are regenerated on each call, and thus only have limited use. That means that every time the DataGrid is accessed, the values will change. This would result in bizarre results if you grouped or sorted by a random value."}),(0,o.jsxs)("p",{dir:"auto",children:["Functions and values from Python's ",(0,o.jsx)("code",{children:"math"})," library:"]}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.pi"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.sqrt()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.acos()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.acosh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.asin()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.asinh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.atan()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.atan2()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.atanh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.ceil()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.cos()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.cosh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.degrees()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.exp()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.floor()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.log()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.log10()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.log2()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.radians()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.sin()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.sinh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.tan()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.tanh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.trunc()"})})]}),(0,o.jsxs)("p",{dir:"auto",children:["Functions and values from Python's ",(0,o.jsx)("code",{children:"datetime"})," library:"]}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"datetime.date(YEAR, MONTH, DAY)"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"datetime.datetime(YEAR, MONTH, DAY[, HOUR, MINUTE, SECOND])"})})]})]})},d=function(e){var n=e.callback;return(0,o.jsxs)("div",{className:"button-outline",onClick:n,children:[(0,o.jsx)("img",{src:"/filter_placeholder.png"})," ",(0,o.jsx)("span",{children:"Filter"})]})},h=function(){return(0,o.jsx)("div",{className:"button-outline",children:(0,o.jsx)("span",{children:"?"})})},f=function(e){var n=e.query,t=(0,s.unstable_useRefreshRoot)(),f=(0,a.useCallback)((function(e){"Enter"===e.key&&t({query:(0,i.Z)((0,r.Z)({},n),{whereExpr:null===filter||void 0===filter?void 0:filter.value,offset:0})})}),[n]),v=(0,a.useCallback)((function(e){var o=document.getElementById("filter");t({query:(0,i.Z)((0,r.Z)({},n),{whereExpr:null===o||void 0===o?void 0:o.value,offset:0})})}),[n]);return(0,a.useEffect)((function(){document.getElementById("filter").value=(null===n||void 0===n?void 0:n.whereExpr)||""}),[n]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{placeholder:'e.g.: {"column name"} > 0.5',id:"filter",sx:{width:"360px"},InputProps:{endAdornment:(0,o.jsx)(d,{callback:v}),sx:{fontSize:"13px"}},onKeyPress:f}),(0,o.jsx)(c.default,{fullScreen:!1,width:"50%",height:"50%",toggleElement:(0,o.jsx)(h,{}),children:(0,o.jsx)(u,{})})]})}},6295:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(7625),o=t(4199);n.default=function(e){var n=e.query,t=e.children,s=(0,i.unstable_useRefreshRoot)();return(0,r.jsx)("select",{name:"Group",id:"group",onChange:function(e){s({query:(0,o.Z)(n,"",{groupBy:e.target.value,sortBy:e.target.value,limit:1e9,offset:0})})},children:t})}},9933:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),o=t.n(i)()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(){return(0,r.jsx)("div",{style:{display:"none"},children:(0,r.jsx)(o,{data:[{x:[1,2,3],y:[2,6,3],type:"scatter",mode:"lines+markers",marker:{color:"red"}},{type:"bar",x:[1,2,3],y:[2,5,3]}],layout:{width:320,height:240,title:"A Fancy Plot"}})})}},5029:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var r=t(1799),i=t(9396),o=t(5893),s=t(7625),l=(t(7294),t(883)),a={dgid:null,limit:10,offset:0},c=function(e){var n=e.query,t=e.options,c=(0,s.unstable_useRefreshRoot)(),u={menuPortal:function(e){return(0,i.Z)((0,r.Z)({},e),{zIndex:9999})},menu:function(e){return(0,i.Z)((0,r.Z)({},e),{zIndex:9999})}};return(0,o.jsx)(l.default,{defaultValue:t.find((function(e){return e.value.endsWith(null===n||void 0===n?void 0:n.dgid)}))||"",options:t,styles:u,onChange:function(e){c({query:(0,i.Z)((0,r.Z)({},a),{dgid:e.value})})}})}},9025:function(e,n,t){"use strict";t.r(n);var r=t(1799),i=t(9396),o=t(5893),s=t(1838),l=t(7625),a=t(7294);n.default=function(e){var n,t=e.query,c=e.pagination,u=e.total,d=(0,l.unstable_useRefreshRoot)(),h=(0,a.useCallback)((function(e){var n=(e-1)*(null===t||void 0===t?void 0:t.limit);n<0||n===(null===t||void 0===t?void 0:t.offset)||e-1>=u/(null===t||void 0===t?void 0:t.limit)||d({query:(0,i.Z)((0,r.Z)({},t),{offset:n})})}),[t]),f=(0,a.useMemo)((function(){return(null===t||void 0===t?void 0:t.offset)?Math.ceil((null===t||void 0===t?void 0:t.offset)/(null===t||void 0===t?void 0:t.limit))+1:1}),[t]),v=(0,a.useCallback)((function(){h(f+1)}),[f,h]),x=(0,a.useCallback)((function(){h(f-1)}),[f,h]),m=u.toLocaleString(s.Z.locale);if(0==u)n="No matching rows";else if(1==u)n="Showing 1 matching row";else if(c.length>1){var j=(((null===t||void 0===t?void 0:t.offset)||0)+1).toLocaleString(s.Z.locale),p=Math.min(((null===t||void 0===t?void 0:t.offset)||0)+(null===t||void 0===t?void 0:t.limit),u).toLocaleString(s.Z.locale);n=(0,o.jsxs)(o.Fragment,{children:["Showing"," ",(0,o.jsx)("span",{style:{fontWeight:"500"},children:"".concat(j," - ").concat(p)})," ","rows of ",m," \xa0\xa0|\xa0\xa0"," "]})}else n="Showing all ".concat(m," matching rows");return(0,o.jsxs)("div",{className:"pages",children:[n,c.length>1&&(0,o.jsxs)(o.Fragment,{children:["Page: \xa0",(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return h(1)},children:"|<"})," ","\xa0",(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:x,children:"<"}),(0,o.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value||1)},value:f,style:{width:"50px",margin:"0 8px",textAlign:"center",fontSize:"12px",fontWeight:"500"}}),(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:v,children:">"})," ","\xa0",(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return h(Math.ceil(u/(null===t||void 0===t?void 0:t.limit)))},children:">|"})]})]})}},3930:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(3707),o=t(9831);t(7294);n.default=function(e){var n=e.query,t=(0,o.useRefreshRoot)();return(0,r.jsx)(i.Z,{className:"cached-icon",onClick:function(){t({query:n,expiration:Date.now()})}})}},9378:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),o=t.n(i),s=t(4980),l=t(1830),a=o()((function(){return Promise.resolve().then(t.bind(t,1437))}),{loadableGenerated:{webpack:function(){return[1437]}},ssr:!1}),c=o()((function(){return t.e(629).then(t.bind(t,1629))}),{loadableGenerated:{webpack:function(){return[1629]}},ssr:!1}),u=function(){return(0,r.jsxs)("div",{className:"button-outline",children:[(0,r.jsx)("img",{src:"/sort_icon.png"})," ",(0,r.jsx)("span",{children:"Sort"})]})},d=function(){return(0,r.jsxs)("div",{className:"button-outline",children:[(0,r.jsx)("img",{src:"/group_placeholder.png"})," ",(0,r.jsx)("span",{children:"Group by"})]})},h=function(){return(0,r.jsxs)("div",{className:"button-outline",children:[(0,r.jsx)("img",{src:"/columns_placeholder.png"})," ",(0,r.jsx)("span",{children:"Columns"})]})};n.default=function(e){var n=e.columns,t=e.query,i=e.options;return(0,r.jsxs)("div",{className:"select-row",children:[(0,r.jsx)(c,{toggleElement:(0,r.jsx)(d,{}),children:(0,r.jsx)(a,{query:t,subtrees:["groupBy","sortBy"],columns:n})}),(0,r.jsx)(c,{toggleElement:(0,r.jsx)(u,{}),children:(0,r.jsx)(a,{query:t,subtree:"sortBy",columns:n})}),(0,r.jsx)(s.default,{toggleElement:(0,r.jsx)(h,{}),sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"540px"}}},children:(0,r.jsx)(a,{query:t,isMulti:!0,columns:n,defaultOptions:i})}),(0,r.jsx)(l.default,{query:t})]})}},4958:function(e,n,t){"use strict";t.r(n);var r=t(1799),i=t(9396),o=t(5893),s=t(7625);n.default=function(e){var n=e.query,t=e.children,l=(0,s.unstable_useRefreshRoot)();return(0,o.jsx)("select",{name:"Sort",id:"sort",onChange:function(e){l({query:(0,i.Z)((0,r.Z)({},n),{sortBy:e.target.value,offset:0})})},children:t})}},3340:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(4810);n.default=function(e){var n=e.children;return(0,r.jsx)(i.Z,{injectFirst:!0,children:(0,r.jsx)("div",{className:"main",children:(0,r.jsx)("div",{className:"page",children:n})})})}},1838:function(e,n,t){"use strict";var r=t(3454),i={apiUrl:"http://".concat(r.env.KANGAS_HOST,":").concat(r.env.KANGAS_BACKEND_PORT,"/datagrid/"),apiProxyUrl:"http://".concat(r.env.KANGAS_HOST,":").concat(r.env.KANGAS_BACKEND_PORT,"/datagrid/"),defaultDecimalPrecision:5,locale:"en-US"};r.env.KANGAS_BACKEND_PROXY&&(r.env.KANGAS_BACKEND_PROXY.endsWith("/")?i.apiProxyUrl="".concat(r.env.KANGAS_BACKEND_PROXY,"datagrid/"):i.apiProxyUrl="".concat(r.env.KANGAS_BACKEND_PROXY,"/datagrid/")),n.Z=i},1763:function(e,n,t){"use strict";var r=t(1438),i=t(2951),o=t(2825);function s(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return String(e).padStart(n,t)}var l=function(){function e(n){(0,r.Z)(this,e),this.obj=new Date(1e3*n),this.year=s(this.obj.getFullYear(),4),this.month=s(this.obj.getDate(),2),this.day=s(this.obj.getDate(),2),this.hour=s(this.obj.getHours(),2),this.minute=s(this.obj.getMinutes(),2),this.second=s(this.obj.getSeconds(),2)}return(0,i.Z)(e,[{key:"format",value:function(){return"00"===this.hour&&"00"===this.minute&&"00"===this.second?"".concat(this.year,"-").concat(this.month,"-").concat(this.day):"".concat(this.year,"-").concat(this.month,"-").concat(this.day," ").concat(this.hour,":").concat(this.minute,":").concat(this.second)}}]),e}();n.Z=function(e,n){if(null===e)return"None";var t=e;return"DATETIME"===n?t=new l(e).format("YYYY-MM-DD HH:mm:ss"):"FLOAT"===n?t=(0,o.Z)(e).toString():"string"!==typeof e&&(t=e.toString()),t}},1663:function(e,n,t){"use strict";t.d(n,{Lq:function(){return o},Qg:function(){return s}});var r=t(9815),i=function(e){var n=["#ffd51d","#ffbd00","#ff8900","#fb7628","#ff4747","#e51772","#cf0057","#6e1d89","#860dab","#49a5bd","#0096c7","#00b4d8","#12a592","#16cab2","#41ead4"];return n[e%n.length]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(["1","true","t","yes"].includes(e.toLowerCase()))return"#12a592";if(["0","false","f","no"].includes(e.toLowerCase()))return"#cf0057";var n=(0,r.Z)(e).reduce((function(e,n){return n.charCodeAt(0)+((e<<5)-e)}),0);return i(Math.abs(n))},s=function(e){var n=function(e){var n=e.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/);return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}(e),t=n[0],r=n[1],i=n[2];return Math.round((299*t+587*r+114*i)/1e3)>125?"black":"white"}},4199:function(e,n,t){"use strict";var r=t(1799);n.Z=function(e,n,t){return function(e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").trim();if(!t.length)return(0,r.Z)({},e,n);var i=t.match(/([^[.\]])+/g);return i.reduce((function(e,t,r){return void 0===e[t]&&(e[t]={}),r===i.length-1&&(e[t]=n),e[t]}),e),e}((0,r.Z)({},e),n,t)}},2825:function(e,n,t){"use strict";var r=t(828),i=t(1838);n.Z=function(e,n){var t=null!==n&&void 0!==n?n:i.Z.defaultDecimalPrecision;if(null===t)return e;var o=Number(e);if(isNaN(o))return e;if(Number.isInteger(o)||function(e){if(Math.floor(e)===e)return 0;var n=(0,r.Z)(e.toString().split("."),2)[1];return(void 0===n?"":n).length}(o)<=t)return o;var s=Math.pow(10,t);return Math.floor(o*s)/s}}},function(e){e.O(0,[774,234],(function(){return n=6884,e(e.s=n);var n}));var n=e.O();_N_E=n}]);