(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{4239:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/notification",function(){return t(3947)}])},311:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var i=t(6042),o=t(9396),r=t(5893),a=t(7294),s=t(1163),c=t(9008),l=t.n(c),d=t(562),u=t(8849),p=t(3648),m=t(2971),h=t(2097),f=t(5050),g=t(6336),v=t(784),x=t(9072),y=t(5084),w=t(9630),j=t(1953);function Z(e){var n=e.children,t=(0,m.Z)({disableHysteresis:!0,threshold:24});return(0,a.cloneElement)(n,{elevation:t?4:0})}var b=function(){var e=(0,a.useState)(!1),n=e[0],t=e[1],i=((0,a.useCallback)((function(){t(!n)}),[n]),(0,h.Z)());return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Z,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{color:"transparent",elevation:0,children:(0,r.jsx)(g.Z,{maxWidth:"xl",sx:{padding:0},children:(0,r.jsx)(v.Z,{sx:{minHeight:50,maxHeight:50,padding:0,flex:1,alignItems:"center",justifyContent:"space-between",display:"flex",flexWrap:"nowrap"},children:(0,r.jsx)(x.ZP,{item:!0,children:(0,r.jsx)(y.Z,{href:"https://system-bridge.timmo.dev",target:"_blank",children:(0,r.jsx)(w.Z,{component:"div",variant:"h4",sx:{textTransform:"none",userSelect:"none",color:i.palette.primary.contrastText},children:"System Bridge"})})})})})}),(0,r.jsx)(j.Z,{sx:{height:i.spacing(18)}})]})})})},k=!1;var C=function(e){var n=(0,s.useRouter)();return(0,a.useEffect)((function(){if(n.isReady&&!k){var e,t,r,a;k=!0;var s=(null===(e=n.query)||void 0===e?void 0:e.apiKey)||"",c=(null===(t=n.query)||void 0===t?void 0:t.apiPort)||"9170",l=!1;if((null===(r=n.query)||void 0===r?void 0:r.apiKey)||(l=!0,s=window.prompt("Please enter your API key",s)),(null===(a=n.query)||void 0===a?void 0:a.apiPort)||(l=!0,c=window.prompt("Please enter your API port (default: 9170)",c)),l&&s&&c){var d=n.asPath.split("?")[0];n.replace({pathname:d.includes(".html")?d:"".concat(d,".html"),query:(0,o.Z)((0,i.Z)({},n.query),{apiKey:s,apiPort:c})})}}}),[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,r.jsx)("link",{rel:"canonical",href:e.url}),(0,r.jsx)("meta",{name:"description",content:e.description?"".concat(e.description):e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,r.jsx)("meta",{name:"keywords",content:e.keywords?"".concat(e.keywords):"system-bridge, system, bridge, typescript"})]}),!e.noHeader&&(0,r.jsx)(b,{}),e.closeButton&&(0,r.jsx)(d.Z,{size:"small",sx:{position:"absolute",top:4,right:4,zIndex:1e3},onClick:function(){window.location.href="http://close.window"},children:(0,r.jsx)(u.Icon,{id:"close",path:p.r5M,size:1})}),e.children]})}},3947:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var i=t(5893),o=t(7294),r=t(1163),a=t(2097),s=t(3366),c=t(7462),l=t(5408),d=t(8700),u=t(9707),p=t(9766),m=t(1719),h=t(8884);const f=["component","direction","spacing","divider","children"];function g(e,n){const t=o.Children.toArray(e).filter(Boolean);return t.reduce(((e,i,r)=>(e.push(i),r<t.length-1&&e.push(o.cloneElement(n,{key:`separator-${r}`})),e)),[])}const v=(0,m.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>[n.root]})((({ownerState:e,theme:n})=>{let t=(0,c.Z)({display:"flex",flexDirection:"column"},(0,l.k9)({theme:n},(0,l.P$)({values:e.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const i=(0,d.hB)(n),o=Object.keys(n.breakpoints.values).reduce(((n,t)=>(("object"===typeof e.spacing&&null!=e.spacing[t]||"object"===typeof e.direction&&null!=e.direction[t])&&(n[t]=!0),n)),{}),r=(0,l.P$)({values:e.direction,base:o}),a=(0,l.P$)({values:e.spacing,base:o});"object"===typeof r&&Object.keys(r).forEach(((e,n,t)=>{if(!r[e]){const i=n>0?r[t[n-1]]:"column";r[e]=i}}));const s=(n,t)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=t?r[t]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,d.NA)(i,n)}};var o};t=(0,p.Z)(t,(0,l.k9)({theme:n},a,s))}return t=(0,l.dt)(n.breakpoints,t),t})),x=o.forwardRef((function(e,n){const t=(0,h.Z)({props:e,name:"MuiStack"}),o=(0,u.Z)(t),{component:r="div",direction:a="column",spacing:l=0,divider:d,children:p}=o,m=(0,s.Z)(o,f),x={direction:a,spacing:l};return(0,i.jsx)(v,(0,c.Z)({as:r,ownerState:x,ref:n},m,{children:d?g(p,d):p}))}));var y=x,w=t(6010),j=t(4780),Z=t(4867);function b(e){return(0,Z.Z)("MuiCardMedia",e)}(0,t(1588).Z)("MuiCardMedia",["root","media","img"]);const k=["children","className","component","image","src","style"],C=(0,m.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e,{isMediaComponent:i,isImageComponent:o}=t;return[n.root,i&&n.media,o&&n.img]}})((({ownerState:e})=>(0,c.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"}))),P=["video","audio","picture","iframe","img"],S=["picture","img"],M=o.forwardRef((function(e,n){const t=(0,h.Z)({props:e,name:"MuiCardMedia"}),{children:o,className:r,component:a="div",image:l,src:d,style:u}=t,p=(0,s.Z)(t,k),m=-1!==P.indexOf(a),f=!m&&l?(0,c.Z)({backgroundImage:`url("${l}")`},u):u,g=(0,c.Z)({},t,{component:a,isMediaComponent:m,isImageComponent:-1!==S.indexOf(a)}),v=(e=>{const{classes:n,isMediaComponent:t,isImageComponent:i}=e,o={root:["root",t&&"media",i&&"img"]};return(0,j.Z)(o,b,n)})(g);return(0,i.jsx)(C,(0,c.Z)({className:(0,w.Z)(v.root,r),as:a,role:!m&&l?"img":void 0,ref:n,style:f,ownerState:g,src:m?l||d:void 0},p,{children:o}))}));var _=M,I=t(9630),N=t(5084),R=t(7568),B=t(1438),E=t(655),q=t(196),A=function(){function e(n,t){(0,B.Z)(this,e),this.apiKey=t,this.port=n||9170}return e.prototype.request=function(e){var n=e.body,t=e.endpoint,i=e.method,o=e.params,r=this;return(0,R.Z)((function(){var e;return(0,E.__generator)(this,(function(a){switch(a.label){case 0:return e={baseURL:"http://localhost:".concat(r.port),data:n,headers:{"api-key":r.apiKey},method:i,params:o,url:"/api/".concat(t)},[4,q.ZP.request(e)];case 1:return[2,a.sent()]}}))}))()},e}(),O=t(311);var F=function(){var e=function(e){switch(console.log("Action clicked:",e),e.command){case"api":new A(Number(t)||9170,String(s)).request(e.data).then((function(e){console.log("API Response:",e.data)})).catch((function(e){console.error("API Error:",e)}));break;case"close":window.location.href="http://close.window"}},n=(0,r.useRouter)().query,t=n.apiPort,s=n.apiKey,c=n.title,l=n.message,d=n.icon,u=n.image,p=n.actions,m=(0,o.useMemo)((function(){if(p)try{return JSON.parse(p)}catch(e){console.error(e)}return null}),[p]),h=(0,a.Z)();return(0,i.jsx)(O.Z,{title:"Notification",url:"https://system-bridge.timmo.dev",description:"Frontend for System Bridge",closeButton:!0,noHeader:!0,children:(0,i.jsxs)(y,{direction:"column",alignContent:"center",justifyContent:"flex-start",style:{height:"100vh",width:"100%",overflow:"hidden"},children:[(0,i.jsxs)(y,{direction:"row",alignContent:"center",justifyContent:"flex-start",style:{padding:h.spacing(1,1,1)},children:[d&&(0,i.jsx)(_,{component:"img",image:d,alt:"Notification Icon",sx:{height:28,width:28,margin:h.spacing(.5,0,.5,1)}}),(0,i.jsx)(I.Z,{component:"h1",variant:"h5",sx:{margin:h.spacing(0,1)},children:c})]}),l&&(0,i.jsx)(I.Z,{component:"div",variant:"body2",color:"text.secondary",sx:{padding:h.spacing(0,d?7:2,1)},children:l}),u&&(0,i.jsx)(_,{component:"img",image:u,alt:"Notification Image",sx:{height:"280px",maxHeight:"280px",maxWidth:"100%",objectFit:"contain"}}),m&&(0,i.jsx)(y,{direction:"row",alignContent:"center",justifyContent:"flex-end",sx:{padding:h.spacing(1)},children:m.map((function(n){return(0,i.jsx)(N.Z,{variant:"contained",color:"primary",sx:{margin:h.spacing(1,.5,1,.5)},onClick:function(){return e(n)},children:n.label},n.label)}))})]})})}},7568:function(e,n,t){"use strict";function i(e,n,t,i,o,r,a){try{var s=e[r](a),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(i,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var a=e.apply(n,t);function s(e){i(a,o,r,s,c,"next",e)}function c(e){i(a,o,r,s,c,"throw",e)}s(void 0)}))}}t.d(n,{Z:function(){return o}})},1438:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,{Z:function(){return i}})}},function(e){e.O(0,[702,127,196,774,888,179],(function(){return n=4239,e(e.s=n);var n}));var n=e.O();_N_E=n}]);