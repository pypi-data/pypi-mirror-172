(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{1328:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/bridges/openon",function(){return n(2555)}])},311:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(6042),i=n(9396),a=n(5893),s=n(7294),o=n(1163),c=n(9008),l=n.n(c),u=n(562),d=n(8849),p=n(3648),h=n(2971),x=n(2097),f=n(5050),m=n(6336),g=n(784),y=n(9072),v=n(5084),j=n(9630),Z=n(1953);function w(e){var t=e.children,n=(0,h.Z)({disableHysteresis:!0,threshold:24});return(0,s.cloneElement)(t,{elevation:n?4:0})}var b=function(){var e=(0,s.useState)(!1),t=e[0],n=e[1],r=((0,s.useCallback)((function(){n(!t)}),[t]),(0,x.Z)());return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{color:"transparent",elevation:0,children:(0,a.jsx)(m.Z,{maxWidth:"xl",sx:{padding:0},children:(0,a.jsx)(g.Z,{sx:{minHeight:50,maxHeight:50,padding:0,flex:1,alignItems:"center",justifyContent:"space-between",display:"flex",flexWrap:"nowrap"},children:(0,a.jsx)(y.ZP,{item:!0,children:(0,a.jsx)(v.Z,{href:"https://system-bridge.timmo.dev",target:"_blank",children:(0,a.jsx)(j.Z,{component:"div",variant:"h4",sx:{textTransform:"none",userSelect:"none",color:r.palette.primary.contrastText},children:"System Bridge"})})})})})}),(0,a.jsx)(Z.Z,{sx:{height:r.spacing(18)}})]})})})},_=!1;var k=function(e){var t=(0,o.useRouter)();return(0,s.useEffect)((function(){if(t.isReady&&!_){var e,n,a,s;_=!0;var o=(null===(e=t.query)||void 0===e?void 0:e.apiKey)||"",c=(null===(n=t.query)||void 0===n?void 0:n.apiPort)||"9170",l=!1;if((null===(a=t.query)||void 0===a?void 0:a.apiKey)||(l=!0,o=window.prompt("Please enter your API key",o)),(null===(s=t.query)||void 0===s?void 0:s.apiPort)||(l=!0,c=window.prompt("Please enter your API port (default: 9170)",c)),l&&o&&c){var u=t.asPath.split("?")[0];t.replace({pathname:u.includes(".html")?u:"".concat(u,".html"),query:(0,i.Z)((0,r.Z)({},t.query),{apiKey:o,apiPort:c})})}}}),[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,a.jsx)("link",{rel:"canonical",href:e.url}),(0,a.jsx)("meta",{name:"description",content:e.description?"".concat(e.description):e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,a.jsx)("meta",{name:"keywords",content:e.keywords?"".concat(e.keywords):"system-bridge, system, bridge, typescript"})]}),!e.noHeader&&(0,a.jsx)(b,{}),e.closeButton&&(0,a.jsx)(u.Z,{size:"small",sx:{position:"absolute",top:4,right:4,zIndex:1e3},onClick:function(){window.location.href="http://close.window"},children:(0,a.jsx)(d.Icon,{id:"close",path:p.r5M,size:1})}),e.children]})}},2555:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(5893),i=n(7294),a=n(7568),s=n(6042),o=n(9396),c=n(603),l=n(655),u=n(1163),d=n(2097),p=n(6336),h=n(9072),x=n(754),f=n(9630),m=n(1520),g=n(8769),y=n(5084),v=n(196),j=n(1946);var Z=function(){var e=(0,u.useRouter)().query,t=(0,i.useState)(),n=t[0],Z=t[1],w=(0,i.useState)(),b=w[0],_=w[1],k=(0,c.Z)((0,j.r)(),1)[0],P=(0,i.useState)(!1),S=P[0],C=P[1],K=(0,i.useState)(""),B=K[0],E=K[1],q=(0,i.useCallback)((0,a.Z)((function(){var t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return E(e.url),[4,v.ZP.get("http://".concat((e.apiHost,window.location.hostname),":").concat(e.apiPort||9170,"/bridges"),{headers:{"api-key":e.apiKey}})];case 1:return(t=n.sent())&&t.status<400&&Z(t.data.filter((function(e){return e.apiKey}))),[2]}}))})),[e.apiHost,e.apiPort,e.apiKey,e.url]);function H(){return(H=(0,a.Z)((function(){var e,t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:if(!(null===b||void 0===b?void 0:b.apiKey))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,v.ZP.post("http://".concat(b.host,":").concat(b.port,"/open"),{path:B},{headers:{"api-key":b.apiKey}})];case 2:return(e=n.sent())&&e.status<400&&console.log(e.data),[3,4];case 3:return t=n.sent(),console.error(t),[3,4];case 4:return[2]}}))}))).apply(this,arguments)}(0,i.useEffect)((function(){!S&&e&&e.apiKey&&(C(!0),q())}),[S,q,e]);var O=(0,d.Z)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(p.Z,{maxWidth:"lg",children:k||n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{component:"h2",variant:"h3",sx:{margin:O.spacing(2,1.5,6)},children:"Open URL On.."}),n?(0,r.jsx)(m.Z,{id:"bridge",options:n,value:b,getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,r.jsx)(g.Z,(0,o.Z)((0,s.Z)({},e),{label:"Bridge",variant:"outlined"}))},onChange:function(e,t){t&&_(t)},sx:{margin:O.spacing(2,2.5),width:"calc(100% - 32px)"}}):"",(0,r.jsx)(g.Z,{fullWidth:!0,id:"url",label:"URL",onChange:function(e){E(e.target.value)},type:"url",value:B,variant:"outlined",sx:{margin:O.spacing(2,2.5),width:"calc(100% - 32px)"}}),(0,r.jsx)(y.Z,{color:"primary",disabled:!b||!B,variant:"contained",onClick:function(){return H.apply(this,arguments)},sx:{margin:O.spacing(6,2.5,2),width:"calc(100% - 32px)"},children:"Send"})]}):(0,r.jsx)(h.ZP,{container:!0,direction:"row",justifyContent:"center",sx:{margin:O.spacing(10,0,8)},children:(0,r.jsx)(x.Z,{})})})})},w=n(311);var b=function(){return(0,r.jsx)(w.Z,{title:"Open URL On",url:"https://system-bridge.timmo.dev",description:"Frontend for System Bridge",noHeader:!0,children:(0,r.jsx)(Z,{})})}}},function(e){e.O(0,[702,127,913,598,769,196,520,774,888,179],(function(){return t=1328,e(e.s=t);var t}));var t=e.O();_N_E=t}]);