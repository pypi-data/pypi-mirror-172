Metadata-Version: 2.1
Name: asight
Version: 0.1.0rc1
Summary: Ascend Performance Analysis Tool.
Home-page: https://gitee.com/Ascend/Asight
Author: Zhu LiangYing
Author-email: zhuliangying@huawei.com
Maintainer: Zhu LiangYing
Maintainer-email: zhuliangying@huawei.com
License: UNKNOWN
Keywords: Asight
Platform: UNKNOWN
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Natural Language :: Chinese (Simplified)
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Requires-Python: >=3.6
Description-Content-Type: text/markdown
Provides-Extra: dev
Requires-Dist: mock ; extra == 'dev'
Requires-Dist: pytest ; extra == 'dev'
Requires-Dist: pytest-cov ; extra == 'dev'
Requires-Dist: pytest-flake8 ; extra == 'dev'
Requires-Dist: pytest-isort ; extra == 'dev'
Requires-Dist: pytest-mock ; extra == 'dev'
Requires-Dist: pytest-mypy ; extra == 'dev'
Requires-Dist: pytest-pycodestyle ; extra == 'dev'
Requires-Dist: pytest-pydocstyle ; extra == 'dev'
Requires-Dist: pytest-pylint ; extra == 'dev'
Requires-Dist: pytest-yapf3 ; extra == 'dev'
Requires-Dist: types-setuptools ; extra == 'dev'
Requires-Dist: xlrd (==1.2.0) ; extra == 'dev'
Requires-Dist: xlsxwriter ; extra == 'dev'
Requires-Dist: coverage (>=6.4.3) ; extra == 'dev'
Requires-Dist: flake8 (<5) ; extra == 'dev'
Requires-Dist: isort ; extra == 'dev'
Requires-Dist: mypy ; extra == 'dev'
Requires-Dist: pylint ; extra == 'dev'
Requires-Dist: yapf ; extra == 'dev'

# Asight
### 软件介绍
Asight是一款基于NPU的深度学习性能分析工具， 工具支持的场景如下：
* [x] 基于训练推理过程中生成的维测数据， 一键分析网络性能瓶颈，给出优化建议
* [x] 一键拉起训练推理脚本，分析并给出优化建议（待开发）

#### 安装教程
1.  pip install asight
#### 使用说明
1、使用方法
```bash
# 方法1 ： 使用--data_dir参数指定所有数据目录
asight analyze --data_dir=data
# 方法2 ： 使用--profiling_dir等参数分别指定各类数据目录
asight analyze --profiling_dir=data

``` 
2、结果说明  
(1) 屏幕打印```Problem detected```说明识别到的问题， ```Recommonded change:```给出优化建议  
(2) 在当前目录下会生成```asight.xlsx```文件， 展示详细问题和建议
#### 参数说明
参数列表

| 参数名称          | 参数说明                        | 数据类型        | 是否必选 |
|:--------------|:----------------------------|:------------|:-----|
| profiling_dir | profiling数据文件目录             | profiling数据 | 可选   |
| data_dir      | 数据目录, 按文件命名规则匹配profiling等数据 | 所有          | 可选   |

维测数据说明

| 数据类型        | 获取方式                 |     
|:------------|:---------------------|
| profiling数据 | 推理或训练时使能profiling并解析 | 


#### 分析能力说明
* **AICORE算子性能问题**
  * **BlockDim问题**：BlockDim利用率不足， 建议算子调优
  * **算子无bound问题**： 算子未达到Bound(80%)问题， 建议算子调优
  * **算子mte2 bound问题**：算子mte2利用率超过80%, 建议子图调优 
* **AICPU算子问题**： 
  * **AICPU算子问题**：存在AICPU算子，影响网络性能， 建议修改模型避免AICPU算子




