# 零、前言

Spring 框架为 Java 开发提供了极大的灵活性，这也导致了繁琐的配置工作。Spring Boot 解决了 Spring 的配置困难，使得创建独立的、生产级的基于 Spring 的应用变得容易。这本实用指南让现有的开发过程更加高效。 *Spring Boot 秘籍 2.0，第二版*巧妙结合所有技能和专业知识，使用 Spring Boot 在内部和云中高效开发、测试、部署和监控应用。我们从概述重要的 Spring Boot 特性开始，您将学习如何为 RESTful 服务创建 web 应用。您还将学习如何通过学习定制路由和资产路径来微调 web 应用的行为，以及如何修改路由模式，解决复杂企业应用的需求，并理解定制 Spring Boot 启动器的创建。
本书还包括新的和改进的工具示例，可用于创建 Spring Boot 1.4 和 2.0 中引入的各种测试，并深入了解 Spring Boot 开发工具。我们将探索 Spring Boot 云模块和各种云启动器的基础，以创建云原生应用，并利用服务发现和断路器。

# 这本书是给谁的

本书的目标读者是 Java 开发人员，他们对 Spring 和 Java 应用开发有很好的认识和理解，熟悉软件开发生命周期(SDLC)的概念，了解不同类型的测试策略、一般监控和部署问题的需求。这本书将帮助您学习高效的 Spring Boot 开发技术以及集成和扩展能力，以便使现有的开发过程更加高效。

# 这本书涵盖的内容

[第 1 章](1.html)，*Spring Boot 入门*，概述了框架中包含的重要且有用的 Spring Boot 入门工具。您将学习如何使用 [spring.io](https://spring.io/) 资源，如何开始一个简单的项目，以及如何配置构建文件以包含他们想要的启动器。本章最后将创建一个简单的命令行应用来执行一些预定的任务。

[第 2 章](2.html)，*配置 Web 应用*，提供了如何创建和添加定制 servlet 过滤器、拦截器、转换器、格式化器和属性编辑器到 Spring Boot web 应用的例子。它将从创建一个新的 web 应用开始，并以此为基础使用我们在本章前面讨论的组件进行定制。

[第 3 章](3.html)、 *Web 框架行为调优*，深入探讨 Web 应用行为的微调。它将涵盖配置定制路由规则和模式、添加额外的静态资产路径、添加和修改 servlet 容器连接器和其他属性，比如启用 SSL。

第 4 章，*编写定制的 Spring Boot 启动器*，展示了如何创建定制的 Spring Boot 启动器，以提供复杂的企业应用可能需要的额外行为和功能。您将了解自动配置机制是如何工作的，以及如何使用它们来有选择地启用/禁用默认功能和有条件地加载您自己的功能。

[第 5 章](5.html)，*应用测试*，探索测试 Spring Boot 应用的不同技术。它将首先向您介绍如何测试 MVC 应用，然后介绍一些关于如何使用内存中的数据库和预先填充的数据来模拟测试期间真实的数据库交互的技巧，最后通过 Cucumber 和 Spock 等测试工具给出 BDD 的例子。

[第 6 章](6.html)、*应用打包和部署*，将涵盖配置您的构建来为 Linux/OSX 环境生成 Docker 映像和自执行二进制文件的例子。我们将探索使用 Consul 进行外部应用配置的选项，并深入研究 Spring Boot 环境和配置功能的细节。

[第 7 章](7.html)、*健康监控和数据可视化*，探讨了 Spring Boot 提供的各种机制，以帮助我们查看与应用健康相关的数据。我们将从学习如何编写和公开自定义健康指标开始，并使用 HTTP 端点和 JMX 查看数据。然后，它将继续概述和创建 SSHd 的管理命令，并使用 Micrometer metrics 框架完成监控数据与 Graphite 和 Dashing 的集成。

[第 8 章](8.html)、 *Spring Boot 开发工具*，深入介绍了如何在应用开发过程中使用 Spring Boot 开发工具来简化动态代码重新编译/重启和远程代码更新的常见任务。我们将学习如何将 DevTools 添加到项目中，然后探索 DevTools 如何通过在代码发生变化时自动重启正在运行的应用来帮助加速开发过程。

[第 9 章](9.html)、*春云*，提供了 Spring Boot 云模块中各种特性的例子。您将学习如何使用不同的云模块进行服务发现，例如 Consul 或网飞尤里卡。稍后，我们将看看如何合并网飞库，比如 Hystrix 断路器和基于 Feign 接口的 REST 客户端。

# 从这本书中获得最大收益

对于这本书，你需要在你最喜欢的操作系统上安装 JDK 1.8，Linux，Windows，或者 OS X，假设读者对 Java 有一定的熟悉，包括 JDK 1.8 增加的最新特性，以及 Spring 框架的基本知识和它的操作概念，比如依赖注入，控制反转，MVC。

其余的软件，如 Gradle 构建工具，所有必要的 Java 库，如 Spring Boot、Spring Framework 及其依赖项，以及 Docker、Consul、Graphite、Grafana 和 Dashing 都将安装在整个菜谱中。

# 下载示例代码文件

你可以从你在[www.packtpub.com](http://www.packtpub.com)的账户下载本书的示例代码文件。如果你在其他地方购买了这本书，你可以访问 www.packtpub.com/support 的[并注册，让文件直接通过电子邮件发送给你。](http://www.packtpub.com/support)

您可以按照以下步骤下载代码文件:

1.  在[www.packtpub.com](http://www.packtpub.com/support)登录或注册。
2.  选择支持选项卡。
3.  点击代码下载和勘误表。
4.  在搜索框中输入图书名称，然后按照屏幕指示进行操作。

下载文件后，请确保使用最新版本的解压缩或解压文件夹:

*   WinRAR/7-Zip for Windows
*   适用于 Mac 的 Zipeg/iZip/UnRarX
*   用于 Linux 的 7-Zip/PeaZip

这本书的代码包也托管在 GitHub 的 https://GitHub . com/packt publishing/Spring-Boot-2.0-Cookbook-Second-Edition 上。如果代码有更新，它将在现有的 GitHub 库中更新。

我们在也有丰富的书籍和视频目录中的其他代码包。看看他们！

# 使用的惯例

本书通篇使用了许多文本约定。

`CodeInText`:表示文本中的码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、伪 URL、用户输入和 Twitter 句柄。下面是一个例子:“现在我们将为`LocaleChangeInterceptor`添加一个`@Bean`声明。”

代码块设置如下:

```java
@Override 
public void addInterceptors(InterceptorRegistry registry) { 
  registry.addInterceptor(localeChangeInterceptor()); 
} 
```

当我们希望将您的注意力吸引到代码块的特定部分时，相关的行或项目以粗体显示:

```java
[default]
exten => s,1,Dial(Zap/1|30)
exten => s,2,Voicemail(u100)
exten => s,102,Voicemail(b100)
exten => i,1,Voicemail(s0)
```

任何命令行输入或输出都按如下方式编写:

```java
$ ./gradlew clean bootRun
```

**Bold** :表示一个新术语、一个重要单词或您在屏幕上看到的单词。例如，菜单或对话框中的单词出现在文本中，如下所示。下面是一个例子:“选择搜索依赖项下的执行器选项。”

警告或重要提示如下所示。

提示和技巧是这样出现的。

# 部分

在这本书里，你会发现几个经常出现的标题(*做好准备*，*怎么做...*、*工作原理...*，*还有更多...*和*参见*。

要给出如何完成秘籍的明确说明，请使用以下章节:

# 做好准备

本节将告诉您制作方法的内容，并介绍如何设置制作方法所需的任何软件或任何初步设置。

# 怎么做...

本节包含遵循秘籍所需的步骤。

# 它是如何工作的...

这一部分通常包括对前一部分发生的事情的详细解释。

# 还有更多...

这一部分包含了关于秘籍的附加信息，以使你对秘籍有更多的了解。

# 请参见

这个部分提供了一些有用的链接，可以链接到秘籍的其他有用信息。

# 取得联系

我们随时欢迎读者的反馈。

**总体反馈**:发送电子邮件`feedback@packtpub.com`，在邮件主题中提及书名。如果您对本书的任何方面有疑问，请发邮件至`questions@packtpub.com`联系我们。

**勘误表**:虽然我们已经尽力确保内容的准确性，但错误还是会发生。如果你在这本书里发现了一个错误，请告诉我们，我们将不胜感激。请访问 www.packtpub.com/submit-errata，选择您的图书，点击勘误表提交表格链接，并输入详细信息。

**盗版**:如果您在互联网上遇到我们作品的任何形式的非法拷贝，如果您能提供我们的地址或网站名称，我们将不胜感激。请通过`copyright@packtpub.com`联系我们，并提供材料链接。

**如果你有兴趣成为一名作家**:如果有你擅长的主题，并且你有兴趣写书或投稿，请访问 authors.packtpub.com。

# 复习

请留下评论。一旦你阅读并使用了这本书，为什么不在你购买它的网站上留下评论呢？潜在的读者可以看到并使用您不带偏见的意见来做出购买决定，我们 Packt 可以了解您对我们产品的看法，我们的作者可以看到您对他们的书的反馈。谢谢大家！

更多关于 Packt 的信息，请访问[packtpub.com](https://www.packtpub.com/)。