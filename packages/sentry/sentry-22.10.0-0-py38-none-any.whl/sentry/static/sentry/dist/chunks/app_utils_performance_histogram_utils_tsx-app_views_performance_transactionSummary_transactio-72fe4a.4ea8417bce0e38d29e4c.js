(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_utils_performance_histogram_utils_tsx-app_views_performance_transactionSummary_transactio-72fe4a","node_modules_lodash_mean_js","vendors-node_modules_downsample_methods_ASAP_js-node_modules_lodash_maxBy_js-node_modules_lod-38e034","vendors-node_modules_downsample_methods_ASAP_js-node_modules_lodash_mean_js-node_modules_loda-e019d3"],{"./app/utils/performance/histogram/utils.tsx":(r,t,e)=>{"use strict";e.d(t,{GT:()=>s,_W:()=>a,te:()=>o}),e("../node_modules/core-js/modules/es.error.cause.js");var n=e("./app/utils/formatters.tsx");function o(r){return r.length>=2?r[1].bin-r[0].bin:0}function a(r){const t=o(r);return r.map((r=>{const e=r.bin;return{start:e,end:e+t}}))}function s(r){let{precision:t,type:e,additionalFieldsFn:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=r=>{switch(e){case"duration":const o=t??(r<1e3?0:3);return(0,n.g9)(r/1e3,o,!0);case"number":const a=10**(t??0);return(Math.round((r+Number.EPSILON)*a)/a).toLocaleString();default:throw new Error(`Unable to format type: ${e}`)}};return r.map((r=>({value:r.count,name:a(r.bin),...o?.(r.bin)??{}})))}},"./app/views/performance/transactionSummary/transactionEvents/utils.tsx":(r,t,e)=>{"use strict";e.d(t,{Zq:()=>c,_S:()=>l,q3:()=>i,qg:()=>h,tb:()=>d,xr:()=>u}),e("../node_modules/core-js/modules/es.array.includes.js");var n=e("./app/locale.tsx"),o=e("./app/utils/queryString.tsx"),a=e("./app/views/performance/transactionSummary/filter.tsx"),s=e("./app/views/performance/transactionSummary/utils.tsx");let i;function l(r,t){const{p99:e,p95:o,p75:s,p50:l}=t||{p99:0,p95:0,p75:0,p50:0};return{[i.p50]:{name:i.p50,query:l?[["transaction.duration",`<=${l.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(r)||"transaction.duration"},label:(0,n.t)("p50")},[i.p75]:{name:i.p75,query:s?[["transaction.duration",`<=${s.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(r)||"transaction.duration"},label:(0,n.t)("p75")},[i.p95]:{name:i.p95,query:o?[["transaction.duration",`<=${o.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(r)||"transaction.duration"},label:(0,n.t)("p95")},[i.p99]:{name:i.p99,query:e?[["transaction.duration",`<=${e.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(r)||"transaction.duration"},label:(0,n.t)("p99")},[i.p100]:{name:i.p100,label:(0,n.t)("p100")}}}function u(r){let{orgSlug:t,transaction:e,projectID:n,query:o}=r;return{pathname:`/organizations/${t}/performance/summary/events/`,query:{transaction:e,project:n,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}function d(r){return t=(0,o.ro)(r.query.showTransactions,i.p100),Object.values(i).includes(t)?t:i.p100;var t}function h(r,t){const e=l(t),n=e[r].sort?.kind,o=e[r].sort?.field,a={showTransactions:r};return n&&o&&(a.sort=`${"desc"===n?"-":""}${o}`),a}function c(r){switch(r){case s.K0.OUTLIER:return i.p100;case s.K0.SLOW:return i.p95;default:return}}!function(r){r.p50="p50",r.p75="p75",r.p95="p95",r.p99="p99",r.p100="p100"}(i||(i={}))},"../node_modules/downsample/methods/ASAP.js":(r,t)=>{"use strict";function e(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var n={"PointValueExtractor<unknown>":r=>"function"==typeof r,XYDataPoint:r=>null!=r&&n.X(r.x)&&"number"==typeof r.y,X:r=>"number"==typeof r||r instanceof Date},o=r=>{for(var t=0,e=0;e<r.length;e+=1)t+=r[e];return t/r.length},a=(r,t)=>{for(var e=r.length,n=new Array(e),o=0;o<e;o++)n[o]=t(r[o],o);return n},s=r=>n["PointValueExtractor<unknown>"](r)?r:t=>t[r],i=(r,t)=>({x:r,y:t}),l=()=>({x:r=>{var t=n.XYDataPoint(r)?r.x:r[0];return t instanceof Date?t.getTime():t},y:r=>"y"in r?r.y:r[1],toPoint:i}),u=(r,t)=>new r.constructor(t),d=function(r,t){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],o=0,a=0;a<t;a++)o+=r[a];for(var s=t;s<=r.length;s++)(s-t)%e==0&&n.push(o/t),o+=r[s]-r[s-t];return n},h=r=>{var t=s(r.x),e=s(r.y),n=r.toPoint;return function(r,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===r.length)return r;for(var i,l=a(r,e),d=a(r,t),h=u(r,0),c=0,f=0;f<o;f++)c+=l[f];for(var p=o;p<=l.length;p++)(p-o)%s==0&&(i=n((d[p-o]+d[p-1])/2,c/o,p-o),h[h.length]=i),c+=l[p]-l[p-o];return h}};function c(r,t){if(r.length!=t.length)throw"Mismatched lengths";var e=r.length;0!=e&&(0==(e&e-1)?function(r,t){if(r.length!=t.length)throw"Mismatched lengths";var e=r.length;if(1!=e){for(var n=-1,o=0;o<32;o++)1<<o==e&&(n=o);if(-1==n)throw"Length is not a power of 2";for(var a=new Array(e/2),s=new Array(e/2),i=0;i<e/2;i++)a[i]=Math.cos(2*Math.PI*i/e),s[i]=Math.sin(2*Math.PI*i/e);for(var l=0;l<e;l++){var u=p(l,n);if(u>l){var d=r[l];r[l]=r[u],r[u]=d,d=t[l],t[l]=t[u],t[u]=d}}for(var h=2;h<=e;h*=2)for(var c=h/2,f=e/h,m=0;m<e;m+=h)for(var v=m,g=0;v<m+c;v++,g+=f){var _=r[v+c]*a[g]+t[v+c]*s[g],y=-r[v+c]*s[g]+t[v+c]*a[g];r[v+c]=r[v]-_,t[v+c]=t[v]-y,r[v]+=_,t[v]+=y}}}(r,t):function(r,t){if(r.length!=t.length)throw"Mismatched lengths";for(var e=r.length,n=1;n<2*e+1;)n*=2;for(var o=new Array(e),a=new Array(e),s=0;s<e;s++){var i=s*s%(2*e);o[s]=Math.cos(Math.PI*i/e),a[s]=Math.sin(Math.PI*i/e)}for(var l=new Array(n),u=new Array(n),d=0;d<e;d++)l[d]=r[d]*o[d]+t[d]*a[d],u[d]=-r[d]*a[d]+t[d]*o[d];for(var h=e;h<n;h++)l[h]=u[h]=0;var p=new Array(n),m=new Array(n);p[0]=o[0],m[0]=a[0];for(var v=1;v<e;v++)p[v]=p[n-v]=o[v],m[v]=m[n-v]=a[v];for(var g=e;g<=n-e;g++)p[g]=m[g]=0;var _=new Array(n),y=new Array(n);!function(r,t,e,n,o,a){if(r.length!=t.length||r.length!=e.length||e.length!=n.length||r.length!=o.length||o.length!=a.length)throw"Mismatched lengths";var s=r.length;r=r.slice(),t=t.slice(),e=e.slice(),n=n.slice(),c(r,t),c(e,n);for(var i=0;i<s;i++){var l=r[i]*e[i]-t[i]*n[i];t[i]=t[i]*e[i]+r[i]*n[i],r[i]=l}f(r,t);for(var u=0;u<s;u++)o[u]=r[u]/s,a[u]=t[u]/s}(l,u,p,m,_,y);for(var w=0;w<e;w++)r[w]=_[w]*o[w]+y[w]*a[w],t[w]=-_[w]*a[w]+y[w]*o[w]}(r,t))}function f(r,t){c(t,r)}function p(r,t){for(var e=0,n=0;n<t;n++)e=e<<1|1&r,r>>>=1;return e}h(l());var m,v,g,_=r=>(r=>{for(var t=o(r),e=0,n=0;n<r.length;n+=1)e+=(r[n]-t)*(r[n]-t);return Math.sqrt(e/r.length)})((r=>{var t=r.length-1;if(t<1)return[];for(var e=new Array(t),n=0;n<t;n++)e[n]=r[n+1]-r[n];return e})(r)),y=r=>{for(var t,e,n=r.length,a=o(r),s=0,i=0,l=0;l<n;l++)s+=(e=(t=r[l]-a)*t)*e,i+=e;return n*s/(i*i)},w=(m=l(),v=s(m.y),g=h(m),function r(t,n){if(0===t.length)return t;if(n<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(n));if(t.length>=2*n){var s=Math.trunc(t.length/n);return r(g(t,s,s),n)}for(var i=a(t,v),l=((r,t)=>{for(var n=r.length,a=o(r),s=Math.pow(2,Math.trunc(Math.log2(n))+1),i=new Array(s).fill(0),l=new Array(s).fill(0),u=0;u<n;u+=1)i[u]=r[u]-a;c(i,l);for(var d=0;d<i.length;d+=1)i[d]=Math.pow(i[d],2)+Math.pow(l[d],2),l[d]=0;f(i,l);for(var h=[],p=1;p<t;p++)h[p]=i[p]/i[0];var m=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,e=r.length;if(e<=1)return[[],0];var n=0,o=[];if(r.length>1)for(var a=r[1]>r[0],s=1,i=2;i<r.length;i+=1)!a&&r[i]>r[i-1]?(s=i,a=!a):a&&r[i]>r[s]?s=i:a&&r[i]<r[i-1]&&(s>1&&r[s]>t&&(o.push(s),r[s]>n&&(n=r[s])),a=!a);if(o.length<=1)for(var l=2;l<e;l+=1)o.push(l);return[o,n]}(h),v=function(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],n=!0,o=!1,a=void 0;try{for(var s,i=r[Symbol.iterator]();!(n=(s=i.next()).done)&&(e.push(s.value),!t||e.length!==t);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return e}}(r,t)||function(r,t){if(r){if("string"==typeof r)return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(r,t):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(m,2);return{correlations:h,peaks:v[0],maxCorrelation:v[1]}})(i,Math.round(i.length/10)),u=l.correlations,h=l.peaks,p=l.maxCorrelation,m=y(i),w=_(i),b=1,x=1,j=-1,M=i.length/10,A=h.length-1;A>=0;A-=1){var S=h[A];if(S<x||1===S)break;if(!(Math.sqrt(1-u[S])*b>Math.sqrt(1-u[b])*S)){var q=d(i,S,1),P=y(q),k=_(q);P>=m&&(k<w&&(w=k,b=S),x=Math.round(Math.max(S*Math.sqrt((p-1)/(u[S]-1)),x)),j<0&&(j=A))}}return j>0&&(j<h.length-2&&(M=h[j+1]),x=Math.max(x,h[j]+1)),b=((r,t,e,n,o,a)=>{for(;r<=t;){var s=Math.round((r+t)/2),i=d(e,s,1);if(y(i)>=o){var l=_(i);l<n&&(a=s,n=l),r=s+1}else t=s-1}return a})(x,M,i,w,m,b),g(t,b,1)});t.Cl=w},"../node_modules/lodash/_baseLt.js":r=>{r.exports=function(r,t){return r<t}},"../node_modules/lodash/_baseMean.js":(r,t,e)=>{var n=e("../node_modules/lodash/_baseSum.js");r.exports=function(r,t){var e=null==r?0:r.length;return e?n(r,t)/e:NaN}},"../node_modules/lodash/_baseSum.js":r=>{r.exports=function(r,t){for(var e,n=-1,o=r.length;++n<o;){var a=t(r[n]);void 0!==a&&(e=void 0===e?a:e+a)}return e}},"../node_modules/lodash/maxBy.js":(r,t,e)=>{var n=e("../node_modules/lodash/_baseExtremum.js"),o=e("../node_modules/lodash/_baseGt.js"),a=e("../node_modules/lodash/_baseIteratee.js");r.exports=function(r,t){return r&&r.length?n(r,a(t,2),o):void 0}},"../node_modules/lodash/mean.js":(r,t,e)=>{var n=e("../node_modules/lodash/_baseMean.js"),o=e("../node_modules/lodash/identity.js");r.exports=function(r){return n(r,o)}},"../node_modules/lodash/min.js":(r,t,e)=>{var n=e("../node_modules/lodash/_baseExtremum.js"),o=e("../node_modules/lodash/_baseLt.js"),a=e("../node_modules/lodash/identity.js");r.exports=function(r){return r&&r.length?n(r,a,o):void 0}},"../node_modules/lodash/negate.js":r=>{r.exports=function(r){if("function"!=typeof r)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!r.call(this);case 1:return!r.call(this,t[0]);case 2:return!r.call(this,t[0],t[1]);case 3:return!r.call(this,t[0],t[1],t[2])}return!r.apply(this,t)}}},"../node_modules/lodash/omitBy.js":(r,t,e)=>{var n=e("../node_modules/lodash/_baseIteratee.js"),o=e("../node_modules/lodash/negate.js"),a=e("../node_modules/lodash/pickBy.js");r.exports=function(r,t){return a(r,o(n(t)))}}}]);
//# sourceMappingURL=../sourcemaps/app_utils_performance_histogram_utils_tsx-app_views_performance_transactionSummary_transactio-72fe4a.240c29efe109813f8865796cd5a2e838.js.map