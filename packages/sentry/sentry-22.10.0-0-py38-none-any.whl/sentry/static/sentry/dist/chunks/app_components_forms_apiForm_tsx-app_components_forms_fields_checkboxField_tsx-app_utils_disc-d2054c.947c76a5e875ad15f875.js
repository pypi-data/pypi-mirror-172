(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_forms_apiForm_tsx-app_components_forms_fields_checkboxField_tsx-app_utils_disc-d2054c"],{"./app/components/events/interfaces/spans/constants.tsx":(e,t,n)=>{"use strict";n.d(t,{DX:()=>r,S5:()=>c,ZR:()=>o,bl:()=>a,h0:()=>i,rz:()=>s,tJ:()=>u});const r=120,s=4,a=r/s,i=20,o=r+i+20+1,c=18,u=10},"./app/components/events/interfaces/spans/utils.tsx":(e,t,n)=>{"use strict";if(n.d(t,{BU:()=>G,IG:()=>j,Io:()=>H,PA:()=>N,PC:()=>M,PQ:()=>U,Rr:()=>R,TC:()=>V,Zv:()=>J,ct:()=>$,h_:()=>O,hw:()=>D,is:()=>q,k9:()=>C,kP:()=>w,ll:()=>Q,n0:()=>P,o0:()=>L,on:()=>X,rF:()=>z,ro:()=>I,sT:()=>Y,vu:()=>B,yk:()=>A,yn:()=>F}),"app"==n.j)var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js");n("../node_modules/core-js/modules/es.array.includes.js");var s=n("../node_modules/react-router/es/index.js"),a=n("../node_modules/lodash/isNumber.js"),i=n.n(a),o=n("../node_modules/lodash/isString.js"),c=n.n(o),u=n("../node_modules/lodash/maxBy.js"),l=n.n(u),p=n("../node_modules/lodash/set.js"),d=n.n(p),m=n("../node_modules/moment/moment.js"),h=n.n(m),f=n("./app/components/performance/waterfall/treeConnector.tsx"),g=n("./app/types/event.tsx");if("app"==n.j)var v=n("./app/types/utils.tsx");var S=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),x=n("./app/utils/fields/index.ts"),y=n("./app/utils/performance/vitals/constants.tsx"),_=n("./app/utils/performanceForSentry.tsx"),b=n("./app/components/events/interfaces/spans/constants.tsx");const w=e=>{const t=(0,_.Zz)();if(!t||0===e)return;const n=[10,100,200,300,400,500,600,700,800,900,1001].find((t=>e<=t))||-1;t.setTag("ui.spanCount",e),t.setTag("ui.spanCount.grouped",`<=${n}`)},E=e=>{const{startTimestamp:t,endTimestamp:n}=e;return t>n?{startTimestamp:n,endTimestamp:t}:e};let T;!function(e){e[e.Stable=0]="Stable",e[e.Reversed=1]="Reversed",e[e.Equal=2]="Equal"}(T||(T={}));const j=e=>{const{viewStart:t,viewEnd:n}=e,{startTimestamp:r,endTimestamp:s}=E({startTimestamp:e.traceStartTimestamp,endTimestamp:e.traceEndTimestamp}),a=s-r,i=r+t*a,o=s-(1-n)*a-i;return e=>{if(a<=0)return{type:"TRACE_TIMESTAMPS_EQUAL",isSpanVisibleInView:!0};if(o<=0)return{type:"INVALID_VIEW_WINDOW",isSpanVisibleInView:!0};const{startTimestamp:t,endTimestamp:n}=E(e),r=(e=>{const t=e.startTimestamp,n=e.endTimestamp;return t<n?T.Stable:t===n?T.Equal:T.Reversed})(e),s=(t-i)/o,c=(n-i)/o,u=c>0&&s<1;switch(r){case T.Equal:return{type:"TIMESTAMPS_EQUAL",start:s,width:1,isSpanVisibleInView:c>=0&&s<=1};case T.Reversed:return{type:"TIMESTAMPS_REVERSED",start:s,end:c,isSpanVisibleInView:u};case T.Stable:return{type:"TIMESTAMPS_STABLE",start:s,end:c,isSpanVisibleInView:u};default:return r}}};function P(e){return{trace_id:e.traceID,span_id:e.rootSpanID,parent_span_id:e.parentSpanID,start_timestamp:e.traceStartTimestamp,timestamp:e.traceEndTimestamp,op:e.op,description:e.description,data:{},status:e.rootSpanStatus,hash:e.hash,exclusive_time:e.exclusiveTime}}function V(e){return{start:h().unix(e.start).subtract(12,"hours").utc().format("YYYY-MM-DDTHH:mm:ss.SSS"),end:h().unix(e.end).add(12,"hours").utc().format("YYYY-MM-DDTHH:mm:ss.SSS")}}function D(e){return"type"in e&&"gap"===e.type}function I(e){if("type"in e){if("orphan"===e.type)return!0;if("gap"===e.type)return e.isOrphan}return!1}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return D(e)?t:e.span_id}function A(e){if(!D(e))return e.op}function N(e){return e?.contexts?.trace}function C(e){const t=e.entries.find((e=>e.type===g.UZ.SPANS)),n=t?.data??[],r=N(e),s=r&&r.trace_id||"",a=r&&r.span_id||"",o=r&&r.op||"transaction",u=r&&r.description,l=r&&r.parent_span_id,p=r&&r.status,m=r&&r.hash,h=r&&r.exclusive_time;if(!t||n.length<=0)return{op:o,childSpans:{},traceStartTimestamp:e.startTimestamp,traceEndTimestamp:e.endTimestamp,traceID:s,rootSpanID:a,rootSpanStatus:p,parentSpanID:l,spans:[],description:u,hash:m,exclusiveTime:h};const f=new Set(n.map((e=>e.span_id)));f.add(a);const S={op:o,childSpans:{},traceStartTimestamp:e.startTimestamp,traceEndTimestamp:e.endTimestamp,traceID:s,rootSpanID:a,rootSpanStatus:p,parentSpanID:l,spans:n,description:u,hash:m,exclusiveTime:h},x=n.reduce(((e,t)=>{let n=t;const r=function(e){return D(e)?"gap-span":e.parent_span_id}(n),s=r&&f.has(r);var o;o=r,c()(o)&&o.length>0&&s||(n.parent_span_id=a,n={type:"orphan",...n}),(0,v.hu)(n.parent_span_id);const u=e.childSpans[n.parent_span_id]??[];u.push(n),d()(e.childSpans,n.parent_span_id,u),(!e.traceStartTimestamp||n.start_timestamp<e.traceStartTimestamp)&&(e.traceStartTimestamp=n.start_timestamp);const l=i()(n.timestamp);return e.traceEndTimestamp?l&&n.timestamp>e.traceEndTimestamp?(e.traceEndTimestamp=n.timestamp,e):(n.start_timestamp>e.traceEndTimestamp&&(e.traceEndTimestamp=n.start_timestamp),e):l?(e.traceEndTimestamp=n.timestamp,e):(e.traceEndTimestamp=n.start_timestamp,e)}),S);return Object.values(x.childSpans).forEach((e=>{e.sort(Z)})),x}function Z(e,t){return I(e)&&!I(t)?1:!I(e)&&I(t)||e.start_timestamp<t.start_timestamp?-1:e.start_timestamp===t.start_timestamp?0:1}function F(e){return"number"!=typeof e&&"orphan"===e?.type}function O(e){return F(e)?e.depth:e}function M(e){const t=e.sdk?.name;return!!t&&["sentry.javascript.browser","sentry.javascript.react","sentry.javascript.gatsby","sentry.javascript.ember","sentry.javascript.vue","sentry.javascript.angular","sentry.javascript.nextjs","sentry.javascript.electron","sentry.javascript.remix","sentry.javascript.svelte"].includes(t.toLowerCase())}const L="app"==n.j?["mark","paint"]:null;function k(e){const t=Object.keys(e);return Object.values(y.r9).filter((e=>t.includes(e.slug))).some((t=>{const{value:n}=e[t.slug];return"number"==typeof n&&"number"==typeof t.poorThreshold&&n>=t.poorThreshold}))}function q(e,t){if(!e.measurements||!e.startTimestamp)return new Map;const{startTimestamp:n}=e,r=new Set([x.Zl.FCP,x.Zl.FP,x.Zl.FID,x.Zl.LCP,x.Zl.TTFB]),s=Object.keys(e.measurements).filter((e=>r.has(`measurements.${e}`))).map((t=>{const r=e.measurements[t];return{name:t,timestamp:n+r.value/1e3,value:r?r.value:void 0}})),a=new Map;return s.forEach((e=>{const n=e.name,r=e.value,s=t({startTimestamp:e.timestamp,endTimestamp:e.timestamp});if("TIMESTAMPS_EQUAL"!==s.type)return;const i=Math.round(100*s.start);for(const[t]of a)if(Math.abs(t-i)<=b.tJ){const s=a.get(t),{poorThreshold:i}=y.r9[`measurements.${n}`];return s.marks={...s.marks,[n]:{value:r,timestamp:e.timestamp,failedThreshold:!!r&&r>=i}},s.failedThreshold||(s.failedThreshold=k(s.marks)),void a.set(t,s)}const{poorThreshold:o}=y.r9[`measurements.${n}`],c={[n]:{value:r,timestamp:e.timestamp,failedThreshold:!!r&&r>=o}};a.set(i,{marks:c,failedThreshold:k(c)})})),a}function B(e,t){const n=t({startTimestamp:e,endTimestamp:e});switch(n.type){case"TRACE_TIMESTAMPS_EQUAL":case"INVALID_VIEW_WINDOW":return{warning:void 0,left:void 0,width:void 0,isSpanVisibleInView:n.isSpanVisibleInView};case"TIMESTAMPS_EQUAL":return{warning:void 0,left:n.start,width:1e-5,isSpanVisibleInView:n.isSpanVisibleInView};case"TIMESTAMPS_REVERSED":case"TIMESTAMPS_STABLE":return{warning:void 0,left:n.start,width:n.end-n.start,isSpanVisibleInView:n.isSpanVisibleInView};default:return n}}function z(e,t,n,r){return a=>{a.preventDefault();const i=$(e);t(i),s.browserHistory.push({...n,hash:i}),(0,S.Z)("performance_views.event_details.anchor_span",{organization:r,span_id:e})}}function $(e){return`#span-${e}`}function U(e,t){return void 0!==t?`${e.op}.${e.description}.${t}`:`${e.op}.${e.description}`}function Q(e){return e.reduce(((e,t)=>{const{start_timestamp:n,timestamp:r}=t.span;let s=e.startTimestamp,a=e.endTimestamp;return n<s&&(s=n),a<r&&(a=r),{startTimestamp:s,endTimestamp:a}}),{startTimestamp:e[0].span.start_timestamp,endTimestamp:e[0].span.timestamp})}function Y(e,t){const{startTimestamp:n,endTimestamp:r}=Q(e),s=t({startTimestamp:n,endTimestamp:r});switch(s.type){case"TRACE_TIMESTAMPS_EQUAL":case"INVALID_VIEW_WINDOW":return{warning:void 0,left:void 0,width:void 0,isSpanVisibleInView:s.isSpanVisibleInView};case"TIMESTAMPS_EQUAL":return{warning:void 0,left:s.start,width:1e-5,isSpanVisibleInView:s.isSpanVisibleInView};case"TIMESTAMPS_REVERSED":case"TIMESTAMPS_STABLE":return{warning:void 0,left:s.start,width:s.end-s.start,isSpanVisibleInView:s.isSpanVisibleInView};default:return s}}class H{constructor(e){(0,r.Z)(this,"spanDepthsInView",void 0),(0,r.Z)(this,"treeDepthSum",void 0),(0,r.Z)(this,"length",void 0),(0,r.Z)(this,"isRootSpanInView",void 0),this.spanDepthsInView=new Map,this.treeDepthSum=0,this.length=0,this.isRootSpanInView=e}addSpan(e,t){return!this.spanDepthsInView.has(e)&&(this.spanDepthsInView.set(e,t),this.length+=1,this.treeDepthSum+=t,0===t&&(this.isRootSpanInView=!0),!0)}removeSpan(e){if(!this.spanDepthsInView.has(e))return!1;const t=this.spanDepthsInView.get(e);return this.spanDepthsInView.delete(e),this.length-=1,this.treeDepthSum-=t,0===t&&(this.isRootSpanInView=!1),!0}has(e){return this.spanDepthsInView.has(e)}getScrollVal(){return this.isRootSpanInView?0:Math.round(this.treeDepthSum/this.length)*(f.Ll/2)-f.Y9/2}}function G(e){const t=l()(e||[],(e=>K[e.level]))?.level;if(t)return W[t]}const W={fatal:"error",error:"error",default:"error",warning:"warning",sample:"info",info:"info",unknown:"muted"},K={fatal:5,error:4,default:4,warning:3,sample:2,info:1,unknown:0};function J(e,t){const n=String(e).split("."),r=String(t).split(".");if(2!==n.length||2!==r.length)return{start:String(e),end:String(t)};const s=n.reduce(((e,t,n)=>t.length>r[n].length?(e.start.push(t),e.end.push(0===n?r[n].padStart(t.length,"0"):r[n].padEnd(t.length,"0")),e):(e.start.push(0===n?t.padStart(r[n].length,"0"):t.padEnd(r[n].length,"0")),e.end.push(r[n]),e)),{start:[],end:[]});return{start:s.start.join("."),end:s.end.join(".")}}function X(e,t){return!!t&&!e.some((e=>t.has(e.span.span_id)))}},"./app/components/forms/apiForm.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n("../node_modules/react/index.js"),s=n("./app/actionCreators/indicator.tsx"),a=n("./app/components/forms/form.tsx"),i=n("./app/locale.tsx"),o=n("./app/utils/useApi.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{onSubmit:t,apiMethod:n,apiEndpoint:u,...l}=e;const p=(0,o.Z)(),d=(0,r.useCallback)(((e,r,a)=>{t?.(e),(0,s.E3)((0,i.t)("Saving changes…")),p.request(u,{method:n,data:e,success:e=>{(0,s.B8)(),r(e)},error:e=>{(0,s.B8)(),a(e)}})}),[p,t,n,u]);return(0,c.tZ)(a.Z,{onSubmit:d,...l})}u.displayName="ApiForm";const l="app"==n.j?u:null},"./app/components/forms/fields/checkboxField.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/checkbox.tsx"),a=n("./app/styles/space.tsx"),i=n("./app/components/forms/field/fieldDescription.tsx"),o=n("./app/components/forms/field/fieldHelp.tsx"),c=n("./app/components/forms/field/fieldLabel.tsx"),u=n("./app/components/forms/field/fieldRequiredBadge.tsx"),l=n("./app/components/forms/formField/index.tsx"),p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){const{name:t,disabled:n,stacked:r,required:a,label:d,help:f}=e,g="function"==typeof f?f(e):f,v="string"==typeof d?d:void 0;return(0,p.tZ)(l.Z,{name:t,inline:!1,stacked:r,children:e=>{let{onChange:l,value:f,id:S}=e;return(0,p.BX)(h,{children:[(0,p.tZ)(m,{children:(0,p.tZ)(s.Z,{id:S,name:t,disabled:n,checked:!0===f,onChange:function(e){const t=e.target.checked;l?.(t,e)}})}),(0,p.BX)(i.Z,{htmlFor:S,"aria-label":v,children:[d&&(0,p.tZ)(c.Z,{disabled:n,children:(0,p.BX)("span",{children:[d,a&&(0,p.tZ)(u.Z,{})]})}),g&&(0,p.tZ)(o.Z,{stacked:r,inline:!0,children:g})]})]})}})}d.displayName="CheckboxField";const m=(0,r.Z)("span",{target:"e6z7ikk1"})("align-self:flex-start;display:flex;margin-right:",(0,a.Z)(1),";& input{margin:0;}"),h=(0,r.Z)("div",{target:"e6z7ikk0"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),f="app"==n.j?d:null},"./app/components/performance/waterfall/treeConnector.tsx":(e,t,n)=>{"use strict";n.d(t,{DN:()=>p,Ll:()=>u,U1:()=>d,UV:()=>l,Y9:()=>c,jd:()=>h,rw:()=>m});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/performance/waterfall/constants.tsx"),a=n("./app/components/performance/waterfall/utils.tsx"),i=n("./app/icons/index.tsx"),o=n("./app/styles/space.tsx");const c=30,u=c+16,l="app"==n.j?(0,r.Z)("div",{target:"e1xp7sks4"})("height:250%;border-left:2px ",(e=>e.orphanBranch?"dashed":"solid")," ",(e=>e.theme.border),";position:absolute;top:0;"):null,p=(0,r.Z)("div",{target:"e1xp7sks3"})("height:",(e=>e.isLast?s.dN/2+1:s.dN),"px;width:100%;border-left:",(e=>`2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};`),";position:absolute;top:0;",(e=>e.isLast?`\n      border-bottom: 2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};\n      border-bottom-left-radius: ${e.theme.borderRadius};`:`\n      &:before {\n        content: '';\n        height: 2px;\n        left: -2px;\n        border-bottom: 2px ${e.orphanBranch?"dashed":"solid"} ${e.theme.border};\n        width: calc(100% - 2px);\n        position: absolute;\n        bottom: calc(50% - 1px);\n      }`)," &:after{content:'';background-color:",(e=>e.theme.border),";border-radius:50%;height:6px;width:6px;position:absolute;right:0;top:",s.dN/2-3,"px;}"),d=(0,r.Z)("div",{target:"e1xp7sks2"})("height:16px;white-space:nowrap;min-width:30px;display:flex;align-items:center;justify-content:center;border-radius:99px;padding:0px ",(0,o.Z)(.5),";transition:all 0.15s ease-in-out;font-size:10px;line-height:0;z-index:1;box-shadow:",(e=>e.theme.dropShadowLightest),";",(e=>(0,a.uu)(e)),";"),m=(0,r.Z)("div",{target:"e1xp7sks1"})("position:relative;height:",s.dN,"px;width:",40,"px;min-width:",40,"px;margin-right:",(0,o.Z)(1),";z-index:",(e=>e.theme.zIndex.traceView.spanTreeToggler),";display:flex;justify-content:flex-end;align-items:center;"),h=(0,r.Z)(i.g6,{target:"e1xp7sks0"})("width:7px;margin-left:",(0,o.Z)(.25),";")},"./app/utils/discover/charts.tsx":(e,t,n)=>{"use strict";n.d(t,{CX:()=>i,Xp:()=>p,gu:()=>c,x1:()=>u});var r=n("./app/locale.tsx"),s=n("./app/utils.tsx"),a=n("./app/utils/formatters.tsx");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,s.ri)(e)?o(e,t):"—"}function o(e,t){if(!(0,s.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,a.rl)(e,2);case"duration":return(0,a.g9)(e/1e3,2,!0);case"size":return(0,s.F)(e);default:return e.toString()}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return u(e,t,n,r)}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return n?(0,a.Du)(e):e.toLocaleString();case"percentage":return(0,a.rl)(e,0);case"duration":return l(e,r);case"size":return(0,s.F)(e,0);default:return e.toString()}}function l(e,t){if(t??=d(e),0===e)return"0";switch(t){case a.ps:{const t=(e/a.ps).toFixed(0);return(0,r.t)("%swk",t)}case a.x4:{const t=(e/a.x4).toFixed(0);return(0,r.t)("%sd",t)}case a.kr:{const t=(e/a.kr).toFixed(0);return(0,r.t)("%shr",t)}case a.EB:{const t=(e/a.EB).toFixed(0);return(0,r.t)("%smin",t)}case a.sh:{const t=(e/a.sh).toFixed(0);return(0,r.t)("%ss",t)}default:const t=e.toFixed(0);return(0,r.t)("%sms",t)}}function p(e,t){let n=0;const r=function(e,t){let n;if(e[0]?.data){let r,s=e[0];e.forEach(((n,a)=>{let{seriesName:i,data:o}=n;!1!==t?.selected?.[i]&&o.length&&(s=e[a],r??=e[a])})),r?.data&&(n={max:Math.max(...r.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...s.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return n}(e,t);if(r){const e=(r.max+r.min)/2;n=d((r.max-r.min)/5),(e/n).toFixed(0).length>6&&(n=d(e))}return n}function d(e){return e>=a.ps?a.ps:e>=a.x4?a.x4:e>=a.kr?a.kr:e>=a.EB?a.EB:e>=a.sh?a.sh:1}},"./app/utils/discover/genericDiscoverQuery.tsx":(e,t,n)=>{"use strict";n.d(t,{AA:()=>g,JC:()=>S,ZP:()=>x,o:()=>m});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/react/index.js"));if("app"==n.j)var a=n("../node_modules/@tanstack/react-query/build/umd/index.production.js");var i=n("./app/api.tsx"),o=n("./app/locale.tsx"),c=n("./app/utils/discover/eventView.tsx"),u=n("./app/utils/performance/contexts/performanceEventViewContext.tsx"),l=n("./app/views/organizationContext.tsx"),p=n("./app/utils/useApi.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m{constructor(e,t){(0,r.Z)(this,"message",void 0),(0,r.Z)(this,"originalError",void 0),this.message=e,this.originalError=t}getOriginalError(){return this.originalError}}class h extends s.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{isLoading:!0,tableFetchID:void 0,error:null,tableData:null,pageLinks:null,api:new i.KU}),(0,r.Z)(this,"_shouldRefetchData",(e=>{const t=v(this.props),n=v(e);return!(0,c.ze)(t,n)||e.limit!==this.props.limit||e.route!==this.props.route||e.cursor!==this.props.cursor})),(0,r.Z)(this,"_parseError",(e=>{if(this.props.parseError)return this.props.parseError(e);if(!e)return null;const t=e.responseJSON?.detail;if("string"==typeof t)return new m(t,e);const n=t?.message;return new m("string"==typeof n?n:(0,o.t)("An unknown error occurred."),e)})),(0,r.Z)(this,"fetchData",(async()=>{const{queryBatching:e,beforeFetch:t,afterFetch:n,didFetch:r,eventView:s,orgSlug:a,route:i,setError:o}=this.props,{api:c}=this.state;if(!s.isValid())return;const u=`/organizations/${a}/${i}/`,l=Symbol("tableFetchID"),p=v(this.props);this.setState({isLoading:!0,tableFetchID:l}),o?.(void 0),t?.(c),c.clear();try{const[t,,s]=await g(c,u,p,e);if(this.state.tableFetchID!==l)return;const a=n?n(t,this.props):t;r?.(a),this.setState((e=>({isLoading:!1,tableFetchID:void 0,error:null,pageLinks:s?.getResponseHeader("Link")??e.pageLinks,tableData:a})))}catch(e){const t=this._parseError(e);this.setState({isLoading:!1,tableFetchID:void 0,error:t,tableData:null}),o&&o(t??void 0)}}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const t=this._shouldRefetchData(e),n=!1===e.eventView.isValid()&&this.props.eventView.isValid(),r=!!this.props.shouldRefetchData&&this.props.shouldRefetchData(e,this.props);(t||n||r)&&this.fetchData()}render(){const{isLoading:e,error:t,tableData:n,pageLinks:r}=this.state,s={isLoading:e,error:t,tableData:n,pageLinks:r};return(0,this.props.children)?.(s)}}function f(e){const t=(0,s.useContext)(l.g)?.slug,n=(0,s.useContext)(u.uL)?.eventView,r=e.orgSlug??t,a=e.eventView??n;if(void 0===r||void 0===a)throw new Error("GenericDiscoverQuery requires both an orgSlug and eventView");const i={...e,orgSlug:r,eventView:a};return(0,d.tZ)(h,{...i})}function g(e,t,n,r){return r?.batchRequest?r.batchRequest(e,t,{query:n,includeAllArgs:!0}):e.requestPromise(t,{method:"GET",includeAllArgs:!0,query:{...n}})}function v(e){const{cursor:t,limit:n,noPagination:r,referrer:s,getRequestPayload:a,eventView:i,location:o,forceAppendRawQueryString:c}=e,u=a?a(e):i.getEventsAPIPayload(o,c);return t&&(u.cursor=t),n&&(u.per_page=n),r&&(u.noPagination=r),s&&(u.referrer=s),Object.assign(u,e.queryExtras??{}),u}function S(e){const t=(0,p.Z)(),{orgSlug:n,route:r}=e,s=`/organizations/${n}/${r}/`,i=v(e);return(0,a.useQuery)([r,i],(async()=>{const[n]=await g(t,s,i,e.queryBatching);return n}))}h.displayName="_GenericDiscoverQuery",f.displayName="GenericDiscoverQuery";const x=f},"./app/utils/performance/contexts/metricsCardinality.tsx":(e,t,n)=>{"use strict";n.d(t,{BT:()=>x,e0:()=>y});var r=n("../node_modules/react/index.js"),s=n("./app/utils/dates.tsx"),a=n("./app/utils/discover/eventView.tsx"),i=n("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),o=n("../node_modules/lodash/omit.js"),c=n.n(o),u=n("./app/utils/discover/genericDiscoverQuery.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{eventView:t,location:n}=e;return c()(t.getEventsAPIPayload(n),["field","sort","per_page","query"])}function d(e){let{children:t,...n}=e;return(0,l.tZ)(u.ZP,{route:"metrics-compatibility-sums",getRequestPayload:p,...n,children:e=>{let{tableData:n,...r}=e;return t({tableData:n,...r})}})}function m(e){let{eventView:t,location:n}=e;return c()(t.getEventsAPIPayload(n),["field","sort","per_page","query"])}function h(e){let{children:t,...n}=e;return(0,l.tZ)(u.ZP,{route:"metrics-compatibility",getRequestPayload:m,...n,children:e=>{let{tableData:n,...r}=e;return t({tableData:n,...r})}})}d.displayName="MetricsCompatibilityQuery",h.displayName="MetricsCompatibilitySumsQuery";var f=n("./app/utils/performance/contexts/utils.tsx");const[g,v,S]=(0,f.n)({name:"MetricsCardinalityContext",strict:!1}),x=e=>{if(!(0,i.gp)(e.organization))return(0,l.tZ)(g,{value:{isLoading:!1,outcome:{forceTransactionsOnly:!0}},children:e.children});const t={location:e.location,orgSlug:e.organization.slug,cursor:"0:0:0"},n=a.ZP.fromLocation(e.location);n.fields=[{field:"tpm()"}];const o=function(e){const t=e.clone();return t.start||t.end||(t.statsPeriod?(0,s.YJ)(t.statsPeriod)>1&&(t.statsPeriod="1h",t.start=void 0,t.end=void 0):(t.statsPeriod="1h",t.start=void 0,t.end=void 0)),t}(n);return(0,l.tZ)(r.Fragment,{children:(0,l.tZ)(d,{eventView:o,...t,children:n=>(0,l.tZ)(h,{eventView:o,...t,children:t=>(0,l.tZ)(g,{value:{isLoading:n.isLoading||t.isLoading,outcome:n.isLoading||t.isLoading?void 0:_(n.tableData&&t.tableData?{...n.tableData,...t.tableData}:null,!!n.error&&!!t.error)},children:e.children})})})})};x.displayName="MetricsCardinalityProvider",S.Consumer;const y=v;function _(e,t){const n={forceTransactionsOnly:!0};if(!e)return n;const r=e.compatible_projects;return t?n:e?function(e){const t=b(e);return!e.dynamic_sampling_projects?.length||0===t.metricsCount}(e)||function(e){return!b(e).metricsCount}(e)?n:function(e){return b(e).nullCount>0}(e)?{shouldWarnIncompatibleSDK:!0,forceTransactionsOnly:!0,compatibleProjects:r}:function(e){const t=b(e);return t.unparamCount>=t.metricsCount}(e)?{shouldNotifyUnnamedTransactions:!0,forceTransactionsOnly:!0,compatibleProjects:r}:function(e){return b(e).unparamCount>0}(e)?{shouldNotifyUnnamedTransactions:!0,compatibleProjects:r,forceTransactionsOnly:!1}:{forceTransactionsOnly:!1}:n}function b(e){let{sum:t}=e;try{const e=Number(t.metrics);return{metricsCount:e,unparamCount:Number(t.metrics_unparam),nullCount:Number(t.metrics_null)}}catch(e){return{metricsCount:0,unparamCount:0,nullCount:0}}}},"./app/utils/performance/contexts/metricsEnhancedSetting.tsx":(e,t,n)=>{"use strict";n.d(t,{Ar:()=>f,Eg:()=>x,gp:()=>v,kP:()=>S,nP:()=>d,nl:()=>m,oR:()=>h,tm:()=>g}),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/react/index.js"),s=n("../node_modules/react-router/es/index.js"),a=(n("./app/utils/localStorage.tsx"),n("./app/utils/queryString.tsx")),i=n("./app/utils/useOrganization.tsx"),o=n("./app/utils/performance/contexts/utils.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const[u,l,p]=(0,o.n)({name:"MetricsEnhancedSettingContext"}),d=p.Consumer;let m,h;!function(e){e.unset="unset",e.metrics="metrics",e.transactions="transactions"}(m||(m={})),function(e){e.auto="auto",e.metricsOnly="metricsOnly",e.transactionsOnly="transactionsOnly"}(h||(h={}));const f="metricSetting",g="metricSearchSetting";function v(e){const t=function(e){return e.features.includes("performance-use-metrics")}(e),n=e.features.includes("performance-transaction-name-only-search"),r=e.features.includes("server-side-sampling")&&e.features.includes("mep-rollout-flag");return t||n||r}const S=e=>{let{children:t,location:n,_hasMEPState:o,forceTransactions:l}=e;const p=v((0,i.Z)()),d=[h.metricsOnly,h.transactionsOnly],g=n?(0,a.ro)(n.query[f]):h.metricsOnly;let S=h.metricsOnly;l&&(S=h.transactionsOnly);const x=d.find((e=>e===g))??S,y=void 0!==o,[_,b]=(0,r.useReducer)(((e,t)=>t),x),w=(0,r.useCallback)((e=>{n&&(s.browserHistory.replace({...n,query:{...n.query,[f]:e}}),b(e))}),[n,b]),[E,T]=(0,r.useReducer)(((e,t)=>t),m.unset),j=y?o:_,P=p&&j===h.auto,V=p&&j===h.metricsOnly,D=p&&j===h.transactionsOnly,I=`${j}`;return(0,c.tZ)(u,{value:{autoSampleState:E,metricSettingState:j,shouldQueryProvideMEPAutoParams:P,shouldQueryProvideMEPMetricParams:V,shouldQueryProvideMEPTransactionParams:D,memoizationKey:I,setMetricSettingState:w,setAutoSampleState:T},children:t})};S.displayName="MEPSettingProvider";const x=l},"./app/utils/performance/contexts/performanceEventViewContext.tsx":(e,t,n)=>{"use strict";n.d(t,{bq:()=>s,uL:()=>i});var r=n("./app/utils/performance/contexts/utils.tsx");const[s,a,i]=(0,r.n)({name:"PerformanceEventViewContext"})},"./app/utils/performance/contexts/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{n:()=>s}),n("../node_modules/core-js/modules/es.error.cause.js");var r=n("../node_modules/react/index.js");function s(e){const{strict:t=!0,errorMessage:n=`useContext for "${e.name}" must be inside a Provider with a value`,name:s}=e,a=(0,r.createContext)(void 0);return a.displayName=s,[a.Provider,function(){const e=(0,r.useContext)(a);if(!e&&t)throw new Error(n);return e},a]}},"./app/utils/performance/quickTrace/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{$J:()=>x,Ci:()=>w,R8:()=>f,S2:()=>y,_Z:()=>S,eF:()=>v,eW:()=>m,hp:()=>p,q2:()=>d,xB:()=>_,y3:()=>b}),n("../node_modules/core-js/modules/es.error.cause.js");var r=n("../node_modules/lodash/omit.js"),s=n.n(r),a=n("../node_modules/moment-timezone/index.js"),i=n.n(a),o=n("./app/components/events/interfaces/spans/utils.tsx"),c=n("./app/constants/pageFilters.tsx"),u=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),l=n("./app/utils/discover/eventView.tsx");function p(e){return"transaction"===e.type}function d(e,t){return p(t)?e.event_id===t.id:void 0!==e.errors&&e.errors.some((e=>e.event_id===t.id))}function m(e,t){const n=[],r=[],s=[{event:t,path:[]}];for(;s.length;){const t=s.shift();if(d(t.event,e)){for(const e of t.path)n.push(e);r.push(t.event)}else{const e=[...t.path,h(t.event)];for(const n of t.event.children)s.push({event:n,path:e})}}if(!r.length)throw new Error("No relevant path exists!");for(;r.length;){const e=r.shift();for(const t of e.children)r.push(t);n.push(h(e))}return n}function h(e){return s()(e,["children"])}function f(e,t,n){const{type:r,trace:s}=e;if("empty"===r||null===s)throw new Error("Current event not in trace navigator!");const a="full"===r,i=s.find((e=>d(e,t)))??null;if(null===i)throw new Error("Current event not in trace navigator!");const o=i.parent_event_id?s.find((e=>e.event_id===i.parent_event_id))??null:null,c=s.find((e=>e.event_id!==i.event_id&&e.event_id!==o?.event_id&&0===e.generation))??null,l=a?[]:null,p=[],m=a?[]:null,h=new Set;return s.forEach((e=>{h.add(e.project_id),(e=>e.parent_event_id===i.event_id)(e)?p.push(e):a&&((e=>null!==i.generation&&null!==e.generation&&e.generation>0&&i.generation-1>e.generation)(e)?l?.push(e):(e=>null!==i.generation&&null!==e.generation&&i.generation+1<e.generation)(e)&&m?.push(e))})),a&&h.size>1&&function(e,t){(0,u.Z)("quick_trace.connected_services",{organization:e.id,projects:t})}(n,h.size),{root:c,ancestors:null===l?null:g(l),parent:o,current:i,children:g(p),descendants:null===m?null:g(m)}}function g(e){return e.sort(((e,t)=>t["transaction.duration"]-e["transaction.duration"]))}function v(e){let{eventView:t,location:n}=e;return s()(t.getEventsAPIPayload(n),["field","sort","per_page"])}function S(e){let{start:t,end:n,statsPeriod:r}=e;return l.ZP.fromSavedQuery({id:void 0,version:2,name:"",fields:["transaction.duration"],projects:[c.mP],query:"",environment:[],start:t,end:n,range:r??void 0})}function x(e){const t=p(e)?e.startTimestamp:i()(e.dateReceived?e.dateReceived:e.dateCreated).valueOf()/1e3,n=p(e)?e.endTimestamp:t;return(0,o.TC)({start:t,end:n})}function y(e,t,n){let r=n;const s=[e];for(;s.length;){const e=s.pop();for(const t of e.children)s.push(t);r=t(r,e)}return r}function _(e,t){return y(e,((e,n)=>(t(n)&&e.push(n),e)),[])}function b(e){return Boolean(e.event_id)}function w(e){return Boolean(e.event_id)}},"./app/views/performance/landing/metricsDataSwitcher.tsx":(e,t,n)=>{"use strict";n.d(t,{d:()=>p});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),a=n("../node_modules/react-router/es/index.js"),i=n("./app/components/loadingIndicator.tsx"),o=n("./app/utils/performance/contexts/metricsCardinality.tsx"),c=n("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),u=n("./app/utils/queryString.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){const t=(0,c.gp)(e.organization),n=(0,o.e0)();return t?n.isLoading&&!e.hideLoadingIndicator?(0,l.tZ)(s.Fragment,{children:(0,l.tZ)(m,{children:(0,l.tZ)(i.Z,{})})}):n.outcome?(0,l.tZ)(s.Fragment,{children:(0,l.tZ)(d,{eventView:e.eventView,location:e.location,outcome:n.outcome,switcherChildren:e.children})}):(0,l.tZ)(s.Fragment,{children:e.children({forceTransactionsOnly:!0})}):(0,l.tZ)(s.Fragment,{children:e.children({forceTransactionsOnly:!0})})}function d(e){let{switcherChildren:t,outcome:n,location:r,eventView:i}=e;const{query:o}=r,p=(0,u.ro)(o[c.tm],""),d=(0,u.ro)(o.query,""),m=p===c.oR.transactionsOnly,h=d&&m&&!n.forceTransactionsOnly;return(0,s.useEffect)((()=>{h&&a.browserHistory.push({pathname:r.pathname,query:{...r.query,cursor:void 0,query:void 0,[c.tm]:void 0}})}),[h,r]),d&&m&&!n.forceTransactionsOnly&&(i.query=""),(0,l.tZ)(s.Fragment,{children:t(n)})}p.displayName="MetricsDataSwitcher",d.displayName="MetricsSwitchHandler";const m=(0,r.Z)("div",{target:"e1r04u5n0"})({name:"zl1inp",styles:"display:flex;justify-content:center"})},"./app/views/performance/trends/types.tsx":(e,t,n)=>{"use strict";let r,s,a;n.d(t,{A2:()=>a,ER:()=>r,Z2:()=>s}),function(e){e.IMPROVED="improved",e.REGRESSION="regression"}(r||(r={})),function(e){e.P50="p50",e.P75="p75",e.P95="p95",e.P99="p99",e.AVG="avg"}(s||(s={})),function(e){e.DURATION="transaction.duration",e.LCP="measurements.lcp",e.FCP="measurements.fcp",e.FID="measurements.fid",e.CLS="measurements.cls",e.SPANS_DB="spans.db",e.SPANS_HTTP="spans.http",e.SPANS_BROWSER="spans.browser",e.SPANS_RESOURCE="spans.resource"}(a||(a={}))},"./app/views/performance/trends/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{CE:()=>w,HF:()=>Z,IO:()=>E,Kt:()=>j,P4:()=>N,RP:()=>R,T1:()=>g,Ws:()=>b,_1:()=>h,_H:()=>P,bg:()=>f,cs:()=>v,ed:()=>T,es:()=>S,iF:()=>D,j_:()=>A,kM:()=>V,vq:()=>F,vt:()=>_,wx:()=>I}),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/downsample/methods/ASAP.js"),s=n("../node_modules/moment/moment.js"),a=n.n(s),i=n("./app/components/charts/utils.tsx"),o=n("./app/locale.tsx"),c=n("./app/utils/discover/fields.tsx"),u=n("./app/utils/queryString.tsx"),l=n("./app/utils/theme.tsx"),p=n("./app/utils/tokenizeSearch.tsx"),d=n("./app/views/performance/utils.tsx"),m=n("./app/views/performance/trends/types.tsx");const h="14d",f="15min",g=[{label:"p50",field:m.Z2.P50,alias:"percentile_range",legendLabel:"p50"},{label:"p75",field:m.Z2.P75,alias:"percentile_range",legendLabel:"p75"},{label:"p95",field:m.Z2.P95,alias:"percentile_range",legendLabel:"p95"},{label:"p99",field:m.Z2.P99,alias:"percentile_range",legendLabel:"p99"},{label:"average",field:m.Z2.AVG,alias:"avg_range",legendLabel:"average"}],v=[{label:"Duration",column:m.A2.DURATION},{label:"LCP",column:m.A2.LCP},{label:"FCP",column:m.A2.FCP},{label:"FID",column:m.A2.FID},{label:"CLS",column:m.A2.CLS},{label:"Spans (http)",column:m.A2.SPANS_HTTP},{label:"Spans (db)",column:m.A2.SPANS_DB},{label:"Spans (browser)",column:m.A2.SPANS_BROWSER},{label:"Spans (resource)",column:m.A2.SPANS_RESOURCE}],S={[m.ER.IMPROVED]:{lighter:l.ZP.green200,default:l.ZP.green300},[m.ER.REGRESSION]:{lighter:l.ZP.red200,default:l.ZP.red300}},x={[m.ER.IMPROVED]:"improvedSelected",[m.ER.REGRESSION]:"regressionSelected"},y={[m.ER.IMPROVED]:"improvedUnselectedSeries",[m.ER.REGRESSION]:"regressionUnselectedSeries"},_={[m.ER.IMPROVED]:"improvedCursor",[m.ER.REGRESSION]:"regressionCursor"};function b(){const e={};return Object.values(_).forEach((t=>e[t]=void 0)),e}function w(e,t){const n=t??(0,u.ro)(e?.query?.trendFunction);return g.find((e=>{let{field:t}=e;return t===n}))||g[0]}function E(e,t,n){const r=(0,u.ro)(e?.query?.trendParameter),s=v.find((e=>{let{label:t}=e;return t===r}));return s||function(e,t){return function(e){switch(e){case d.iy.FRONTEND:return{label:"LCP",column:m.A2.LCP};case d.iy.ANY:case d.iy.BACKEND:case d.iy.FRONTEND_OTHER:default:return{label:"Duration",column:m.A2.DURATION}}}((0,d.Bh)(e,t))}(t,n)}function T(e,t){return(0,c.sN)({kind:"function",function:[e,t,void 0,void 0]})}function j(e,t){return{fromSeconds:e/1e3,toSeconds:t/1e3,showDigits:e>1e3||t>1e3||e<10||t<10}}function P(e,t){if(e.project&&t)return t.find((t=>t.slug===e.project))?.id}function V(e,t,n,r,s){const a=w(t),o=E(t,r,e.project),c=[...s?[]:["transaction"],"project"].map((e=>({field:e}))),l={field:"trend_percentage()",kind:"asc"};e.trendType=n,n===m.ER.REGRESSION&&(l.kind="desc"),a&&o&&(e.trendFunction=T(a.field,o.column)),e.query=function(e){const t=new p.MY(e);return t.hasFilter("count_percentage()")||t.addFilterValues("count_percentage()",[">0.25","<4"]),t.hasFilter("trend_percentage()")||t.addFilterValues("trend_percentage()",[">0%"]),t.hasFilter("confidence()")||t.addFilterValues("confidence()",[">6"]),t.formatString()}(e.query),e.interval=function(e,t){const n=(0,u.ro)(e?.query?.interval),{start:r,end:s,statsPeriod:a}=t,o={start:r||null,end:s||null,period:a},c=(0,i.ZS)(o,"high");return n||c}(t,e),e.sorts=[l],e.fields=c}function D(e,t){const{query:n}=t,r=n.start&&n.end;return n.statsPeriod||r||(e.statsPeriod=h),e}function I(e,t){const n=Math.abs(e);return{seconds:n/1e3,fixedDigits:n>1e3||n<10?1:0,changeLabel:t===m.ER.REGRESSION?(0,o.t)("slower"):(0,o.t)("faster")}}function R(e){const t=a()();return e.map((e=>({...e,received_at:t,transaction:e.transaction})))}function A(e){return x[e]}function N(e){return y[e]}const C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(0,r.Cl)(e,t)},Z=e=>["p50","p75"].find((t=>e.includes(t)));function F(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;if(!e)return{maxValue:r,minValue:n,smoothedResults:void 0};const s=[];for(const a of e){const e=a.data,i=[],o=C(e.map((e=>{let{name:t,value:n}=e;return[Number(t),n]})));for(let e=0;e<o.length;e++){const t=o[e],s=t.y;if(i.push({name:t.x,value:s}),!isNaN(s)){const e=Math.round(s);n=Math.min(e,n),r=Math.max(e,r)}}s.push({seriesName:t||a.seriesName||"Current",data:i,lineStyle:a.lineStyle,color:a.color})}return{minValue:n,maxValue:r,smoothedResults:s}}},"./app/views/performance/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{Bh:()=>E,C$:()=>T,Ik:()=>j,JY:()=>Z,Ov:()=>I,Pv:()=>S,R8:()=>R,U7:()=>g,Ws:()=>D,YL:()=>F,al:()=>A,bY:()=>M,de:()=>V,iL:()=>P,iy:()=>x,m_:()=>N,n4:()=>C,og:()=>v,p9:()=>L,rL:()=>O,uq:()=>y}),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/react-router/es/index.js"),s=n("./app/constants/pageFilters.tsx"),a=n("./app/data/platformCategories.tsx"),i=n("./app/locale.tsx"),o=n("./app/utils/analytics.tsx"),c=n("./app/utils/dates.tsx"),u=n("./app/utils/discover/eventView.tsx"),l=n("./app/utils/discover/fields.tsx"),p=n("./app/utils/formatters.tsx");if("app"==n.j)var d=n("./app/utils/getCurrentSentryReactTransaction.tsx");var m=n("./app/utils/queryString.tsx"),h=n("./app/utils/tokenizeSearch.tsx"),f=n("./app/views/performance/trends/utils.tsx");const g="app"==n.j?["environment","project","query","start","end","statsPeriod"]:null,v="<< unparameterized >>";let S,x;function y(e){const t=e.source===S.DISCOVER?["transaction","project","transaction.source","epm()"]:["transaction","project","transaction.source","epm()","p50()","p95()"],n={id:void 0,name:e.source===S.DISCOVER?(0,i.t)("Unparameterized Transactions"):(0,i.t)("Performance - Unparameterized Transactions"),query:'event.type:transaction transaction.source:"url"',projects:[],fields:t,version:2},r=u.ZP.fromNewQueryWithLocation(n,e.location).withSorts([{field:"epm",kind:"desc"}]).getResultsViewUrlTarget(e.organization.slug);return r.query.showUnparameterizedBanner="true",r}!function(e){e.PERFORMANCE="performance",e.DISCOVER="discover"}(S||(S={})),function(e){e.ANY="any",e.FRONTEND="frontend",e.BACKEND="backend",e.FRONTEND_OTHER="frontend_other",e.MOBILE="mobile"}(x||(x={}));const _=[...a.tQ],b=a.y3.filter((e=>"native"!==e)),w=[...a.ai];function E(e,t){if(0===t.length||t[0]===s.mP)return x.ANY;const n=e.filter((e=>t.includes(parseInt(`${e.id}`,10))));return 0===n.length||n.some((e=>!e.platform))?x.ANY:n.every((e=>_.includes(e.platform)))?x.FRONTEND:n.every((e=>b.includes(e.platform)))?x.BACKEND:n.every((e=>w.includes(e.platform)))?x.MOBILE:x.ANY}function T(e,t){const n=E(e,t.project);return n===x.FRONTEND&&new h.MY(t.query).getFilterValues("!transaction.op").some((e=>"pageload"===e))?x.FRONTEND_OTHER:n}function j(e,t){return T(t,e)===x.FRONTEND}function P(e,t){return T(t,e)===x.FRONTEND||T(t,e)===x.FRONTEND_OTHER}function V(e){return`/organizations/${e.slug}/performance/`}function D(e){return`/organizations/${e.slug}/performance/trends/`}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,m.ro)(e.query.query,t).trim()}function R(e){let{location:t,organization:n,projectPlatforms:s}=e;(0,o.ec)({eventKey:"performance_views.change_view",eventName:"Performance Views: Change View",organization_id:parseInt(n.id,10),view_name:"TRENDS",project_platforms:s});const a=A({location:t,organization:n});r.browserHistory.push(a)}function A(e){let{location:t,organization:n,initialConditions:r,additionalQuery:s}=e;const a={...t.query,...s},i=(0,m.ro)(t.query.query,""),o=new h.MY(i),c=r??new h.MY([]);return o.hasFilter("tpm()")?c.setFilterValues("tpm()",o.getFilterValues("tpm()")):c.setFilterValues("tpm()",[">0.01"]),o.hasFilter("transaction.duration")?c.setFilterValues("transaction.duration",o.getFilterValues("transaction.duration")):c.setFilterValues("transaction.duration",[">0",`<${f.bg}`]),a.query=c.formatString(),{pathname:D(n),query:{...a}}}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeTagKeys:new Set(["event.type","project"])};return e.getFilterKeys().forEach((n=>{const r=n.startsWith("!")?n.substr(1):n;(r.match(/\w+\(.*\)/)||l.J8.includes(r)||t.excludeTagKeys.has(r))&&e.removeFilter(n)})),e}function C(e){const t=(0,d.Z)(),n=(0,c.Ri)(e.datetime.period,e.datetime.start,e.datetime.end),r=Math.floor(86400*n);t?.setTag("query.period",r.toString());let s=">30d";r<=86400?s="<=1d":r<=604800?s="<=7d":r<=1209600?s="<=14d":r<=2592e3&&(s="<=30d"),t?.setTag("query.period.grouped",s)}function Z(e){const{transaction:t}=e.query;return(0,m.ro)(t)}function F(e){return(0,p.g9)(e/1e3,e>1e3?2:0,!0)}function O(e){return!e.project.length||1===e.project.length&&e.project[0]===s.mP}function M(e,t){const n=e.query.project,r=Array.isArray(n)?new Set(n):new Set([n]);return t.reduce(((e,t)=>(r.has(t.id)&&e.push(t.platform??"undefined"),e)),[])}function L(e,t){return M(e,t).join(", ")}},"../node_modules/lodash/isNil.js":e=>{e.exports=function(e){return null==e}},"../node_modules/lodash/isNumber.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseGetTag.js"),s=n("../node_modules/lodash/isObjectLike.js");e.exports=function(e){return"number"==typeof e||s(e)&&"[object Number]"==r(e)}},"../node_modules/lodash/maxBy.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseExtremum.js"),s=n("../node_modules/lodash/_baseGt.js"),a=n("../node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){return e&&e.length?r(e,a(t,2),s):void 0}},"../node_modules/lodash/set.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseSet.js");e.exports=function(e,t,n){return null==e?e:r(e,t,n)}}}]);
//# sourceMappingURL=../sourcemaps/app_components_forms_apiForm_tsx-app_components_forms_fields_checkboxField_tsx-app_utils_disc-d2054c.1f3819629b56ef248100de04878beca4.js.map