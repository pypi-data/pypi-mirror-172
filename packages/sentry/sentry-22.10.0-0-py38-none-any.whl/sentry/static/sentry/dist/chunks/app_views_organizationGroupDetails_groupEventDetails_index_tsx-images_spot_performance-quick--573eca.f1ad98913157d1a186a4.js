(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_organizationGroupDetails_groupEventDetails_index_tsx-images_spot_performance-quick--573eca"],{"./app/components/events/meta/metaProxy.tsx":(e,t,n)=>{"use strict";n.d(t,{xN:()=>h,xZ:()=>m});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/lodash/isEmpty.js"),r=n.n(i),o=n("../node_modules/lodash/isNull.js"),a=n.n(o),l=n("../node_modules/lodash/memoize.js"),c=n.n(l);const d=Symbol("GET_META"),p=Symbol("IS_PROXY");class u{constructor(e){(0,s.Z)(this,"local",void 0),this.local=e}get(e,t,n){if(t===d)return e=>{if(this.local&&this.local[e]&&this.local[e][""]){const t=this.local[e][""];return function(e){return!(r()(e)||r()(e.rem)&&r()(e.err))}(t)?t:void 0}};if(t===p)return!0;const s=Reflect.get(e,t,n);return!Reflect.has(e,t)||"object"!=typeof s||a()(s)||Reflect.get(e,p,n)?s:new Proxy(s,new u(this.local&&this.local[t]))}}const h=c()((function(e){return e?void 0===window.Proxy||void 0===window.Reflect?e:new Proxy(e,new u(e._meta)):e}));function m(e,t){if(e&&"function"==typeof e[d])return e[d](t)}},"./app/components/externalIssues/abstractExternalIssueForm.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),r=n("../node_modules/lodash/debounce.js"),o=n.n(r),a=n("../node_modules/query-string/index.js"),l=n("./app/components/asyncComponent.tsx"),c=n("./app/components/forms/fieldFromConfig.tsx"),d=n("./app/components/forms/form.tsx"),p=n("./app/components/forms/model.tsx"),u=n("./app/components/questionTooltip.tsx"),h=n("./app/locale.tsx"),m=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends l.Z{constructor(){var e;super(...arguments),e=this,(0,s.Z)(this,"shouldRenderBadRequests",!0),(0,s.Z)(this,"model",new p.Z),(0,s.Z)(this,"refetchConfig",(()=>{const{action:e,dynamicFieldValues:t}=this.state,n={action:e,...t},s=this.getEndPointString();this.api.request(s,{method:"GET",query:n,success:(e,t,n)=>{this.handleRequestSuccess({stateKey:"integrationDetails",data:e,resp:n},!0)},error:e=>{this.handleError(e,["integrationDetails",s,null,null])}})})),(0,s.Z)(this,"getConfigName",(()=>{const{action:e}=this.state;switch(e){case"create":return"createIssueConfig";case"link":return"linkIssueConfig";default:throw new Error("illegal action")}})),(0,s.Z)(this,"getDynamicFields",(e=>{const{integrationDetails:t}=this.state,n=(e||t||{})[this.getConfigName()];return Object.fromEntries((n||[]).filter((e=>e.updatesForm)).map((e=>[e.name,e.default||null])))})),(0,s.Z)(this,"onRequestSuccess",(e=>{let{stateKey:t,data:n}=e;"integrationDetails"===t&&(this.handleReceiveIntegrationDetails(n),this.setState({dynamicFieldValues:this.getDynamicFields(n)}))})),(0,s.Z)(this,"onFieldChange",((e,t)=>{const{dynamicFieldValues:n}=this.state;this.getDynamicFields().hasOwnProperty(e)&&n&&(n[e]=t,this.setState({dynamicFieldValues:n,reloading:!0,error:!1,remainingRequests:1},this.refetchConfig))})),(0,s.Z)(this,"updateFetchedFieldOptionsCache",((e,t)=>{const{fetchedFieldOptionsCache:n}=this.state;this.setState({fetchedFieldOptionsCache:{...n,[e.name]:t.map((e=>[e.value,e.label]))}})})),(0,s.Z)(this,"ensureCurrentOption",((e,t)=>{const n=this.getDefaultOptions(e).find((t=>t.value===this.model.getValue(e.name)));if(!n)return t;"string"==typeof n.label&&(n.label=(0,m.BX)(i.Fragment,{children:[(0,m.tZ)(u.Z,{title:(0,h._N)("This is your current [label].",{label:e.label}),size:"xs"})," ",n.label]}));const s=t.findIndex((e=>e.value===n?.value));if(s>=0){const e=t;return e[s]=n,e}return[...t,n]})),(0,s.Z)(this,"getOptions",((e,t)=>new Promise(((n,s)=>t?this.debouncedOptionLoad(e,t,((t,i)=>{t?s(t):(i=this.ensureCurrentOption(e,i),this.updateFetchedFieldOptionsCache(e,i),n(i))})):n(this.getDefaultOptions(e)))))),(0,s.Z)(this,"debouncedOptionLoad",o()((async(e,t,n)=>{const{dynamicFieldValues:s}=this.state,i=a.stringify({...s,field:e.name,query:t}),r=e.url||"",o=r.includes("?")?"&":"?";try{const e=await fetch(r+o+i);n(null,e.ok?await e.json():[])}catch(e){n(e)}}),200,{trailing:!0})),(0,s.Z)(this,"getDefaultOptions",(e=>(e.choices||[]).map((e=>{let[t,n]=e;return{value:t,label:n}})))),(0,s.Z)(this,"getFieldProps",(e=>e.url?{async:!0,autoload:!0,cache:!1,loadOptions:t=>this.getOptions(e,t),defaultOptions:this.getDefaultOptions(e),onBlurResetsInput:!1,onCloseResetsInput:!1,onSelectResetsInput:!1}:{})),(0,s.Z)(this,"handleReceiveIntegrationDetails",(e=>{})),(0,s.Z)(this,"renderNavTabs",(()=>null)),(0,s.Z)(this,"renderBodyText",(()=>null)),(0,s.Z)(this,"getTitle",(()=>(0,h._N)("Issue Link Settings",{}))),(0,s.Z)(this,"getFormProps",(()=>{throw new Error("Method 'getFormProps()' must be implemented.")})),(0,s.Z)(this,"getDefaultFormProps",(()=>({footerClass:"modal-footer",onFieldChange:this.onFieldChange,submitDisabled:this.state.reloading,model:this.model}))),(0,s.Z)(this,"getCleanedFields",(()=>{const{fetchedFieldOptionsCache:e,integrationDetails:t}=this.state;return((t||{})[this.getConfigName()]||[]).map((t=>{const n={...t};return e?.hasOwnProperty(t.name)&&(n.choices=e[t.name]),n}))})),(0,s.Z)(this,"renderForm",(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(t||[]).reduce(((e,t)=>(e[t.name]=t.multiple&&0===t.default.length?"":t.default,e)),{}),{Header:r,Body:o}=e.props;return(0,m.BX)(i.Fragment,{children:[(0,m.tZ)(r,{closeButton:!0,children:e.getTitle()}),e.renderNavTabs(),(0,m.tZ)(o,{children:e.shouldRenderLoading?e.renderLoading():(0,m.BX)(i.Fragment,{children:[e.renderBodyText(),(0,m.tZ)(d.Z,{initialData:s,...e.getFormProps(),children:(t||[]).filter((e=>e.hasOwnProperty("name"))).map((e=>({...e,noOptionsMessage:()=>"No options. Type to search."}))).map(((t,s)=>(0,m.BX)(i.Fragment,{children:[(0,m.tZ)(c.Z,{disabled:e.state.reloading,field:t,flexibleControlStateSize:!0,inline:!1,stacked:!0,...e.getFieldProps(t)}),n[t.name]&&n[t.name]]},`${t.name}-${s}`)))})]})})]})}))}getDefaultState(){return{...super.getDefaultState(),action:"create",dynamicFieldValues:null,fetchedFieldOptionsCache:{},integrationDetails:null}}getEndPointString(){throw new Error("Method 'getEndPointString()' must be implemented.")}renderComponent(){return this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody()}}},"./app/components/globalAppStoreConnectUpdateAlert/index.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n("./app/components/projects/appStoreConnectContext.tsx"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("../node_modules/react/index.js"),o=n("./app/components/alert.tsx"),a=n("./app/styles/space.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=function(e){let{Wrapper:t,project:n,className:i}=e;const o=(0,r.useContext)(s.Z);if(!n||!o||!Object.keys(o).some((e=>!!o[e].updateAlertMessage)))return null;const a=(0,l.tZ)(d,{className:i,children:Object.keys(o).map((e=>{const{updateAlertMessage:t}=o[e];return t?(0,l.tZ)(p,{type:"warning",showIcon:!0,children:(0,l.tZ)(u,{children:t})},e):null}))});return t?(0,l.tZ)(t,{children:a}):a},d=(0,i.Z)("div",{target:"e16hnbbm2"})("display:grid;gap:",(0,a.Z)(2),";margin-bottom:",(0,a.Z)(3),";"),p=(0,i.Z)(o.Z,{target:"e16hnbbm1"})({name:"1ykowef",styles:"margin-bottom:0"}),u=(0,i.Z)("div",{target:"e16hnbbm0"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,a.Z)(1),";");function h(e){let{project:t,organization:n,...i}=e;return(0,l.tZ)(s.z,{project:t,organization:n,children:(0,l.tZ)(c,{project:t,...i})})}h.displayName="GlobalAppStoreConnectUpdateAlert";const m=h},"./app/components/navigationButtonGroup.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n("./app/components/button.tsx"),i=n("./app/components/buttonBar.tsx"),r=n("./app/icons/index.tsx"),o=n("./app/locale.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{let{links:t,hasNext:n=!1,hasPrevious:l=!1,className:c,size:d,onOldestClick:p,onOlderClick:u,onNewerClick:h,onNewestClick:m}=e;return(0,a.BX)(i.ZP,{className:c,merged:!0,children:[(0,a.tZ)(s.ZP,{size:d,to:t[0],disabled:!l,"aria-label":(0,o.t)("Oldest"),icon:(0,a.tZ)(r.sm,{size:"xs"}),onClick:p}),(0,a.tZ)(s.ZP,{size:d,to:t[1],disabled:!l,onClick:u,children:(0,o.t)("Older")}),(0,a.tZ)(s.ZP,{size:d,to:t[2],disabled:!n,onClick:h,children:(0,o.t)("Newer")}),(0,a.tZ)(s.ZP,{size:d,to:t[3],disabled:!n,"aria-label":(0,o.t)("Newest"),icon:(0,a.tZ)(r.pi,{size:"xs"}),onClick:m})]})};l.displayName="NavigationButtonGroup";const c=l},"./app/components/projects/appStoreConnectContext.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,z:()=>l});var s=n("../node_modules/react/index.js"),i=n("./app/utils/appStoreValidationErrorMessage.tsx"),r=n("./app/utils/useApi.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,s.createContext)(void 0),l=e=>{let{children:t,project:n,organization:l}=e;const c=(0,r.Z)(),[d,p]=(0,s.useState)(),[u,h]=(0,s.useState)(void 0),m=(0,s.useMemo)((()=>(d?.symbolSources?JSON.parse(d.symbolSources):[]).reduce(((e,t)=>{let{type:n,id:s,...i}=t;return"appstoreconnect"===n.toLowerCase()&&(e[s]={type:n,...i}),e}),{})),[d?.symbolSources]);function g(e,t){if("valid"!==t?.status)return(0,i.e)(t,e)}return(0,s.useEffect)((()=>{if(!n||d)return;if(n.symbolSources)return void p(n);let e=!1;return c.requestPromise(`/projects/${l.slug}/${n.slug}/`).then((t=>{e||p(t)})).catch((()=>{})),()=>{e=!0}}),[n,l,c]),(0,s.useEffect)((()=>{if(!d)return;if(!Object.keys(m).length)return;let e=!1;return c.requestPromise(`/projects/${l.slug}/${d.slug}/appstoreconnect/status/`).then((t=>{e||h(t)})).catch((()=>{})),()=>{e=!0}}),[d,l,m,c]),(0,o.tZ)(a.Provider,{value:u&&n?Object.keys(u).reduce(((e,t)=>{const s=u[t];return{...e,[t]:{...s,updateAlertMessage:g({name:m[t].name,link:`/settings/${l.slug}/projects/${n.slug}/debug-symbols/?customRepository=${t}`},s.credentials)}}}),{}):void 0,children:t})};l.displayName="Provider";const c=a},"./app/components/quickTrace/index.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),r=n("./app/components/dropdownLink.tsx"),o=n("./app/components/idBadge/projectBadge.tsx"),a=n("./app/components/quickTrace/utils.tsx"),l=n("./app/components/tooltip.tsx"),c=n("./app/data/platformCategories.tsx"),d=n("./app/icons/index.tsx"),p=n("./app/locale.tsx"),u=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),h=n("./app/utils/docs.tsx"),m=n("./app/utils/formatters.tsx"),g=n("./app/utils/localStorage.tsx"),Z=n("./app/utils/performance/quickTrace/utils.tsx"),v=n("./app/utils/projects.tsx"),f=n("./app/components/quickTrace/styles.tsx"),y=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=[...c.tQ,...c.ai],b=[...c.y3,...c.Wp],w={root:"root",ancestors:"ancestor",parent:"parent",current:"",children:"child",descendants:"descendant"};function S(e){let t,{event:n,quickTrace:s,location:r,organization:o,anchor:a,errorDest:l,transactionDest:c}=e;try{t=(0,Z.R8)(s,n,o)}catch(e){return(0,y.tZ)(i.Fragment,{children:"â€”"})}const d=s.trace&&s.trace.length,{root:u,ancestors:h,parent:m,children:g,descendants:w,current:S}=t,k=[];u&&(k.push((0,y.tZ)(_,{location:r,organization:o,events:[u],currentEvent:n,text:(0,p.t)("Root"),anchor:a,nodeKey:"root",errorDest:l,transactionDest:c},"root-node")),k.push((0,y.tZ)(f.c_,{},"root-connector"))),h?.length&&(k.push((0,y.tZ)(_,{location:r,organization:o,events:h,currentEvent:n,text:(0,p.tn)("%s Ancestor","%s Ancestors",h.length),anchor:a,nodeKey:"ancestors",errorDest:l,transactionDest:c},"ancestors-node")),k.push((0,y.tZ)(f.c_,{},"ancestors-connector"))),m&&(k.push((0,y.tZ)(_,{location:r,organization:o,events:[m],currentEvent:n,text:(0,p.t)("Parent"),anchor:a,nodeKey:"parent",errorDest:l,transactionDest:c},"parent-node")),k.push((0,y.tZ)(f.c_,{},"parent-connector")));const j=(0,y.tZ)(_,{location:r,organization:o,text:(0,p.t)("This Event"),events:[S],currentEvent:n,anchor:a,nodeKey:"current",errorDest:l,transactionDest:c},"current-node");return 1===d?k.push((0,y.tZ)(v.Z,{orgId:o.slug,slugs:[S.project_slug],children:e=>{let{projects:t}=e;const n=t.find((e=>e.slug===S.project_slug));if(n?.platform){if(b.includes(n.platform))return(0,y.BX)(i.Fragment,{children:[(0,y.tZ)(z,{anchor:a,organization:o,platform:n.platform,connectorSide:"right"}),j]});if(x.includes(n.platform))return(0,y.BX)(i.Fragment,{children:[j,(0,y.tZ)(z,{anchor:a,organization:o,platform:n.platform,connectorSide:"left"})]})}return j}},"missing-services")):k.push(j),g.length&&(k.push((0,y.tZ)(f.c_,{},"children-connector")),k.push((0,y.tZ)(_,{location:r,organization:o,events:g,currentEvent:n,text:(0,p.tn)("%s Child","%s Children",g.length),anchor:a,nodeKey:"children",errorDest:l,transactionDest:c},"children-node"))),w?.length&&(k.push((0,y.tZ)(f.c_,{},"descendants-connector")),k.push((0,y.tZ)(_,{location:r,organization:o,events:w,currentEvent:n,text:(0,p.tn)("%s Descendant","%s Descendants",w.length),anchor:a,nodeKey:"descendants",errorDest:l,transactionDest:c},"descendants-node"))),(0,y.tZ)(f.mg,{children:k})}function k(e,t,n){const s=n?"quick_trace.dropdown.clicked_extra":"quick_trace.dropdown.clicked";(0,u.Z)(s,{organization:t.id,node_key:e})}function _(e){let{location:t,organization:n,events:s=[],text:i,currentEvent:o,nodeKey:l,anchor:c,errorDest:h,transactionDest:g,numEvents:Z=5}=e,v=s.flatMap((e=>e.errors??[])),x="current"===l?"black":"white";if(v.length>0&&(x="current"===l?"error":"warning",i=(0,y.BX)(f.Gs,{children:[(0,y.tZ)(d.zC,{size:"xs"}),i]})),s=s.filter((e=>e.event_id!==o.id)),v=v.filter((e=>e.event_id!==o.id)),s.length+v.length===0)return(0,y.tZ)(f.Wf,{type:x,"data-test-id":"event-node",children:i});if(s.length+v.length===1){const e=v.length?(0,p.t)("View the error for this Transaction"):(0,y.tZ)(f.VS,{event:s[0]}),r=v.length?(0,a.Tn)(v[0],n,t,h):(0,a.MV)(s[0],n,t,g);return(0,y.tZ)(I,{text:i,hoverText:e,to:r,onClick:()=>function(e,t){(0,u.Z)("quick_trace.node.clicked",{organization:t.id,node_key:e})}(l,n),type:x})}const b=(0,p._N)("View [eventPrefix] [eventType]",{eventPrefix:w[l],eventType:v.length&&s.length?"events":s.length?"transactions":"errors"});return(0,y.tZ)(f.DZ,{children:(0,y.BX)(r.Z,{caret:!1,title:(0,y.tZ)(I,{text:i,hoverText:b,type:x}),anchorRight:"right"===c,children:[v.length>0&&(0,y.tZ)(f.rZ,{first:!0,children:(0,p.tn)("Related Error","Related Errors",v.length)}),v.slice(0,Z).map((e=>{const s=(0,a.Tn)(e,n,t,h);return(0,y.tZ)(j,{event:e,to:s,allowDefaultEvent:!0,onSelect:()=>k(l,n,!1),organization:n,anchor:c},e.event_id)})),s.length>0&&(0,y.tZ)(f.rZ,{first:0===v.length,children:(0,p.tn)("Transaction","Transactions",s.length)}),s.slice(0,Z).map((e=>{const s=(0,a.MV)(e,n,t,g);return(0,y.tZ)(j,{event:e,to:s,onSelect:()=>k(l,n,!1),allowDefaultEvent:!0,organization:n,subtext:(0,m.g9)(e["transaction.duration"]/1e3,e["transaction.duration"]<1e3?0:2,!0),anchor:c},e.event_id)})),(v.length>Z||s.length>Z)&&(0,y.tZ)(f.hP,{to:(0,a.aV)(o,n),allowDefaultEvent:!0,onSelect:()=>k(l,n,!0),children:(0,p.t)("View all events")})]})})}function j(e){let{event:t,onSelect:n,to:s,allowDefaultEvent:i,organization:r,subtext:l,anchor:c}=e;return(0,y.BX)(f.hP,{to:s,onSelect:n,allowDefaultEvent:i,children:[(0,y.BX)(f.I4,{children:[(0,y.tZ)(v.Z,{orgId:r.slug,slugs:[t.project_slug],children:e=>{let{projects:n}=e;const s=n.find((e=>e.slug===t.project_slug));return(0,y.tZ)(o.Z,{disableLink:!0,hideName:!0,project:s||{slug:t.project_slug},avatarSize:16})}}),(0,a.t_)(t)?(0,y.tZ)(f.PI,{value:t.transaction,expandDirection:"left"===c?"right":"left",maxLength:35,leftTrim:!0,trimRegex:/\.|\//g}):(0,y.tZ)(f.PI,{value:t.title,expandDirection:"left"===c?"right":"left",maxLength:45})]}),l&&(0,y.tZ)(f.df,{children:l})]})}function I(e){let{text:t,hoverText:n,to:s,onClick:i,type:r="white"}=e;return(0,y.tZ)(l.Z,{position:"top",containerDisplayMode:"inline-flex",title:n,children:(0,y.tZ)(f.Wf,{"data-test-id":"event-node",type:r,icon:null,to:s,onClick:i,children:t})})}S.displayName="QuickTrace",_.displayName="EventNodeSelector",j.displayName="DropdownNodeItem",I.displayName="StyledEventNode";const C="quick-trace:hide-missing-services";function E(){const e=g.Z.getItem(C);return null!==e&&parseInt(e,10)>(new Date).getTime()}class z extends i.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{hideMissing:E()}),(0,s.Z)(this,"dismissMissingService",(()=>{const{organization:e,platform:t}=this.props,n=(new Date).getTime();g.Z.setItem(C,(n+2592e6).toString()),this.setState({hideMissing:!0}),(0,u.Z)("quick_trace.missing_service.dismiss",{organization:e.id,platform:t})})),(0,s.Z)(this,"trackExternalLink",(()=>{const{organization:e,platform:t}=this.props;(0,u.Z)("quick_trace.missing_service.docs",{organization:e.id,platform:t})}))}render(){const{hideMissing:e}=this.state,{anchor:t,connectorSide:n,platform:s}=this.props;if(e)return null;const o=(0,h.Q)(s,!0),a=null===o||"javascript"===o?"https://docs.sentry.io/platforms/javascript/performance/connect-services/":`https://docs.sentry.io/platforms/${o}/performance/connect-services`;return(0,y.BX)(i.Fragment,{children:["left"===n&&(0,y.tZ)(f.c_,{}),(0,y.tZ)(f.DZ,{children:(0,y.BX)(r.Z,{caret:!1,title:(0,y.tZ)(I,{type:"white",hoverText:(0,p.t)("No services connected"),text:"???"}),anchorRight:"right"===t,children:[(0,y.tZ)(f.hP,{width:"small",children:(0,y.tZ)(f.AX,{href:a,onClick:this.trackExternalLink,children:(0,p.t)("Connect to a service")})}),(0,y.tZ)(f.hP,{onSelect:this.dismissMissingService,width:"small",children:(0,p.t)("Dismiss")})]})}),"right"===n&&(0,y.tZ)(f.c_,{})]})}}z.displayName="MissingServiceNode"},"./app/components/reprocessedBox.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("../node_modules/react/index.js"),o=n("./app/components/events/styles.tsx"),a=n("./app/components/links/link.tsx"),l=n("./app/icons/index.tsx"),c=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),p=n("./app/utils/localStorage.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends r.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{isBannerHidden:"true"===p.Z.getItem(this.getBannerUniqueId())}),(0,s.Z)(this,"handleBannerDismiss",(()=>{p.Z.setItem(this.getBannerUniqueId(),"true"),this.setState({isBannerHidden:!0})}))}getBannerUniqueId(){const{reprocessActivity:e}=this.props,{id:t}=e;return`reprocessed-activity-${t}-banner-dismissed`}renderMessage(){const{orgSlug:e,reprocessActivity:t,groupCount:n,groupId:s}=this.props,{data:i}=t,{eventCount:r,oldGroupId:o,newGroupId:l}=i,d=`/organizations/${e}/issues/?query=reprocessing.original_issue_id:${o}`;return 0===n?(0,c._N)("All events in this issue were moved during reprocessing. [link]",{link:(0,u.tZ)(a.Z,{to:d,children:(0,c.tn)("See %s new event","See %s new events",r)})}):(0,c._N)("Events in this issue were successfully reprocessed. [link]",{link:(0,u.tZ)(a.Z,{to:d,children:l===Number(s)?(0,c.tn)("See %s reprocessed event","See %s reprocessed events",r):(0,c.tn)("See %s new event","See %s new events",r)})})}render(){const{isBannerHidden:e}=this.state;if(e)return null;const{className:t}=this.props;return(0,u.tZ)(o.UP,{priority:"success",className:t,children:(0,u.BX)(g,{children:[(0,u.tZ)(l.DL,{color:"green300",isCircled:!0}),(0,u.tZ)("span",{children:this.renderMessage()}),(0,u.tZ)(Z,{color:"green300","aria-label":(0,c.t)("Dismiss"),isCircled:!0,onClick:this.handleBannerDismiss})]})})}}h.displayName="ReprocessedBox";const m=h,g=(0,i.Z)(o._B,{target:"e17keqf51"})("&>svg:last-child{margin-right:0;margin-left:",(0,d.Z)(1),";}"),Z=(0,i.Z)(l.bM,{target:"e17keqf50"})({name:"e0dnmk",styles:"cursor:pointer"})},"./app/utils/appStoreValidationErrorMessage.tsx":(e,t,n)=>{"use strict";n.d(t,{O:()=>a,e:()=>l}),n("../node_modules/core-js/modules/es.error.cause.js");var s=n("../node_modules/@sentry/core/esm/exports.js"),i=n("./app/components/links/link.tsx"),r=n("./app/locale.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.t)("An unexpected error occurred while configuring the App Store Connect integration");function l(e,t){switch(e.code){case"app-connect-authentication-error":return t?(0,r._N)("App Store Connect credentials are invalid or missing. [linkToCustomRepository]",{linkToCustomRepository:(0,o.tZ)(i.Z,{to:t.link,children:(0,r._N)("Make sure the credentials of the '[customRepositoryName]' repository are correct and exist.",{customRepositoryName:t.name})})}):(0,r.t)("The supplied App Store Connect credentials are invalid or missing.");case"app-connect-forbidden-error":return(0,r.t)("The supplied API key does not have sufficient permissions.");case"app-connect-multiple-sources-error":return(0,r.t)("Only one App Store Connect application is allowed in this project.");default:return s.Tb(new Error("Unknown app store connect error.")),a}}},"./app/utils/discover/genericDiscoverQuery.tsx":(e,t,n)=>{"use strict";n.d(t,{AA:()=>Z,JC:()=>f,ZP:()=>y,o:()=>h});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/react/index.js")),r=n("../node_modules/@tanstack/react-query/build/umd/index.production.js"),o=n("./app/api.tsx"),a=n("./app/locale.tsx"),l=n("./app/utils/discover/eventView.tsx"),c=n("./app/utils/performance/contexts/performanceEventViewContext.tsx"),d=n("./app/views/organizationContext.tsx"),p=n("./app/utils/useApi.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h{constructor(e,t){(0,s.Z)(this,"message",void 0),(0,s.Z)(this,"originalError",void 0),this.message=e,this.originalError=t}getOriginalError(){return this.originalError}}class m extends i.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{isLoading:!0,tableFetchID:void 0,error:null,tableData:null,pageLinks:null,api:new o.KU}),(0,s.Z)(this,"_shouldRefetchData",(e=>{const t=v(this.props),n=v(e);return!(0,l.ze)(t,n)||e.limit!==this.props.limit||e.route!==this.props.route||e.cursor!==this.props.cursor})),(0,s.Z)(this,"_parseError",(e=>{if(this.props.parseError)return this.props.parseError(e);if(!e)return null;const t=e.responseJSON?.detail;if("string"==typeof t)return new h(t,e);const n=t?.message;return new h("string"==typeof n?n:(0,a.t)("An unknown error occurred."),e)})),(0,s.Z)(this,"fetchData",(async()=>{const{queryBatching:e,beforeFetch:t,afterFetch:n,didFetch:s,eventView:i,orgSlug:r,route:o,setError:a}=this.props,{api:l}=this.state;if(!i.isValid())return;const c=`/organizations/${r}/${o}/`,d=Symbol("tableFetchID"),p=v(this.props);this.setState({isLoading:!0,tableFetchID:d}),a?.(void 0),t?.(l),l.clear();try{const[t,,i]=await Z(l,c,p,e);if(this.state.tableFetchID!==d)return;const r=n?n(t,this.props):t;s?.(r),this.setState((e=>({isLoading:!1,tableFetchID:void 0,error:null,pageLinks:i?.getResponseHeader("Link")??e.pageLinks,tableData:r})))}catch(e){const t=this._parseError(e);this.setState({isLoading:!1,tableFetchID:void 0,error:t,tableData:null}),a&&a(t??void 0)}}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const t=this._shouldRefetchData(e),n=!1===e.eventView.isValid()&&this.props.eventView.isValid(),s=!!this.props.shouldRefetchData&&this.props.shouldRefetchData(e,this.props);(t||n||s)&&this.fetchData()}render(){const{isLoading:e,error:t,tableData:n,pageLinks:s}=this.state,i={isLoading:e,error:t,tableData:n,pageLinks:s};return(0,this.props.children)?.(i)}}function g(e){const t=(0,i.useContext)(d.g)?.slug,n=(0,i.useContext)(c.uL)?.eventView,s=e.orgSlug??t,r=e.eventView??n;if(void 0===s||void 0===r)throw new Error("GenericDiscoverQuery requires both an orgSlug and eventView");const o={...e,orgSlug:s,eventView:r};return(0,u.tZ)(m,{...o})}function Z(e,t,n,s){return s?.batchRequest?s.batchRequest(e,t,{query:n,includeAllArgs:!0}):e.requestPromise(t,{method:"GET",includeAllArgs:!0,query:{...n}})}function v(e){const{cursor:t,limit:n,noPagination:s,referrer:i,getRequestPayload:r,eventView:o,location:a,forceAppendRawQueryString:l}=e,c=r?r(e):o.getEventsAPIPayload(a,l);return t&&(c.cursor=t),n&&(c.per_page=n),s&&(c.noPagination=s),i&&(c.referrer=i),Object.assign(c,e.queryExtras??{}),c}function f(e){const t=(0,p.Z)(),{orgSlug:n,route:s}=e,i=`/organizations/${n}/${s}/`,o=v(e);return(0,r.useQuery)([s,o],(async()=>{const[n]=await Z(t,i,o,e.queryBatching);return n}))}m.displayName="_GenericDiscoverQuery",g.displayName="GenericDiscoverQuery";const y=g},"./app/utils/docs.tsx":(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,_:()=>o}),n("../node_modules/core-js/modules/es.array.includes.js");const s=["dotnet","android","apple","dart","elixir","flutter","go","java","javascript","native","node","perl","php","python","react-native","ruby","rust","unity"],i=["dotnet","android","apple","go","java","javascript","node","php","python","react-native","ruby"];function r(e,t){if("react-native"===e)return"react-native";const n=e.indexOf("-"),r=n>=0?e.substring(0,n):e;if(function(e){return s.includes(e)}(r)){const e=i.includes(r);if(t&&e||!t)return r}return null}function o(e){const t=e?.platform??null,n=t?r(t,!0):null;return null===n?null:`https://docs.sentry.io/platforms/${n}/performance/`}},"./app/utils/environment.tsx":(e,t,n)=>{"use strict";function s(e){return e.name?encodeURIComponent(e.name):e.displayName?encodeURIComponent(e.displayName):"none"}function i(e){return e.name||e.displayName||"(No Environment)"}n.d(t,{G:()=>i,z:()=>s})},"./app/utils/getStacktraceBody.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n("./app/components/events/interfaces/crashContent/stackTrace/rawContent.tsx");function i(e){if(!e||!e.entries)return[];const t=e.entries.find((e=>{let{type:t}=e;return"exception"===t}));if(!t){const t=e.entries.find((e=>{let{type:t}=e;return"message"===t}));return t?t?.data?.formatted&&[t.data.formatted]:[]}return t.data?t.data.values.filter((e=>!!e.stacktrace)).map((t=>(0,s.ZP)(t.stacktrace,e.platform,t))).reduce(((e,t)=>e.concat(t)),[]):[]}},"./app/utils/performance/contexts/performanceEventViewContext.tsx":(e,t,n)=>{"use strict";n.d(t,{bq:()=>i,uL:()=>o});var s=n("./app/utils/performance/contexts/utils.tsx");const[i,r,o]=(0,s.n)({name:"PerformanceEventViewContext"})},"./app/utils/performance/contexts/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{n:()=>i}),n("../node_modules/core-js/modules/es.error.cause.js");var s=n("../node_modules/react/index.js");function i(e){const{strict:t=!0,errorMessage:n=`useContext for "${e.name}" must be inside a Provider with a value`,name:i}=e,r=(0,s.createContext)(void 0);return r.displayName=i,[r.Provider,function(){const e=(0,s.useContext)(r);if(!e&&t)throw new Error(n);return e},r]}},"./app/utils/performance/quickTrace/quickTraceQuery.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n("../node_modules/react/index.js"),i=n("./app/utils/performance/quickTrace/traceFullQuery.tsx"),r=n("./app/utils/discover/genericDiscoverQuery.tsx"),o=n("./app/utils/performance/quickTrace/utils.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{eventId:t,...n}=e;const s=(0,o.eF)(n);return Object.assign({event_id:t},s)}function c(e){let{children:t}=e;return(0,a.tZ)(s.Fragment,{children:t({isLoading:!1,error:null,trace:null,type:"partial"})})}function d(e){let{traceId:t,start:n,end:s,statsPeriod:i,children:d,...p}=e;if(!t)return(0,a.tZ)(c,{children:d});const u=(0,o._Z)({start:n,end:s,statsPeriod:i});return(0,a.tZ)(r.ZP,{route:`events-trace-light/${t}`,getRequestPayload:l,eventView:u,...p,children:e=>{let{tableData:t,...n}=e;return d({trace:t||null,type:"partial",...n})}})}c.displayName="EmptyTrace",d.displayName="TraceLiteQuery";const p=d;function u(e){let{children:t,event:n,...r}=e;const l=()=>(0,a.tZ)(s.Fragment,{children:t({isLoading:!1,error:null,trace:[],type:"empty",currentEvent:null})});if(!n)return l();const c=n.contexts?.trace?.trace_id;if(!c)return l();const{start:d,end:u}=(0,o.$J)(n);return(0,a.tZ)(p,{eventId:n.id,traceId:c,start:d,end:u,...r,children:e=>(0,a.tZ)(i.g,{eventId:n.id,traceId:c,start:d,end:u,...r,children:s=>{if(!s.isLoading&&null===s.error&&null!==s.traces)for(const e of s.traces)try{const i=(0,o.eW)(n,e);return t({...s,trace:i,currentEvent:i.find((e=>(0,o.q2)(e,n)))??null})}catch{}if(!e.isLoading&&null===e.error&&null!==e.trace){const{trace:s}=e;return t({...e,currentEvent:s.find((e=>(0,o.q2)(e,n)))??null})}return t({isLoading:e.error?s.isLoading:e.isLoading||s.isLoading,error:s.error,trace:[],type:s.traces?.length?"missing":"empty",currentEvent:null})}})})}u.displayName="QuickTraceQuery"},"./app/utils/performance/quickTrace/traceFullQuery.tsx":(e,t,n)=>{"use strict";n.d(t,{H:()=>p,g:()=>d});var s=n("../node_modules/react/index.js"),i=n("./app/utils/discover/genericDiscoverQuery.tsx"),r=n("./app/utils/performance/quickTrace/utils.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{detailed:t,eventId:n,...s}=e;const i=(0,r.eF)(s);return i.detailed=t?"1":"0",n&&(i.event_id=n),i}function l(e){let{children:t}=e;return(0,o.tZ)(s.Fragment,{children:t({isLoading:!1,error:null,traces:null,type:"full"})})}function c(e){let{traceId:t,start:n,end:s,statsPeriod:c,children:d,...p}=e;if(!t)return(0,o.tZ)(l,{children:d});const u=(0,r._Z)({start:n,end:s,statsPeriod:c});return(0,o.tZ)(i.ZP,{route:`events-trace/${t}`,getRequestPayload:a,eventView:u,...p,children:e=>{let{tableData:t,...n}=e;return d({traces:t||null,type:"full",...n})}})}l.displayName="EmptyTrace",c.displayName="GenericTraceFullQuery";const d=e=>(0,o.tZ)(c,{...e,detailed:!1});d.displayName="TraceFullQuery";const p=e=>(0,o.tZ)(c,{...e,detailed:!0});p.displayName="TraceFullDetailedQuery"},"./app/utils/replaceAtArrayIndex.tsx":(e,t,n)=>{"use strict";function s(e,t,n){const s=[...e];return s.splice(t,1,n),s}n.d(t,{m:()=>s})},"./app/views/organizationGroupDetails/groupEventDetails/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{GroupEventDetailsContainer:()=>yi,default:()=>xi}),n("../node_modules/core-js/modules/es.array.includes.js");var s=n("../node_modules/react/index.js"),i=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/reflux/src/index.js")),r=n("./app/utils/environment.tsx");const o={state:{environments:null,error:null},init(){this.state={environments:null,error:null}},makeEnvironment:e=>({id:e.id,name:e.name,get displayName(){return(0,r.G)(e)},get urlRoutingName(){return(0,r.z)(e)}}),onFetchEnvironments(){this.state={environments:null,error:null},this.trigger(this.state)},onFetchEnvironmentsSuccess(e){this.state={error:null,environments:e.map(this.makeEnvironment)},this.trigger(this.state)},onFetchEnvironmentsError(e){this.state={error:e,environments:null},this.trigger(this.state)},getState(){return this.state}},a=(0,i.createStore)(o);var l=n("./app/components/loadingError.tsx"),c=n("./app/components/loadingIndicator.tsx"),d=n("./app/locale.tsx"),p=n("./app/stores/useLegacyStore.tsx"),u=n("./app/utils/withApi.tsx"),h=n("./app/utils/withOrganization.tsx"),m=n("./app/utils/withPageFilters.tsx"),g=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),Z=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),v=n("../node_modules/react-router/es/index.js"),f=n("../node_modules/@sentry/core/esm/exports.js"),y=n("../node_modules/lodash/isEqual.js"),x=n.n(y),b=n("./app/stores/sentryAppComponentsStore.tsx"),w=n("./app/components/errors/detailedError.tsx"),S=n("./app/components/list/index.tsx"),k=n("./app/components/list/listItem.tsx"),_=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const j=e=>{let{onRetry:t,environments:n}=e;const s=[(0,d.t)("The events are still processing and are on their way"),(0,d.t)("The events have been deleted"),(0,d.t)("There is an internal systems error or active issue")];let i;return i=0===n.length?(0,_.BX)("div",{children:[(0,_.tZ)("p",{children:(0,d.t)("This could be due to a handful of reasons:")}),(0,_.tZ)(S.Z,{symbol:"bullet",children:s.map(((e,t)=>(0,_.tZ)(k.Z,{children:e},t)))})]}):(0,_.tZ)("div",{children:(0,d.t)("No events were found for the currently selected environments")}),(0,_.tZ)(w.Z,{onRetry:0===n.length?t:void 0,heading:(0,d.t)("Sorry, the events for this issue could not be found."),message:i})};j.displayName="GroupEventDetailsLoadingError";const I=j;var C=n("./app/components/events/eventEntries.tsx"),E=n("./app/components/events/meta/metaProxy.tsx"),z=n("../node_modules/lodash/isObject.js"),D=n.n(z),T=n("../node_modules/lodash/keyBy.js"),N=n.n(T),B=n("../node_modules/lodash/pickBy.js"),q=n.n(B),A=n("./app/components/acl/feature.tsx"),P=n("./app/components/environmentPageFilter.tsx"),F=n("./app/components/errorBoundary.tsx"),R=n("./app/actionCreators/members.tsx"),O=n("./app/components/assigneeSelectorDropdown.tsx"),X=n("./app/components/avatar/actorAvatar.tsx"),L=n("./app/components/dropdownAutoComplete/menu.tsx"),$=n("./app/components/sidebarSection.tsx"),V=n("./app/icons/index.tsx"),M=n("./app/stores/memberListStore.tsx"),U=n("./app/stores/teamStore.tsx"),G=n("./app/styles/space.tsx"),Y=n("./app/utils/useApi.tsx"),H=n("./app/utils/useOrganization.tsx");function Q(e){let{group:t,projectId:n}=e;const i=(0,H.Z)(),r=(0,Y.Z)();function o(e){return"team"===e?.type?`#${U.Z.getById(t.assignedTo.id)?.slug??t.assignedTo.name}`:"user"===e?.type?M.Z.getById(e.id)?.name??t.assignedTo.name:t.assignedTo?.name??(0,d.t)("No-one")}return(0,s.useEffect)((()=>{(0,R.MA)(r,i.slug,[n])}),[r,i.slug,n]),(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,d.t)("Assigned To")}),(0,_.tZ)(ne,{children:(0,_.tZ)(O.o,{id:t.id,children:e=>{let{loading:t,assignedTo:n,isOpen:s,getActorProps:i}=e;return(0,_.BX)(W,{"data-test-id":"assignee-selector",...i({}),children:[(0,_.BX)(J,{children:[t?(0,_.tZ)(se,{mini:!0,size:20}):n?(0,_.tZ)(X.Z,{"data-test-id":"assigned-avatar",actor:n,hasTooltip:!1,size:24}):(0,_.tZ)(ee,{children:(0,_.tZ)(V.qO,{size:"md"})}),(0,_.tZ)(te,{children:o(n)})]}),(0,_.tZ)(V.g6,{direction:s?"up":"down"})]})}})})]})}Q.displayName="AssignedTo";const K=Q,W=(0,Z.Z)("div",{target:"eern2v75"})("display:flex;align-items:center;justify-content:space-between;gap:",(0,G.Z)(1),";"),J=(0,Z.Z)("div",{target:"eern2v74"})("display:flex;align-items:center;gap:",(0,G.Z)(1),";max-width:85%;line-height:1;"),ee=(0,Z.Z)("div",{target:"eern2v73"})({name:"zjik7",styles:"display:flex"}),te=(0,Z.Z)("div",{target:"eern2v72"})("line-height:1.2;",(e=>e.theme.overflowEllipsis),";"),ne=(0,Z.Z)($.VY,{target:"eern2v71"})(L.O,"{display:block;}"),se=(0,Z.Z)(c.Z,{target:"eern2v70"})({name:"1el30ol",styles:"height:20px;width:20px;margin:0"});var ie=n("./app/components/alertLink.tsx"),re=n("./app/components/asyncComponent.tsx"),oe=n("./app/actionCreators/indicator.tsx"),ae=n("./app/actionCreators/modal.tsx"),le=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),ce=n("../node_modules/lodash/capitalize.js"),de=n.n(ce),pe=n("./app/components/hovercard.tsx"),ue=n("./app/utils/integrationUtil.tsx");function he(e){let{children:t,disabled:n,externalIssueDisplayName:i,externalIssueId:r,externalIssueKey:o,externalIssueLink:a,hoverCardBody:l,hoverCardHeader:c,integrationType:p,onClose:u,onOpen:h,showHoverCard:m}=e;const g=!(!a||!r),Z=(0,ue.Y6)(p),v=(0,s.useMemo)((()=>{switch(p){case"gitlab":return"GitLab";case"github":return"GitHub";case"github_enterprise":return"GitHub Enterprise";case"vsts":return"Azure DevOps";case"jira_server":return"Jira Server";default:return de()(p)}}),[p]),f=t||i||o||`${v} Issue`,y=(0,_.tZ)(ge,{href:a||void 0,onClick:g?void 0:h,disabled:n,children:f});return(0,_.BX)(me,{children:[(0,_.tZ)(le.ms,{children:e=>{let{css:t}=e;return(0,_.BX)(Ze,{containerClassName:t`
              display: flex;
              align-items: center;
              min-width: 0; /* flex-box overflow workaround */

              svg {
                flex-shrink: 0;
              }
            `,header:c,body:l,bodyClassName:"issue-list-body",forceVisible:m,children:[Z,y]})}}),(u||h)&&(0,_.tZ)(ve,{role:"button","aria-label":g?(0,d.t)("Close"):(0,d.t)("Add"),onClick:()=>{g?u?.(r):h?.()},children:g?(0,_.tZ)(V.bM,{}):h?(0,_.tZ)(V.N_,{}):null})]})}he.displayName="IssueSyncListElement";const me=(0,Z.Z)("div",{target:"ea4nvig3"})("line-height:0;display:flex;align-items:center;justify-content:space-between;&:not(:last-child){margin-bottom:",(0,G.Z)(2),";}"),ge=(0,Z.Z)("a",{target:"ea4nvig2"})("text-decoration:none;margin-left:",(0,G.Z)(1),";color:",(e=>e.theme.textColor),";cursor:pointer;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:hover{color:",(e=>{let{disabled:t,theme:n}=e;return t?n.disabled:n.blue300}),";}"),Ze=(0,Z.Z)(pe.uI,{target:"ea4nvig1"})(pe.uT,"{max-height:300px;overflow-y:auto;}"),ve=(0,Z.Z)("span",{target:"ea4nvig0"})("color:",(e=>e.theme.textColor),";cursor:pointer;"),fe=he;var ye=n("./app/views/organizationIntegrations/integrationItem.tsx"),xe=n("../node_modules/@sentry/core/esm/hub.js"),be=n("./app/components/externalIssues/abstractExternalIssueForm.tsx"),we=n("./app/components/navTabs.tsx");const Se={link:(0,d.t)("Successfully linked issue."),create:(0,d.t)("Successfully created issue.")},ke={link:(0,d.t)("Link Issue"),create:(0,d.t)("Create Issue")};class _e extends be.Z{constructor(e){super(e,{}),(0,g.Z)(this,"loadTransaction",void 0),(0,g.Z)(this,"submitTransaction",void 0),(0,g.Z)(this,"handleClick",(e=>{this.setState({action:e},(()=>this.reloadData()))})),(0,g.Z)(this,"startTransaction",(e=>{const{group:t,integration:n}=this.props,{action:s}=this.state,i=f.Yr({name:`externalIssueForm.${e}`});return xe.Gd().configureScope((e=>e.setSpan(i))),i.setTag("issueAction",s),i.setTag("groupID",t.id),i.setTag("projectID",t.project.id),i.setTag("integrationSlug",n.provider.slug),i.setTag("integrationType","firstParty"),i})),(0,g.Z)(this,"handlePreSubmit",(()=>{this.submitTransaction=this.startTransaction("submit")})),(0,g.Z)(this,"onSubmitSuccess",(e=>{const{onChange:t,closeModal:n}=this.props,{action:s}=this.state;t((()=>(0,oe.S9)(Se[s]))),n(),this.submitTransaction?.finish()})),(0,g.Z)(this,"handleSubmitError",(()=>{this.submitTransaction?.finish()})),(0,g.Z)(this,"onLoadAllEndpointsSuccess",(()=>{this.loadTransaction?.finish()})),(0,g.Z)(this,"onRequestError",(()=>{this.loadTransaction?.finish()})),(0,g.Z)(this,"getTitle",(()=>{const{integration:e}=this.props;return(0,d._N)("[integration] Issue",{integration:e.provider.name})})),(0,g.Z)(this,"getFormProps",(()=>{const{action:e}=this.state;return{...this.getDefaultFormProps(),submitLabel:ke[e],apiEndpoint:this.getEndPointString(),apiMethod:"create"===e?"POST":"PUT",onPreSubmit:this.handlePreSubmit,onSubmitError:this.handleSubmitError,onSubmitSuccess:this.onSubmitSuccess}})),(0,g.Z)(this,"renderNavTabs",(()=>{const{action:e}=this.state;return(0,_.BX)(we.Z,{underlined:!0,children:[(0,_.tZ)("li",{className:"create"===e?"active":"",children:(0,_.tZ)("a",{onClick:()=>this.handleClick("create"),children:(0,d.t)("Create")})}),(0,_.tZ)("li",{className:"link"===e?"active":"",children:(0,_.tZ)("a",{onClick:()=>this.handleClick("link"),children:(0,d.t)("Link")})})]})})),this.loadTransaction=this.startTransaction("load")}getEndpoints(){const e={};return this.state?.hasOwnProperty("action")&&(e.action=this.state.action),[["integrationDetails",this.getEndPointString(),{query:e}]]}getEndPointString(){const{group:e,integration:t}=this.props;return`/groups/${e.id}/integrations/${t.id}/`}renderBody(){return this.renderForm(this.getCleanedFields())}}const je=e=>{let{configurations:t,group:n,onChange:i,api:r}=e;const{linked:o,unlinked:a}=t.sort(((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()))).reduce(((e,t)=>(t.externalIssues.length?e.linked.push(t):e.unlinked.push(t),e)),{linked:[],unlinked:[]}),l=e=>(0,ae.openModal)((t=>(0,_.tZ)(_e,{...t,group:n,onChange:i,integration:e})),{allowClickClose:!1});return(0,_.BX)(s.Fragment,{children:[o.map((e=>{const{provider:t,externalIssues:s}=e,o=s[0];return(0,_.tZ)(fe,{externalIssueLink:o.url,externalIssueId:o.id,externalIssueKey:o.key,externalIssueDisplayName:o.displayName,onClose:()=>(e=>{const{externalIssues:t}=e,s=t[0],{id:o}=s,a=`/groups/${n.id}/integrations/${e.id}/?externalIssue=${o}`;r.request(a,{method:"DELETE",success:()=>{i((()=>(0,oe.S9)((0,d.t)("Successfully unlinked issue."))),(()=>(0,oe.Iw)((0,d.t)("Unable to unlink issue."))))},error:()=>{(0,oe.Iw)((0,d.t)("Unable to unlink issue."))}})})(e),integrationType:t.key,hoverCardHeader:(0,d.t)("%s Integration",t.name),hoverCardBody:(0,_.BX)("div",{children:[(0,_.tZ)(Ie,{children:o.title}),o.description&&(0,_.tZ)(Ce,{children:o.description})]})},o.id)})),a.length>0&&(0,_.tZ)(fe,{integrationType:a[0].provider.key,hoverCardHeader:(0,d.t)("%s Integration",a[0].provider.name),hoverCardBody:(0,_.tZ)(ze,{children:a.map((e=>(0,_.tZ)(Ee,{onClick:()=>l(e),children:(0,_.tZ)(ye.Z,{integration:e})},e.id)))}),onOpen:1===a.length?()=>l(a[0]):void 0})]})};je.displayName="ExternalIssueActions";const Ie=(0,Z.Z)("div",{target:"ekb3y1q3"})("font-size:1.1em;font-weight:600;",(e=>e.theme.overflowEllipsis),";"),Ce=(0,Z.Z)("div",{target:"ekb3y1q2"})("margin-top:",(0,G.Z)(1),";",(e=>e.theme.overflowEllipsis),";"),Ee=(0,Z.Z)("div",{target:"ekb3y1q1"})("margin-bottom:",(0,G.Z)(2),";cursor:pointer;"),ze=(0,Z.Z)("div",{target:"ekb3y1q0"})("&>div:last-child{margin-bottom:",(0,G.Z)(1),";}"),De=(0,u.Z)(je);var Te=n("./app/plugins/index.tsx");class Ne extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{issue:null,pluginLoading:!1}),(0,g.Z)(this,"deleteIssue",(()=>{const e={...this.props.plugin,issue:null},t=`/issues/${this.props.group.id}/plugins/${e.slug}/unlink/`;this.props.api.request(t,{success:()=>{this.loadPlugin(e),(0,oe.S9)((0,d.t)("Successfully unlinked issue."))},error:()=>{(0,oe.Iw)((0,d.t)("Unable to unlink issue"))}})})),(0,g.Z)(this,"loadPlugin",(e=>{this.setState({pluginLoading:!0},(()=>{Te.ZP.load(e,(()=>{const t=e.issue||null;this.setState({pluginLoading:!1,issue:t})}))}))})),(0,g.Z)(this,"handleModalClose",(e=>this.setState({issue:e?.id&&e?.link?{issue_id:e.id,url:e.link,label:e.label}:null}))),(0,g.Z)(this,"openModal",(()=>{const{issue:e}=this.state,{project:t,group:n,organization:s}=this.props,i={...this.props.plugin,issue:e};(0,ae.openModal)((e=>(0,_.tZ)(Be,{...e,project:t,group:n,organization:s,plugin:i,onSuccess:this.handleModalClose})),{onClose:this.handleModalClose})}))}componentDidMount(){this.loadPlugin(this.props.plugin)}componentDidUpdate(e){this.props.plugin.id!==e.plugin.id&&this.loadPlugin(this.props.plugin)}render(){const{issue:e}=this.state,t={...this.props.plugin,issue:e};return(0,_.tZ)(fe,{onOpen:this.openModal,externalIssueDisplayName:e?e.label:null,externalIssueId:e?e.issue_id:null,externalIssueLink:e?e.url:null,onClose:this.deleteIssue,integrationType:t.id})}}Ne.displayName="PluginActions";class Be extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{actionType:"create"})}render(){const{Header:e,Body:t,group:n,project:i,organization:r,plugin:o,onSuccess:a}=this.props,{actionType:l}=this.state;return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(e,{closeButton:!0,children:(0,d._N)("[name] Issue",{name:o.name||o.title})}),(0,_.BX)(we.Z,{underlined:!0,children:[(0,_.tZ)("li",{className:"create"===l?"active":"",children:(0,_.tZ)("a",{onClick:()=>this.setState({actionType:"create"}),children:(0,d.t)("Create")})}),(0,_.tZ)("li",{className:"link"===l?"active":"",children:(0,_.tZ)("a",{onClick:()=>this.setState({actionType:"link"}),children:(0,d.t)("Link")})})]}),l&&(0,_.tZ)(t,{children:Te.ZP.get(o).renderGroupActions({plugin:o,group:n,project:i,organization:r,actionType:l,onSuccess:a})},l)]})}}Be.displayName="PluginActionsModal";const qe=(0,u.Z)((0,h.Z)(Ne));var Ae=n("./app/components/sentryAppComponentIcon.tsx"),Pe=n("./app/components/tooltip.tsx"),Fe=n("./app/utils/recordSentryAppInteraction.tsx");const Re={init(){this.items=[]},getInitialState(){return this.items},load(e){this.items=e,this.trigger(e)},get(e){return this.items.find((t=>t.id===e))},getAll(){return this.items},add(e){this.items.some((t=>t.id===e.id))||(this.items=this.items.concat([e]),this.trigger(this.items))}},Oe=(0,i.createStore)(Re);var Xe=n("./app/utils/getStacktraceBody.tsx"),Le=n("./app/utils/queryString.tsx"),$e=n("./app/views/organizationIntegrations/sentryAppExternalForm.tsx");class Ve extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"onSubmitSuccess",(e=>{Oe.add(e),this.props.onSubmitSuccess(e)}))}getStacktrace(){const e=this.props.event,t=(0,Xe.Z)(e);return t&&t.length>0?"\n\n```\n"+t[0]+"\n```":""}getFieldDefault(e){const{group:t,appName:n}=this.props;switch("textarea"===e.type&&(e.maxRows=10,e.autosize=!0),e.default){case"issue.title":return t.title;case"issue.description":const e=this.getStacktrace(),s={referrer:n},i=(0,Le.Yi)(t.permalink,s),r=t.shortId;return(0,d.t)("Sentry Issue: [%s](%s)%s",r,i,e);default:return""}}render(){return(0,_.tZ)($e.Z,{sentryAppInstallationUuid:this.props.sentryAppInstallation.uuid,appName:this.props.appName,config:this.props.config,action:this.props.action,element:"issue-link",extraFields:{groupId:this.props.group.id},extraRequestBody:{projectId:this.props.group.project.id},onSubmitSuccess:this.onSubmitSuccess,getFieldDefault:e=>this.getFieldDefault(e)})}}Ve.displayName="SentryAppExternalIssueForm";const Me=Ve;class Ue extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{action:"create"}),(0,g.Z)(this,"showLink",(()=>{this.setState({action:"link"})})),(0,g.Z)(this,"showCreate",(()=>{this.setState({action:"create"})})),(0,g.Z)(this,"onSubmitSuccess",(e=>{this.props.onSubmitSuccess(e),this.props.closeModal()}))}render(){const{Header:e,Body:t,sentryAppComponent:n,sentryAppInstallation:i,group:r}=this.props,{action:o}=this.state,a=n.sentryApp.name,l=n.schema[o];return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(e,{closeButton:!0,children:(0,d._N)("[name] Issue",{name:a})}),(0,_.BX)(we.Z,{underlined:!0,children:[(0,_.tZ)("li",{className:"create"===o?"active create":"create",children:(0,_.tZ)("a",{onClick:this.showCreate,children:(0,d.t)("Create")})}),(0,_.tZ)("li",{className:"link"===o?"active link":"link",children:(0,_.tZ)("a",{onClick:this.showLink,children:(0,d.t)("Link")})})]}),(0,_.tZ)(t,{children:(0,_.tZ)(Me,{group:r,sentryAppInstallation:i,appName:a,config:l,action:o,onSubmitSuccess:this.onSubmitSuccess,event:this.props.event})})]})}}Ue.displayName="SentryAppExternalIssueModal";const Ge=(0,u.Z)(Ue);class Ye extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{action:"create",externalIssue:this.props.externalIssue}),(0,g.Z)(this,"doOpenModal",(e=>{if(this.state.externalIssue)return;const{group:t,event:n,sentryAppComponent:s,sentryAppInstallation:i}=this.props;(0,Fe.E)(s.sentryApp.slug,"sentry_app_component_interacted",{componentType:"issue-link"}),e?.preventDefault(),(0,ae.openModal)((e=>(0,_.tZ)(Ge,{...e,group:t,event:n,sentryAppComponent:s,sentryAppInstallation:i,onSubmitSuccess:this.onSubmitSuccess})),{allowClickClose:!1})})),(0,g.Z)(this,"deleteIssue",(()=>{const{api:e,group:t}=this.props,{externalIssue:n}=this.state;n&&async function(e,t,n){return await e.requestPromise(`/issues/${t}/external-issues/${n}/`,{method:"DELETE"})}(e,t.id,n.id).then((e=>{this.setState({externalIssue:void 0}),(0,oe.S9)((0,d.t)("Successfully unlinked issue."))})).catch((e=>{(0,oe.Iw)((0,d.t)("Unable to unlink issue."))}))})),(0,g.Z)(this,"onAddRemoveClick",(()=>{const{externalIssue:e}=this.state;e?this.deleteIssue():this.doOpenModal()})),(0,g.Z)(this,"onSubmitSuccess",(e=>{this.setState({externalIssue:e})}))}componentDidUpdate(e){this.props.externalIssue!==e.externalIssue&&this.updateExternalIssue(this.props.externalIssue)}updateExternalIssue(e){this.setState({externalIssue:e})}render(){const{sentryAppComponent:e,disabled:t}=this.props,{externalIssue:n}=this.state,s=e.sentryApp.name;let i="#",r=(0,d._N)("[name] Issue",{name:s});return n&&(i=n.webUrl,r=n.displayName),(0,_.BX)(We,{children:[(0,_.BX)(Qe,{children:[(0,_.tZ)(He,{sentryAppComponent:e}),(0,_.tZ)(Pe.Z,{title:(0,d._N)("Unable to connect to [provider].",{provider:e.sentryApp.name}),disabled:!t,children:(0,_.tZ)(Ke,{onClick:e=>t?e.preventDefault():this.doOpenModal(),href:i,disabled:t,children:r})})]}),(0,_.tZ)(Je,{disabled:t,onClick:()=>!t&&this.onAddRemoveClick(),children:n?(0,_.tZ)(V.bM,{}):(0,_.tZ)(V.N_,{})})]})}}Ye.displayName="SentryAppExternalIssueActions";const He=(0,Z.Z)(Ae.Z,{target:"e1txsdtz4"})("color:",(e=>e.theme.textColor),";width:",(0,G.Z)(3),";height:",(0,G.Z)(3),";cursor:pointer;flex-shrink:0;"),Qe=(0,Z.Z)("div",{target:"e1txsdtz3"})({name:"p2fe58",styles:"display:flex;align-items:center;min-width:0"}),Ke=(0,Z.Z)(ge,{target:"e1txsdtz2"})("color:",(e=>{let{disabled:t,theme:n}=e;return t?n.disabled:n.textColor}),";"),We=(0,Z.Z)("div",{target:"e1txsdtz1"})({name:"1ctrpvd",styles:"line-height:0;display:flex;align-items:center;justify-content:space-between;margin-bottom:16px"}),Je=(0,Z.Z)("span",{target:"e1txsdtz0"})("color:",(e=>{let{disabled:t,theme:n}=e;return t?n.disabled:n.textColor}),";cursor:pointer;"),et=(0,u.Z)(Ye);var tt=n("./app/components/placeholder.tsx");const nt={init(){this.items=[]},getInitialState(){return this.items},load(e){this.items=e,this.trigger(e)},get(e){return this.items.find((t=>t.uuid===e))},getAll(){return this.items}},st=(0,i.createStore)(nt);var it=n("./app/utils/withSentryAppComponents.tsx");class rt extends re.Z{getEndpoints(){const{group:e}=this.props;return[["integrations",`/groups/${e.id}/integrations/`]]}constructor(e){super(e,{}),(0,g.Z)(this,"unsubscribables",[]),(0,g.Z)(this,"onSentryAppInstallationChange",(e=>{this.setState({sentryAppInstallations:e})})),(0,g.Z)(this,"onExternalIssueChange",(e=>{this.setState({externalIssues:e})})),this.state=Object.assign({},this.state,{sentryAppInstallations:st.getInitialState(),externalIssues:Oe.getInitialState()})}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this.unsubscribables=[st.listen(this.onSentryAppInstallationChange,this),Oe.listen(this.onExternalIssueChange,this)],this.fetchSentryAppData()}componentWillUnmount(){super.componentWillUnmount(),this.unsubscribables.forEach((e=>e()))}fetchSentryAppData(){const{group:e,project:t,organization:n}=this.props;t&&t.id&&n&&this.api.requestPromise(`/groups/${e.id}/external-issues/`).then((e=>{Oe.load(e),this.setState({externalIssues:e})})).catch((e=>{}))}async updateIntegrations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{const{group:t}=this.props,n=await this.api.requestPromise(`/groups/${t.id}/integrations/`);this.setState({integrations:n},(()=>e()))}catch(e){t()}}renderIntegrationIssues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{group:t}=this.props,n=e.filter((e=>"active"===e.status)),s=n.reduce(((e,t)=>{const n=e.get(t.provider.key);return n?e.set(t.provider.key,[...n,t]):e.set(t.provider.key,[t]),e}),new Map);return n.length?[...s.entries()].map((e=>{let[n,s]=e;return(0,_.tZ)(De,{configurations:s,group:t,onChange:this.updateIntegrations.bind(this)},n)})):null}renderSentryAppIssues(){const{externalIssues:e,sentryAppInstallations:t}=this.state,{components:n,group:s}=this.props;return 0===n.length?null:n.map((n=>{const{sentryApp:i,error:r}=n,o=t.find((e=>e.app.uuid===i.uuid));if(!o)return null;const a=(e||[]).find((e=>e.serviceType===i.slug));return(0,_.tZ)(F.Z,{mini:!0,children:(0,_.tZ)(et,{group:s,event:this.props.event,sentryAppComponent:n,sentryAppInstallation:o,externalIssue:a,disabled:r},i.slug)},i.slug)}))}renderPluginIssues(){const{group:e,project:t}=this.props;return e.pluginIssues&&e.pluginIssues.length?e.pluginIssues.map(((n,s)=>(0,_.tZ)(qe,{group:e,project:t,plugin:n},s))):null}renderPluginActions(){const{group:e}=this.props;return e.pluginActions&&e.pluginActions.length?e.pluginActions.map(((e,t)=>(0,_.tZ)(fe,{externalIssueLink:e[1],children:e[0]},t))):null}renderLoading(){return(0,_.BX)($.Eq,{"data-test-id":"linked-issues",children:[(0,_.tZ)($.Dx,{children:(0,d.t)("Linked Issues")}),(0,_.tZ)($.VY,{children:(0,_.tZ)(tt.Z,{height:"120px"})})]})}renderBody(){const e=this.renderSentryAppIssues(),t=this.renderIntegrationIssues(this.state.integrations),n=this.renderPluginIssues(),s=this.renderPluginActions(),i=!(e||t||n||s);return(0,_.BX)($.Eq,{"data-test-id":"linked-issues",children:[(0,_.tZ)($.Dx,{children:(0,d.t)("Issue Tracking")}),(0,_.BX)($.VY,{children:[i&&(0,_.tZ)(ie.Z,{priority:"muted",size:"small",to:`/settings/${this.props.organization.slug}/integrations/?category=issue%20tracking`,children:(0,d.t)("Track this issue in Jira, GitHub, etc.")}),e&&(0,_.tZ)(ot,{children:e}),t&&(0,_.tZ)(ot,{children:t}),n&&(0,_.tZ)(ot,{children:n}),s&&(0,_.tZ)(ot,{children:s})]})]})}}const ot=(0,Z.Z)("div",{target:"e5jfgsv0"})("margin-bottom:",(0,G.Z)(2),";"),at=(0,it.Z)((0,h.Z)(rt),{componentType:"issue-link"});var lt=n("./app/components/acl/access.tsx"),ct=n("./app/components/button.tsx"),dt=n("./app/components/links/link.tsx"),pt=n("./app/components/questionTooltip.tsx"),ut=n("./app/utils.tsx");function ht(e){let{group:t,project:n,organization:s}=e;const i=(0,p.X)(M.Z),r=t.owners?.find((e=>{let{type:t}=e;return["codeowners","ownershipRule"].includes(t)}));let o;if(r){const[e,t]=r.owner.split(":");if("user"===e){const e=i.find((e=>e.id===t));e&&(o={type:"user",id:t,name:e.name})}else if("team"===e){const e=(n?.teams??[]).find((e=>{let{id:t}=e;return(0,ut.dZ)(t)===r.owner}));e&&(o={type:"team",id:t,name:e.slug})}}return(0,_.BX)($.Eq,{children:[(0,_.BX)(yt,{children:[(0,_.BX)(xt,{children:[(0,d.t)("Owned By"),(0,_.tZ)(pt.Z,{position:"top",title:(0,d.t)("Set rules on which user or team owns an issue based on path, module, tag, or URL"),size:"sm",color:"gray200"})]}),(0,_.BX)(bt,{children:[(0,_.tZ)(lt.Z,{access:["project:write"],children:(0,_.tZ)(ct.ZP,{type:"button",onClick:()=>{(0,ae.openCreateOwnershipRule)({project:n,organization:s,issueId:t.id})},"aria-label":(0,d.t)("Create Ownership Rule"),icon:(0,_.tZ)(V.N_,{}),size:"zero",borderless:!0})}),(0,_.tZ)(ft,{to:`/settings/${s.slug}/projects/${n.slug}/ownership/`,"aria-label":(0,d.t)("Issue Owners Settings"),children:(0,_.tZ)(V.iC,{})})]})]}),(0,_.tZ)($.VY,{children:(0,_.BX)(gt,{children:[o?(0,_.tZ)(X.Z,{"data-test-id":"owner-avatar",actor:o,hasTooltip:!1,size:24}):(0,_.tZ)(vt,{children:(0,_.tZ)(V.qO,{size:"md"})}),(0,_.tZ)(Zt,{children:"team"===o?.type?`#${o?.name}`:o?.name??(0,d.t)("No-one")})]})})]})}ht.displayName="OwnedBy";const mt=ht,gt=(0,Z.Z)("div",{target:"ep848286"})("display:flex;align-items:center;gap:",(0,G.Z)(1),";max-width:85%;line-height:1;"),Zt=(0,Z.Z)("div",{target:"ep848285"})("line-height:1.2;",(e=>e.theme.overflowEllipsis),";"),vt=(0,Z.Z)("div",{target:"ep848284"})({name:"zjik7",styles:"display:flex"}),ft=(0,Z.Z)(dt.Z,{target:"ep848283"})("display:flex;align-items:center;color:",(e=>e.theme.textColor),";"),yt=(0,Z.Z)($.Dx,{target:"ep848282"})({name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"}),xt=(0,Z.Z)("div",{target:"ep848281"})("display:flex;align-items:center;gap:",(0,G.Z)(.5),";"),bt=(0,Z.Z)("div",{target:"ep848280"})("display:flex;align-items:center;gap:",(0,G.Z)(1),";");var wt=n("./app/components/avatar/userAvatar.tsx");const St=e=>{let{participants:t}=e;return(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,d.tn)("%s Participant","%s Participants",t.length)}),(0,_.tZ)($.VY,{children:(0,_.tZ)(_t,{children:t.map((e=>(0,_.tZ)(jt,{children:(0,_.tZ)(wt.Z,{size:28,user:e,hasTooltip:!0})},e.username)))})})]})};St.displayName="GroupParticipants";const kt=St,_t=(0,Z.Z)("div",{target:"e18aeel01"})({name:"5kov97",styles:"display:flex;flex-wrap:wrap"}),jt=(0,Z.Z)("div",{target:"e18aeel00"})("margin-right:",(0,G.Z)(.5),";margin-bottom:",(0,G.Z)(.5),";");var It=n("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),Ct=n("./app/components/charts/miniBarChart.tsx"),Et=n("./app/components/count.tsx"),zt=n("./app/utils/dates.tsx"),Dt=n("./app/utils/formatters.tsx");function Tt(e){const{group:t,lastSeen:n,firstSeen:s,statsPeriod:i,release:r,releaseStats:o,environment:a,environmentLabel:l,environmentStats:c,title:p}=e,u=(0,It.u)(),h=t.stats[i],m=c?.[i];if(!h||!h.length||!m)return null;const g=[];a&&g.push({seriesName:(0,d.t)("Events"),data:h.map((e=>({name:1e3*e[0],value:e[1]})))}),g.push({seriesName:(0,d.t)("Events in %s",l),data:c[i].map((e=>({name:1e3*e[0],value:e[1]})))}),r&&o&&g.push({seriesName:(0,d.t)("Events in release %s",(0,Dt.ko)(r.version)),data:o[i].map((e=>({name:1e3*e[0],value:e[1]})))});const Z=(a&&c?c[i]:h).reduce(((e,t)=>e+t[1]),0);return g[0].markPoint=function(e,t,n,s){const i=[],r=1e3*t[0][0],o=new Date(n??0).getTime(),a=new Date(s??0).getTime(),l=a-o;if(n&&t.length>2&&o>=r&&l>36e5){const n=t.findIndex((e=>{let[t]=e;return 1e3*t>o}));let s;if(n>0){const e=1e3*(t[1][0]-t[0][0])/2;s=1e3*t[n-1][0]-e}i.push({name:(0,d.t)("First seen"),value:s??o,displayValue:o,color:e.pink300})}s&&a>=r&&i.push({name:(0,d.t)("Last seen"),value:a,displayValue:a,color:e.green300});const c={show:!0,trigger:"item",formatter:e=>{let{data:t}=e;const n=(0,zt.L0)(t.displayValue,"MMM D, YYYY LT",{local:!0});return['<div class="tooltip-series">',`<div><span class="tooltip-label"><strong>${t.name}</strong></span></div>`,"</div>",`<div class="tooltip-date">${n}</div>`,"</div>",'<div class="tooltip-arrow"></div>'].join("")}};return{data:i.map((t=>({name:t.name,coord:[t.value,0],tooltip:c,displayValue:t.displayValue,symbol:"circle",symbolSize:8,itemStyle:{color:t.color,borderColor:e.background}})))}}(u,h,s,n),(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:p}),(0,_.BX)($.VY,{children:[(0,_.tZ)(Nt,{children:(0,_.tZ)(Et.Z,{value:Z})}),(0,_.tZ)(Ct.Z,{isGroupedByDate:!0,showTimeInTooltip:!0,showMarkLineLabel:!0,height:42,colors:a?void 0:[u.purple300,u.purple300],series:g,grid:{top:6,bottom:4,left:4,right:4}})]})]})}Tt.displayName="GroupReleaseChart";const Nt=(0,Z.Z)("div",{target:"exfbo00"})("line-height:1;font-size:",(e=>e.theme.fontSizeExtraLarge),";"),Bt=Tt;var qt=n("./app/components/dateTime.tsx"),At=n("./app/components/timeSince.tsx"),Pt=n("./app/components/version.tsx"),Ft=n("./app/components/versionHoverCard.tsx");function Rt(e){let{date:t,dateGlobal:n,environment:i,release:r,organization:o,projectSlug:a,projectId:l}=e;return(0,_.BX)(Xt,{children:[(0,_.tZ)(Ht,{showUnderline:!0,header:(0,_.BX)("div",{children:[(0,_.BX)(Gt,{children:[(0,d.t)("Any Environment"),(0,_.tZ)(At.Z,{date:n,disabledAbsoluteTooltip:!0})]}),i&&(0,_.BX)(Gt,{children:[(0,ut.LF)(i),t?(0,_.tZ)(At.Z,{date:t,disabledAbsoluteTooltip:!0}):(0,_.tZ)("span",{children:(0,d.t)("N/A")})]})]}),body:t?(0,_.tZ)($t,{date:t}):(0,_.tZ)(Vt,{children:(0,d.t)(`N/A for ${i}`)}),position:"top",children:(0,_.tZ)(Lt,{children:t?(0,_.tZ)(Ut,{children:(0,_.tZ)(Yt,{date:t,disabledAbsoluteTooltip:!0})}):n&&""===i?(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(At.Z,{date:n,disabledAbsoluteTooltip:!0}),(0,_.tZ)(Yt,{date:n,disabledAbsoluteTooltip:!0})]}):(0,_.tZ)(Mt,{children:(0,d.t)("N/A")})})}),(0,_.tZ)(Lt,{children:(0,ut.ri)(r)&&(0,_.BX)(s.Fragment,{children:[(0,d.t)("in release "),(0,_.tZ)(Ft.Z,{organization:o,projectSlug:a,releaseVersion:r.version,children:(0,_.tZ)("span",{children:(0,_.tZ)(Pt.Z,{version:r.version,projectId:l})})})]})})]})}Rt.displayName="SeenInfo";const Ot=e=>(0,le.iv)("color:",e.theme.gray300,";font-size:",e.theme.fontSizeMedium,";display:flex;justify-content:center;",""),Xt=(0,Z.Z)("div",{target:"e1rgwh4r8"})({name:"gl2qrx",styles:"display:flex;align-items:baseline"}),Lt=(0,Z.Z)("div",{target:"e1rgwh4r7"})("margin-bottom:0;",(e=>e.theme.overflowEllipsis),";"),$t=(0,Z.Z)(qt.Z,{target:"e1rgwh4r6"})(Ot,";"),Vt=(0,Z.Z)("div",{target:"e1rgwh4r5"})(Ot,";"),Mt=(0,Z.Z)("span",{target:"e1rgwh4r4"})("margin-right:",(0,G.Z)(.5),";"),Ut=(0,Z.Z)("span",{target:"e1rgwh4r3"})("margin-right:",(0,G.Z)(.25),";svg{margin-right:",(0,G.Z)(.5),";position:relative;top:1px;}"),Gt=(0,Z.Z)("div",{target:"e1rgwh4r2"})("margin-bottom:",(0,G.Z)(.5),";display:flex;justify-content:space-between;"),Yt=(0,Z.Z)(At.Z,{target:"e1rgwh4r1"})("font-size:",(e=>e.theme.fontSizeMedium),";line-height:1.2;"),Ht=(0,Z.Z)(pe.uI,{target:"e1rgwh4r0"})("width:250px;",pe.h4,"{font-weight:normal;border-bottom:1px solid ",(e=>e.theme.innerBorder),";}",pe.uT,"{padding:",(0,G.Z)(1.5),";}"),Qt=Rt;var Kt=n("./app/utils/getDynamicText.tsx");const Wt=e=>{let{organization:t,project:n,environments:i,allEnvironments:r,group:o,currentRelease:a}=e;const l=i.length>0?i.map((e=>e.displayName)).join(", "):void 0,c=l||(0,d.t)("All Environments"),p=i.length>1?(0,d.t)("selected environments"):1===i.length?i[0].displayName:void 0,u=n.id,h=n.slug,m=new Set(n.features).has("releases"),g=`/settings/${t.slug}/projects/${n.slug}/release-tracking/`;return(0,_.tZ)("div",{children:o&&r?(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(tn,{children:(0,_.tZ)(Bt,{group:r,environment:l,environmentLabel:c,environmentStats:o.stats,release:a?.release,releaseStats:a?.stats,statsPeriod:"24h",title:(0,d.t)("Last 24 Hours"),firstSeen:o.firstSeen,lastSeen:o.lastSeen})}),(0,_.tZ)(tn,{children:(0,_.tZ)(Bt,{group:r,environment:l,environmentLabel:c,environmentStats:o.stats,release:a?.release,releaseStats:a?.stats,statsPeriod:"30d",title:(0,d.t)("Last 30 Days"),className:"bar-chart-small",firstSeen:o.firstSeen,lastSeen:o.lastSeen})}),(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,_.BX)(s.Fragment,{children:[(0,d.t)("Last Seen"),(0,_.tZ)(en,{children:(0,_.tZ)(Pe.Z,{title:(0,d.t)("When the most recent event in this issue was captured."),disableForVisualTest:!0,children:(0,_.tZ)(V.BS,{size:"sm",color:"gray200"})})})]})}),(0,_.tZ)(nn,{children:(0,_.tZ)(Qt,{organization:t,projectId:u,projectSlug:h,date:(0,Kt.Z)({value:o.lastSeen,fixed:"2016-01-13T03:08:25Z"}),dateGlobal:r.lastSeen,hasRelease:m,environment:p,release:o.lastRelease||null,title:(0,d.t)("Last Seen")})})]}),(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,_.BX)(s.Fragment,{children:[(0,d.t)("First Seen"),(0,_.tZ)(en,{children:(0,_.tZ)(Pe.Z,{title:(0,d.t)("When the first event in this issue was captured."),disableForVisualTest:!0,children:(0,_.tZ)(V.BS,{size:"sm",color:"gray200"})})})]})}),(0,_.tZ)(nn,{children:(0,_.tZ)(Qt,{organization:t,projectId:u,projectSlug:h,date:(0,Kt.Z)({value:o.firstSeen,fixed:"2015-08-13T03:08:25Z"}),dateGlobal:r.firstSeen,hasRelease:m,environment:p,release:o.firstRelease||null,title:(0,d.t)("First seen")})})]}),m?null:(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,d.t)("Releases")}),(0,_.tZ)($.VY,{children:(0,_.tZ)(ie.Z,{priority:"muted",size:"small",to:g,children:(0,d.t)("See which release caused this issue ")})})]})]}):(0,_.tZ)(tt.Z,{height:"288px"})})};Wt.displayName="GroupReleaseStats";const Jt=(0,s.memo)(Wt),en=(0,Z.Z)("span",{target:"e1ey6wx72"})("margin-left:",(0,G.Z)(.5),";"),tn=(0,Z.Z)("div",{target:"e1ey6wx71"})("margin-bottom:",(0,G.Z)(3),";"),nn=(0,Z.Z)($.VY,{target:"e1ey6wx70"})("margin-top:",(0,G.Z)(.5),";");var sn=n("./app/actionCreators/group.tsx"),rn=n("./app/utils/useCommitters.tsx");var on=n("../node_modules/moment/moment.js"),an=n.n(on),ln=n("./app/components/alert.tsx"),cn=n("./app/components/commitLink.tsx"),dn=n("./app/utils/theme.tsx");class pn extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{commitsExpanded:!1,rulesExpanded:!1})}render(){const{organization:e,actor:t,commits:n,rules:i,release:r,projectId:o,...a}=this.props,{commitsExpanded:l,rulesExpanded:c}=this.state,p={initialData:[{emails:t.email?new Set([t.email]):new Set([])}],source:"suggested_assignees"};return(0,_.tZ)(hn,{skipWrapper:!0,header:(0,_.BX)(s.Fragment,{children:[(0,_.BX)(kn,{children:[(0,_.tZ)(X.Z,{size:20,hasTooltip:!1,actor:t}),t.name||t.email]}),void 0===t.id&&(0,_.tZ)(Sn,{type:"warning",showIcon:!0,children:(0,d._N)("The email [actorEmail] is not a member of your organization. [inviteUser:Invite] them or link additional emails in [accountSettings:account settings].",{actorEmail:(0,_.tZ)("strong",{children:t.email}),accountSettings:(0,_.tZ)(dt.Z,{to:"/settings/account/emails/"}),inviteUser:(0,_.tZ)("a",{onClick:()=>(0,ae.openInviteMembersModal)(p)})})})]}),body:(0,_.BX)(_n,{children:[void 0!==n&&!r&&(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(pe.iz,{children:(0,_.tZ)("h6",{children:(0,d.t)("Commits")})}),(0,_.tZ)("div",{children:n.slice(0,l?n.length:3).map(((e,t)=>{let{message:n,dateCreated:s}=e;return(0,_.BX)(vn,{children:[(0,_.tZ)(mn,{}),(0,_.tZ)(gn,{message:n??void 0,date:s})]},t)}))}),n.length>3&&!l?(0,_.tZ)(xn,{priority:"link",size:"zero",onClick:()=>this.setState({commitsExpanded:!0}),children:(0,d.t)("View more")}):null]}),void 0!==n&&r&&(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(pe.iz,{children:(0,_.tZ)("h6",{children:(0,d.t)("Suspect Release")})}),(0,_.tZ)("div",{children:(0,_.BX)(vn,{children:[(0,_.tZ)(yn,{tagType:"release"}),(0,_.tZ)(wn,{children:(0,d._N)("[actor] [verb] [commits] in [release]",{actor:t.name,verb:n.length>1?(0,d.t)("made"):(0,d.t)("last committed"),commits:n.length>1?(0,_.tZ)(dt.Z,{to:{pathname:`/organizations/${e?.slug}/releases/${encodeURIComponent(r.version)}/commits/`,query:{project:o}},children:(0,d.t)("%s commits",n.length)}):(0,_.tZ)(cn.Z,{inline:!0,showIcon:!1,commitId:n[0].id,repository:n[0].repository}),release:(0,_.tZ)(Pt.Z,{version:r.version,projectId:o})})})]})})]}),(0,ut.ri)(i)&&(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(pe.iz,{children:(0,_.tZ)("h6",{children:(0,d.t)("Matching Ownership Rules")})}),(0,_.tZ)("div",{children:i.slice(0,c?i.length:3).map(((e,t)=>{let[n,s]=e;return(0,_.BX)(fn,{children:[(0,_.tZ)(yn,{tagType:n}),(0,_.tZ)(bn,{children:s})]},t)}))}),i.length>3&&!c?(0,_.tZ)(xn,{priority:"link",size:"zero",onClick:()=>this.setState({rulesExpanded:!0}),children:(0,d.t)("View more")}):null]})]}),...a})}}pn.displayName="SuggestedOwnerHovercard";const un={url:dn.ZP.green200,path:dn.ZP.purple300,tag:dn.ZP.blue300,codeowners:dn.ZP.pink300,release:dn.ZP.pink200},hn=(0,Z.Z)(pe.uI,{target:"e1qc9wyy12"})({name:"3s4yqf",styles:"width:400px"}),mn=(0,Z.Z)(V.J3,{target:"e1qc9wyy11"})("margin-right:",(0,G.Z)(.5),";flex-shrink:0;"),gn=(0,Z.Z)((e=>{let{message:t="",date:n,...s}=e;return(0,_.BX)("div",{...s,children:[t.split("\n")[0],(0,_.tZ)(Zn,{date:n})]})}),{target:"e1qc9wyy10"})("color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeExtraSmall),";margin-top:",(0,G.Z)(.25),";hyphens:auto;"),Zn=(0,Z.Z)((e=>{let{date:t,...n}=e;return(0,_.tZ)("div",{...n,children:an()(t).fromNow()})}),{target:"e1qc9wyy9"})("margin-top:",(0,G.Z)(.5),";color:",(e=>e.theme.gray300),";"),vn=(0,Z.Z)("div",{target:"e1qc9wyy8"})("display:flex;align-items:flex-start;gap:",(0,G.Z)(1),";"),fn=(0,Z.Z)("div",{target:"e1qc9wyy7"})("display:flex;align-items:flex-start;gap:",(0,G.Z)(1),";"),yn=(0,Z.Z)((e=>{let{tagType:t,...n}=e;return(0,_.tZ)("div",{...n,children:t})}),{target:"e1qc9wyy6"})("background:",(e=>un[-1===e.tagType.indexOf("tags")?e.tagType:"tag"]),";color:",(e=>e.theme.white),";font-size:",(e=>e.theme.fontSizeExtraSmall),";padding:",(0,G.Z)(.25)," ",(0,G.Z)(.5),";margin:",(0,G.Z)(.25)," ",(0,G.Z)(.5)," ",(0,G.Z)(.25)," 0;border-radius:2px;font-weight:bold;text-align:center;"),xn=(0,Z.Z)(ct.ZP,{target:"e1qc9wyy5"})("border:none;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraSmall),";padding:",(0,G.Z)(.25)," ",(0,G.Z)(.5),";margin:",(0,G.Z)(1)," ",(0,G.Z)(.25)," ",(0,G.Z)(.25)," 0;width:100%;min-width:34px;"),bn=(0,Z.Z)("code",{target:"e1qc9wyy4"})("word-break:break-all;font-size:",(e=>e.theme.fontSizeExtraSmall),";margin-top:",(0,G.Z)(.25),";"),wn=(0,Z.Z)("div",{target:"e1qc9wyy3"})("font-size:",(e=>e.theme.fontSizeSmall),";margin-top:",(0,G.Z)(.5),";"),Sn=(0,Z.Z)(ln.Z,{target:"e1qc9wyy2"})("margin:10px -13px -13px;border-radius:0;border-color:#ece0b0;font-size:",(e=>e.theme.fontSizeSmall),";font-weight:normal;box-shadow:none;"),kn=(0,Z.Z)("div",{target:"e1qc9wyy1"})("display:flex;align-items:center;gap:",(0,G.Z)(1),";"),_n=(0,Z.Z)("div",{target:"e1qc9wyy0"})("margin-top:-",(0,G.Z)(2),";"),jn=pn;var In=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx");const Cn=e=>{let{group:t,owners:n,projectId:i,organization:r,onAssign:o}=e;const a=(0,s.useCallback)((e=>{o(e.actor),(0,In.Z)("issue_details.action_clicked",{organization:r,project_id:parseInt(i,10),group_id:parseInt(t.id,10),issue_category:t.issueCategory,action_type:"assign",assigned_suggestion_reason:e.source})}),[o,t.id,t.issueCategory,i,r]);return(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,d.t)("Suggested Assignees")}),(0,_.tZ)($.VY,{children:(0,_.tZ)(En,{children:n.map(((e,t)=>(0,_.BX)(Nn,{children:[(0,_.tZ)(zn,{children:(0,_.tZ)(jn,{projectId:i,organization:r,...e,children:(0,_.BX)(Dn,{children:[(0,_.tZ)(X.Z,{hasTooltip:!1,actor:e.actor,"data-test-id":"suggested-assignee",size:20}),(0,_.tZ)(Tn,{children:"team"===e.actor.type?`#${e.actor.name}`:e.actor.name})]})})}),(0,_.tZ)(Bn,{role:"button",size:"zero",borderless:!0,"aria-label":(0,d.t)("Assign"),icon:(0,_.tZ)(V.DL,{}),disabled:void 0===e.actor.id,onClick:()=>a(e)})]},`${e.actor.id}:${e.actor.email}:${e.actor.name}:${t}`)))})})]})};Cn.displayName="SuggestedAssignees";const En=(0,Z.Z)("div",{target:"e1lhkh1d5"})("display:flex;gap:",(0,G.Z)(1),";flex-direction:column;"),zn=(0,Z.Z)("div",{target:"e1lhkh1d4"})({name:"p5k5ku",styles:"max-width:85%"}),Dn=(0,Z.Z)("div",{target:"e1lhkh1d3"})("display:flex;align-items:center;gap:",(0,G.Z)(1),";"),Tn=(0,Z.Z)("div",{target:"e1lhkh1d2"})((e=>e.theme.overflowEllipsis),";"),Nn=(0,Z.Z)("div",{target:"e1lhkh1d1"})({name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}),Bn=(0,Z.Z)(ct.ZP,{target:"e1lhkh1d0"})({name:"jjyo93",styles:"padding-right:0"});class qn extends re.Z{constructor(){super(...arguments),(0,g.Z)(this,"handleAssign",(e=>{if(void 0===e.id)return;const{event:t}=this.props;"user"===e.type&&(0,sn.Ol)({id:t.groupID,user:e,assignedBy:"suggested_assignee"}),"team"===e.type&&(0,sn.SG)({id:t.groupID,actor:e,assignedBy:"suggested_assignee"})}))}getDefaultState(){return{...super.getDefaultState(),event:{rules:[],owners:[]},codeowners:[]}}getEndpoints(){const{project:e,organization:t,event:n}=this.props,s=[["eventOwners",`/projects/${t.slug}/${e.slug}/events/${n.id}/owners/`]];return t.features.includes("integrations-codeowners")&&s.push(["codeowners",`/projects/${t.slug}/${e.slug}/codeowners/`]),s}componentDidUpdate(e){this.props.event&&e.event?this.props.event.id!==e.event.id&&this.reloadData():this.props.event&&this.reloadData()}getOwnerList(){const e=this.props.committers??[],t=this.props.releaseCommitters??[],n=[...e,...t].map((e=>({actor:{...e.author,type:"user"},commits:e.commits,release:e.release,source:"suspectCommit"})));this.state.eventOwners.owners.forEach((t=>{const s=function(e,t){if(!e)return;const n=e=>{let[n,s]=e;return n===t.type&&((e,n)=>"user"===e&&n===t.email||"team"===e&&n===t.name)(n,s)};return e.filter((e=>{let[t,s]=e;return s.find(n)})).map((e=>{let[t]=e;return t}))}(this.state.eventOwners.rules||[],t),i={actor:t,rules:s,source:"codeowners"===s?.[0]?"codeowners":"projectOwnership"},r=e.length>0&&t.email&&"user"===t.type?n.findIndex((e=>e.actor.email===t.email)):-1;r>-1?n[r]={...i,...n[r]}:n.push(i)}));const s=this.props.group.assignedTo;return n.filter((e=>!(e.actor.type===s?.type&&e.actor.id===s?.id)))}renderBody(){const{organization:e,group:t}=this.props,n=this.getOwnerList();return n.length>0?(0,_.tZ)(Cn,{group:t,organization:e,owners:n,projectId:t.project.id,onAssign:this.handleAssign}):null}}function An(e){const t=(0,H.Z)(),{committers:n,releaseCommitters:s}=(0,rn.Z)({eventId:e.event.id,projectSlug:e.project.slug});return(0,_.tZ)(qn,{organization:t,committers:n,releaseCommitters:s,...e})}An.displayName="SuggestedOwnersWrapper";const Pn=An;var Fn=n("./app/components/avatar/avatarList.tsx");class Rn extends re.Z{getEndpoints(){const{group:e}=this.props;return[["suspectReleases",`/issues/${e.id}/suspect-releases/`]]}renderLoading(){return(0,_.BX)($.Eq,{"data-test-id":"linked-issues",children:[(0,_.tZ)($.Dx,{children:(0,d.t)("Linked Issues")}),(0,_.tZ)($.VY,{children:(0,_.tZ)(tt.Z,{height:"60px"})})]})}renderBody(){return this.state.suspectReleases?.length?(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,d.t)("Suspect Releases")}),(0,_.tZ)($.VY,{children:this.state.suspectReleases?.map((e=>(0,_.BX)(On,{children:[(0,_.BX)("div",{children:[(0,_.tZ)(Xn,{version:e.version}),e.lastDeploy&&(0,_.BX)(Ln,{children:[e.lastDeploy.environment?(0,d.t)("Deployed to %s ",e.lastDeploy.environment):(0,d.t)("Deployed "),(0,_.tZ)(At.Z,{date:e.lastDeploy.dateFinished})]})]}),(0,_.tZ)(Fn.Z,{users:e.authors,avatarSize:25,tooltipOptions:{container:"body"},typeMembers:"authors"})]},e.version)))})]}):null}}const On=(0,Z.Z)("div",{target:"e1u3urjq2"})("display:flex;gap:",(0,G.Z)(1),";justify-content:space-between;align-items:center;line-height:1.2;margin:",(0,G.Z)(1.5)," 0;"),Xn=(0,Z.Z)(Pt.Z,{target:"e1u3urjq1"})("margin-bottom:",(0,G.Z)(.75),";"),Ln=(0,Z.Z)("div",{target:"e1u3urjq0"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";"),$n=Rn;var Vn=n("./app/components/deviceName.tsx"),Mn=n("./app/components/tagDistributionMeter.tsx");class Un extends s.Component{shouldComponentUpdate(e){return this.props.tag!==e.tag||this.props.name!==e.name||this.props.totalValues!==e.totalValues||this.props.topValues!==e.topValues}render(){const{organization:e,group:t,tag:n,totalValues:s,topValues:i}=this.props,r=`/organizations/${e.slug}/issues/${t.id}/tags/${n}/`,o=i?i.map((e=>({...e,name:(0,Vn.q)(e.name||"")||e.name,url:r}))):[];return(0,_.tZ)(Mn.Z,{title:n,totalValues:s,isLoading:!1,hasError:!1,segments:o})}}Un.displayName="GroupTagDistributionMeter";const Gn=Un;class Yn extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{participants:[],environments:this.props.environments}),(0,g.Z)(this,"trackAssign",(()=>{const{group:e,project:t,organization:n,location:s}=this.props,{alert_date:i,alert_rule_id:r,alert_type:o}=s.query;(0,In.Z)("issue_details.action_clicked",{organization:n,project_id:parseInt(t.id,10),group_id:parseInt(e.id,10),issue_category:e.issueCategory,action_type:"assign",alert_date:"string"==typeof i?(0,zt.v5)(Number(i)):void 0,alert_rule_id:"string"==typeof r?r:void 0,alert_type:"string"==typeof o?o:void 0})}))}componentDidMount(){this.fetchAllEnvironmentsGroupData(),this.fetchCurrentRelease(),this.fetchParticipants(),this.fetchTagData()}UNSAFE_componentWillReceiveProps(e){x()(e.environments,this.props.environments)||this.setState({environments:e.environments},this.fetchTagData)}async fetchAllEnvironmentsGroupData(){const{group:e,api:t}=this.props;try{const n={collapse:"release"},s=await t.requestPromise(`/issues/${e.id}/`,{query:n});this.setState({allEnvironmentsGroupData:s})}catch{this.setState({error:!0})}}async fetchCurrentRelease(){const{group:e,api:t}=this.props;try{const{currentRelease:n}=await t.requestPromise(`/issues/${e.id}/current-release/`);this.setState({currentRelease:n})}catch{this.setState({error:!0})}}async fetchParticipants(){const{group:e,api:t}=this.props;try{const n=await t.requestPromise(`/issues/${e.id}/participants/`);return this.setState({participants:n,error:!1}),n}catch{return this.setState({error:!0}),[]}}async fetchTagData(){const{api:e,group:t}=this.props;try{const n=await e.requestPromise(`/issues/${t.id}/tags/`,{query:q()({key:t.tags.map((e=>e.key)),environment:this.state.environments.map((e=>e.name))})});this.setState({tagsWithTopValues:N()(n,"key")})}catch{this.setState({tagsWithTopValues:{},error:!0})}}renderPluginIssue(){const e=[];return(this.props.group.pluginIssues||[]).forEach((t=>{const n=t.issue;n&&e.push((0,_.BX)(s.Fragment,{children:[(0,_.tZ)("span",{children:`${t.shortName||t.name||t.title}: `}),(0,_.tZ)("a",{href:n.url,children:D()(n.label)?n.label.id:n.label})]},t.slug))})),e.length?(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,d.t)("External Issues")}),(0,_.tZ)($.VY,{children:(0,_.tZ)(Wn,{children:e})})]}):null}renderParticipantData(){const{error:e,participants:t=[]}=this.state;return e?(0,_.tZ)(l.Z,{message:(0,d.t)("There was an error while trying to load participants.")}):0!==t.length&&(0,_.tZ)(kt,{participants:t})}render(){const{event:e,group:t,organization:n,project:s,environments:i}=this.props,{allEnvironmentsGroupData:r,currentRelease:o,tagsWithTopValues:a}=this.state,l=s.slug;return(0,_.BX)(Qn,{children:[!n.features.includes("issue-actions-v2")&&(0,_.tZ)(Hn,{children:(0,_.tZ)(P.Z,{alignDropdown:"right"})}),(0,_.BX)(A.Z,{organization:n,features:["issue-details-owners"],children:[(0,_.tZ)(mt,{group:t,project:s,organization:n}),(0,_.tZ)(K,{group:t,projectId:s.id,onAssign:this.trackAssign})]}),e&&(0,_.tZ)(Pn,{project:s,group:t,event:e}),(0,_.tZ)(Jt,{organization:n,project:s,environments:i,allEnvironments:r,group:t,currentRelease:o}),(0,_.tZ)(A.Z,{organization:n,features:["active-release-monitor-alpha"],children:(0,_.tZ)($n,{group:t})}),e&&(0,_.tZ)(F.Z,{mini:!0,children:(0,_.tZ)(at,{project:s,group:t,event:e})}),this.renderPluginIssue(),(0,_.BX)($.Eq,{children:[(0,_.tZ)($.Dx,{children:(0,d.t)("Tag Summary")}),(0,_.BX)($.VY,{children:[a?t.tags.map((e=>{const s=a[e.key],i=s?s.topValues:[],r=s?s.totalValues:0;return(0,_.tZ)(Gn,{tag:e.key,totalValues:r,topValues:i,name:e.name,organization:n,projectId:l,group:t},e.key)})):(0,_.BX)(Kn,{children:[(0,_.tZ)(tt.Z,{height:"40px"}),(0,_.tZ)(tt.Z,{height:"40px"}),(0,_.tZ)(tt.Z,{height:"40px"}),(0,_.tZ)(tt.Z,{height:"40px"})]}),0===t.tags.length&&(0,_.tZ)("p",{"data-test-id":"no-tags",children:i.length?(0,d.t)("No tags found in the selected environments"):(0,d.t)("No tags found")})]})]}),this.renderParticipantData()]})}}Yn.displayName="BaseGroupSidebar";const Hn=(0,Z.Z)("div",{target:"eofpip33"})("margin-bottom:",(0,G.Z)(2),";"),Qn=(0,Z.Z)("div",{target:"eofpip32"})("font-size:",(e=>e.theme.fontSizeMedium),";"),Kn=(0,Z.Z)("div",{target:"eofpip31"})("display:grid;gap:",(0,G.Z)(1),";grid-auto-flow:row;"),Wn=(0,Z.Z)("div",{target:"eofpip30"})("display:grid;grid-template-columns:auto max-content;gap:",(0,G.Z)(2),";"),Jn=(0,u.Z)((0,v.withRouter)(Yn));var es=n("./app/components/layouts/thirds.tsx"),ts=n("./app/components/duration.tsx"),ns=n("./app/components/events/styles.tsx");function ss(e){let{statusDetails:t}=e;return(0,_.tZ)(ns.UP,{priority:"default",children:(0,_.BX)(ns._B,{children:[(0,_.tZ)(V.i1,{color:"red300",size:"sm"}),(0,_.BX)("span",{children:[function(){const{ignoreUntil:e,ignoreCount:n,ignoreWindow:s,ignoreUserCount:i,ignoreUserWindow:r}=t;return e?(0,d.t)("This issue has been ignored until %s",(0,_.tZ)("strong",{children:(0,_.tZ)(qt.Z,{date:e})})):n&&s?(0,d.t)("This issue has been ignored until it occurs %s time(s) in %s",(0,_.tZ)("strong",{children:n.toLocaleString()}),(0,_.tZ)("strong",{children:(0,_.tZ)(ts.Z,{seconds:60*s})})):n?(0,d.t)("This issue has been ignored until it occurs %s more time(s)",(0,_.tZ)("strong",{children:n.toLocaleString()})):i&&r?(0,d.t)("This issue has been ignored until it affects %s user(s) in %s",(0,_.tZ)("strong",{children:i.toLocaleString()}),(0,_.tZ)("strong",{children:(0,_.tZ)(ts.Z,{seconds:60*r})})):i?(0,d.t)("This issue has been ignored until it affects %s more user(s)",(0,_.tZ)("strong",{children:i.toLocaleString()})):(0,d.t)("This issue has been ignored")}(),"Â â€”Â ",(0,d.t)("You will not be notified of any changes and it will not show up by default in feeds.")]})]})})}ss.displayName="MutedBox";const is=ss;var rs=n("./app/components/reprocessedBox.tsx"),os=n("./app/types/index.tsx");function as(e,t,n){const i=e.actor?(0,_.BX)("strong",{children:[(0,_.tZ)(wt.Z,{user:e.actor,size:20,className:"avatar"}),(0,_.tZ)("span",{style:{marginLeft:5},children:e.actor.name})]}):null,r=n.find((e=>e.type===os.fc.SET_RESOLVED_IN_RELEASE))?.data.current_release_version;return e.inNextRelease&&e.actor?(0,d._N)("[actor] marked this issue as resolved in the upcoming release.",{actor:i}):e.inNextRelease?(0,d.t)("This issue has been marked as resolved in the upcoming release."):e.inRelease&&e.actor?r?(0,d._N)("[actor] marked this issue as resolved in versions greater than [version].",{actor:i,version:(0,_.tZ)(Pt.Z,{version:r,projectId:t,tooltipRawVersion:!0})}):(0,d._N)("[actor] marked this issue as resolved in version [version].",{actor:i,version:(0,_.tZ)(Pt.Z,{version:e.inRelease,projectId:t,tooltipRawVersion:!0})}):e.inRelease?r?(0,d._N)("This issue has been marked as resolved in versions greater than [version].",{version:(0,_.tZ)(Pt.Z,{version:r,projectId:t,tooltipRawVersion:!0})}):(0,d._N)("This issue has been marked as resolved in version [version].",{version:(0,_.tZ)(Pt.Z,{version:e.inRelease,projectId:t,tooltipRawVersion:!0})}):e.inCommit?(0,d._N)("This issue has been marked as resolved by [commit]",{commit:(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(cn.Z,{commitId:e.inCommit.id,repository:e.inCommit.repository}),e.inCommit.dateCreated&&(0,_.tZ)(cs,{date:e.inCommit.dateCreated})]})}):(0,d.t)("This issue has been marked as resolved.")}function ls(e){let{statusDetails:t,projectId:n,activities:s=[]}=e;return(0,_.tZ)(ns.UP,{priority:"default",children:(0,_.BX)(ns._B,{children:[(0,_.tZ)(ds,{color:"green300"}),(0,_.tZ)("span",{children:as(t,n,s)})]})})}ls.displayName="ResolutionBox";const cs=(0,Z.Z)(At.Z,{target:"eusmyo21"})("color:",(e=>e.theme.gray300),";margin-left:",(0,G.Z)(.5),";font-size:",(e=>e.theme.fontSizeSmall),";"),ds=(0,Z.Z)(V.DL,{target:"eusmyo20"})("margin-top:0!important;align-self:center;@media (max-width: ",(e=>e.theme.breakpoints.small),"){margin-top:",(0,G.Z)(.5),"!important;align-self:flex-start;}"),ps=ls;var us=n("./app/utils/performance/quickTrace/quickTraceContext.tsx"),hs=n("./app/utils/performance/quickTrace/quickTraceQuery.tsx"),ms=n("../node_modules/moment-timezone/index.js"),gs=n.n(ms),Zs=n("./app/components/fileSize.tsx"),vs=n("./app/components/globalAppStoreConnectUpdateAlert/index.tsx"),fs=n("./app/components/links/externalLink.tsx"),ys=n("./app/components/navigationButtonGroup.tsx"),xs=n("./app/stores/configStore.tsx");const bs=n.p+"assets/performance-quick-trace.d1676f8ac80279ff3a75.svg";var ws=n("./app/actionCreators/prompts.tsx"),Ss=n("./app/components/acl/featureDisabled.tsx"),ks=n("./app/components/buttonBar.tsx"),_s=n("./app/components/panels/index.tsx"),js=n("./app/utils/analytics.tsx"),Is=n("./app/utils/docs.tsx"),Cs=n("./app/utils/promptIsDismissed.tsx");const Es="distributed_tracing";class zs extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{shouldShow:null})}componentDidMount(){this.fetchData()}async fetchData(){const{api:e,event:t,project:n,organization:s}=this.props;if(!(0,Cs.ZG)(Es,t.eventID))return void this.setState({shouldShow:!1});const i=await(0,ws.vu)(e,{projectId:n.id,organizationId:s.id,feature:Es});this.setState({shouldShow:!(0,Cs.IB)(i??{},30)})}trackAnalytics(e){let{eventKey:t,eventName:n}=e;const{project:s,organization:i}=this.props;(0,js.ec)({eventKey:t,eventName:n,organization_id:parseInt(i.id,10),project_id:parseInt(s.id,10),platform:s.platform})}handleClick(e){let{action:t,eventKey:n,eventName:s}=e;const{api:i,project:r,organization:o}=this.props,a={projectId:r.id,organizationId:o.id,feature:Es,status:t};(0,ws.Xt)(i,a).then((()=>this.setState({shouldShow:!1}))),this.trackAnalytics({eventKey:n,eventName:s})}renderActionButton(e){const t=["organizations:performance-view"],n=(0,d.t)("Requires performance monitoring.");return(0,_.tZ)(A.Z,{hookName:"feature-disabled:configure-distributed-tracing",features:t,renderDisabled:e=>(0,_.tZ)(pe.uI,{body:(0,_.tZ)(Ss.Z,{features:t,hideHelpToggle:!0,message:n,featureName:n}),children:e.children(e)}),children:()=>(0,_.tZ)(ct.ZP,{size:"sm",priority:"primary",href:e,onClick:()=>this.trackAnalytics({eventKey:"quick_trace.missing_instrumentation.docs",eventName:"Quick Trace: Missing Instrumentation Docs"}),children:(0,d.t)("Read the docs")})})}render(){const{project:e}=this.props,{shouldShow:t}=this.state;if(!t)return null;const n=(0,Is._)(e);return null===n?null:(0,_.BX)(Ds,{dashedBorder:!0,children:[(0,_.BX)("div",{children:[(0,_.tZ)(Ts,{children:(0,d.t)("Configure Distributed Tracing")}),(0,_.tZ)(Ns,{children:(0,d.t)("See what happened right before and after this error")})]}),(0,_.tZ)(Bs,{src:bs,alt:"configure distributed tracing"}),(0,_.BX)(qs,{children:[this.renderActionButton(n),(0,_.BX)(ks.ZP,{merged:!0,children:[(0,_.tZ)(ct.ZP,{title:(0,d.t)("Remind me next month"),size:"sm",onClick:()=>this.handleClick({action:"snoozed",eventKey:"quick_trace.missing_instrumentation.snoozed",eventName:"Quick Trace: Missing Instrumentation Snoozed"}),children:(0,d.t)("Snooze")}),(0,_.tZ)(ct.ZP,{title:(0,d.t)("Dismiss for this project"),size:"sm",onClick:()=>this.handleClick({action:"dismissed",eventKey:"quick_trace.missing_instrumentation.dismissed",eventName:"Quick Trace: Missing Instrumentation Dismissed"}),children:(0,d.t)("Dismiss")})]})]})]})}}zs.displayName="ConfigureDistributedTracing";const Ds=(0,Z.Z)(_s.s_,{target:"ez3lron4"})("display:grid;grid-template-columns:1.5fr 1fr;grid-template-rows:auto max-content;gap:",(0,G.Z)(1),";background:none;padding:",(0,G.Z)(2),";margin:",(0,G.Z)(2)," 0;"),Ts=(0,Z.Z)("h3",{target:"ez3lron3"})("font-size:",(e=>e.theme.fontSizeSmall),";text-transform:uppercase;color:",(e=>e.theme.gray300),";margin-bottom:",(0,G.Z)(1),";"),Ns=(0,Z.Z)("div",{target:"ez3lron2"})("font-size:",(e=>e.theme.fontSizeMedium),";"),Bs=(0,Z.Z)("img",{target:"ez3lron1"})({name:"1kr7pps",styles:"grid-row:1/3;grid-column:2/3;justify-self:end"}),qs=(0,Z.Z)("div",{target:"ez3lron0"})("display:grid;grid-template-columns:max-content auto;justify-items:start;align-items:end;grid-column-gap:",(0,G.Z)(1),";"),As=(0,u.Z)(zs);var Ps=n("./app/components/quickTrace/index.tsx"),Fs=n("./app/components/quickTrace/utils.tsx");class Rs extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{shouldShow:null}),(0,g.Z)(this,"snoozePrompt",(()=>{const{api:e,event:t,organization:n}=this.props,s={projectId:t.projectID,organizationId:n.id,feature:"quick_trace_missing",status:"snoozed"};(0,ws.Xt)(e,s).then((()=>this.setState({shouldShow:!1})))}))}componentDidMount(){this.promptsCheck()}shouldComponentUpdate(e,t){return this.props.event!==e.event||this.state.shouldShow!==t.shouldShow||this.props.quickTrace!==e.quickTrace}async promptsCheck(){const{api:e,event:t,organization:n}=this.props,s=await(0,ws.vu)(e,{organizationId:n.id,projectId:t.projectID,feature:"quick_trace_missing"});this.setState({shouldShow:!(0,Cs.IB)(s??{},30)})}handleTraceLink(e){(0,js.ec)({eventKey:"quick_trace.trace_id.clicked",eventName:"Quick Trace: Trace ID clicked",organization_id:parseInt(e.id,10),source:"issues"})}renderTraceLink(e){let{isLoading:t,error:n,trace:s,type:i}=e;const{event:r,organization:o}=this.props;return t||null!==n||null===s||"empty"===i?null:(0,_.tZ)(Os,{children:(0,_.tZ)(dt.Z,{to:(0,Fs.aV)(r,o),onClick:()=>this.handleTraceLink(o),children:(0,d.t)("View Full Trace")})})}renderQuickTrace(e){const{event:t,location:n,organization:i,isPerformanceIssue:r}=this.props,{shouldShow:o}=this.state,{isLoading:a,error:l,trace:c,type:p}=e;return a?(0,_.tZ)(tt.Z,{height:"24px"}):l||null===c||0===c.length?o?((0,In.Z)("issue.quick_trace_status",{organization:i,status:"missing"===p?"transaction missing":"trace missing",is_performance_issue:r??!1}),(0,_.tZ)(Ls,{type:"info",showIcon:!0,trailingItems:(0,_.tZ)(ct.ZP,{priority:"link",size:"zero",title:(0,d.t)("Dismiss for a month"),onClick:this.snoozePrompt,children:(0,_.tZ)(V.bM,{})}),children:(0,d._N)("The [type] for this event cannot be found. [link:Read the docs to understand why].",{type:"missing"===p?(0,d.t)("transaction"):(0,d.t)("trace"),link:(0,_.tZ)(fs.Z,{href:"https://docs.sentry.io/product/sentry-basics/tracing/trace-view/#troubleshooting"})})})):null:((0,In.Z)("issue.quick_trace_status",{organization:i,status:"success",is_performance_issue:r??!1}),(0,_.BX)(s.Fragment,{children:[this.renderTraceLink(e),(0,_.tZ)(Xs,{children:(0,_.tZ)(Ps.Z,{event:t,quickTrace:e,location:n,organization:i,anchor:"left",errorDest:"issue",transactionDest:"performance"})})]}))}render(){const{quickTrace:e}=this.props;return(0,_.tZ)(F.Z,{mini:!0,children:this.renderQuickTrace(e)})}}Rs.displayName="IssueQuickTrace";const Os=(0,Z.Z)("span",{target:"e12j2to72"})("margin-left:",(0,G.Z)(1),";padding-left:",(0,G.Z)(1),";position:relative;&:before{display:block;position:absolute;content:'';left:0;top:2px;height:14px;border-left:1px solid ",(e=>e.theme.border),";}"),Xs=(0,Z.Z)("div",{target:"e12j2to71"})("margin-top:",(0,G.Z)(.5),";"),Ls=(0,Z.Z)(ln.Z,{target:"e12j2to70"})({name:"ti75j2",styles:"margin:0"}),$s=(0,u.Z)(Rs);function Vs(e){let{event:t,group:n,organization:i,location:r,isPerformanceIssue:o}=e;const a=i.features.includes("performance-view"),l=Boolean(t.contexts?.trace?.trace_id),c=(0,s.useContext)(us.p);return(0,_.BX)(s.Fragment,{children:[!l&&(0,_.tZ)(As,{event:t,project:n.project,organization:i}),a&&l&&(0,_.tZ)($s,{organization:i,event:t,location:r,isPerformanceIssue:o,quickTrace:c})]})}Vs.displayName="QuickTrace";const Ms=Vs,Us=(e,t)=>{const n=gs().duration(Math.abs(+t-+e)),s=Math.floor(+n/36e5),i=n.minutes(),r=[];return s&&r.push(`${s} hour${1!==s?"s":""}`),i&&r.push(`${i} minute${1!==i?"s":""}`),0===r.length&&r.push("a few seconds"),r.join(", ")};class Gs extends s.Component{shouldComponentUpdate(e){return this.props.event.id!==e.event.id}handleNavigationClick(e){(0,In.Z)("issue_details.event_navigation_clicked",{organization:this.props.organization,project_id:parseInt(this.props.project.id,10),button:e})}getDateTooltip(){const e=this.props.event,t=(xs.Z.get("user")?.options??{}).clock24Hours?"HH:mm:ss z":"LTS z",n=gs()(e.dateCreated),i=e.dateReceived?gs()(e.dateReceived):null;return(0,_.BX)(ti,{children:[(0,_.tZ)("dt",{children:"Occurred"}),(0,_.BX)("dd",{children:[n.format("ll"),(0,_.tZ)("br",{}),n.format(t)]}),i&&(0,_.BX)(s.Fragment,{children:[(0,_.tZ)("dt",{children:"Received"}),(0,_.BX)("dd",{children:[i.format("ll"),(0,_.tZ)("br",{}),i.format(t)]}),(0,_.tZ)("dt",{children:"Latency"}),(0,_.tZ)("dd",{children:Us(n,i)})]})]})}render(){const e=(0,zt.gn)(),t=this.props.event,{group:n,organization:s,location:i,project:r,hasReplay:o}=this.props,a=n.id,l=s.features.includes("session-replay-ui"),c=`/organizations/${s.slug}/issues/${a}/events/`,p=`/organizations/${s.slug}/issues/${a}/events/${t.id}/json/`,u=t.dateReceived&&Math.abs(+gs()(t.dateReceived)-+gs()(t.dateCreated))>18e5;return(0,_.BX)(Ys,{children:[(0,_.BX)("div",{children:[(0,_.BX)(Qs,{children:[(0,d.t)("Event ID")," ",(0,_.tZ)(Hs,{to:`${c}${t.id}/`,children:t.eventID}),(0,_.tZ)(ei,{children:(0,_.BX)(fs.Z,{href:p,onClick:()=>(0,In.Z)("issue_details.event_json_clicked",{organization:s,group_id:parseInt(`${t.groupID}`,10)}),children:["JSON"," (",(0,_.tZ)(Zs.Z,{bytes:t.size}),")"]})})]}),(0,_.BX)(Pe.Z,{title:this.getDateTooltip(),showUnderline:!0,disableForVisualTest:!0,children:[(0,_.tZ)(Ws,{format:e?"MMM D, YYYY HH:mm:ss zz":"ll LTS z",date:(0,Kt.Z)({value:t.dateCreated,fixed:"Dummy timestamp"})}),u&&(0,_.tZ)(Ks,{color:"yellow300"})]}),(0,_.tZ)(Js,{project:r,organization:s}),(0,_.tZ)(Ms,{event:t,group:n,organization:s,location:i})]}),(0,_.BX)(ni,{children:[o&&l?(0,_.tZ)(ct.ZP,{href:"#breadcrumbs",size:"sm",icon:(0,_.tZ)(V.JF,{size:"xs"}),children:"Replay"}):null,(0,_.tZ)(ys.Z,{hasPrevious:!!t.previousEventID,hasNext:!!t.nextEventID,links:[{pathname:`${c}oldest/`,query:i.query},{pathname:`${c}${t.previousEventID}/`,query:i.query},{pathname:`${c}${t.nextEventID}/`,query:i.query},{pathname:`${c}latest/`,query:i.query}],onOldestClick:()=>this.handleNavigationClick("oldest"),onOlderClick:()=>this.handleNavigationClick("older"),onNewerClick:()=>this.handleNavigationClick("newer"),onNewestClick:()=>this.handleNavigationClick("newest"),size:"sm"})]})]})}}Gs.displayName="GroupEventToolbar";const Ys=(0,Z.Z)(ns.Gj,{target:"ekd58v68"})("position:relative;flex-direction:row;justify-content:space-between;align-items:flex-start;gap:",(0,G.Z)(3),";@media (max-width: 767px){display:none;}"),Hs=(0,Z.Z)(dt.Z,{target:"ekd58v67"})({name:"lugakg",styles:"font-weight:normal"}),Qs=(0,Z.Z)("h4",{target:"ekd58v66"})("line-height:1.3;margin:0;font-size:",(e=>e.theme.fontSizeLarge),";"),Ks=(0,Z.Z)(V.FC,{target:"ekd58v65"})("margin-left:",(0,G.Z)(.5),";position:relative;top:",(0,G.Z)(.25),";"),Ws=(0,Z.Z)(qt.Z,{target:"ekd58v64"})("color:",(e=>e.theme.subText),";"),Js=(0,Z.Z)(vs.Z,{target:"ekd58v63"})("margin-top:",(0,G.Z)(.5),";margin-bottom:",(0,G.Z)(1),";"),ei=(0,Z.Z)("span",{target:"ekd58v62"})("margin-left:",(0,G.Z)(1),";padding-left:",(0,G.Z)(1),";position:relative;font-weight:normal;&:before{display:block;position:absolute;content:'';left:0;top:2px;height:14px;border-left:1px solid ",(e=>e.theme.border),";}"),ti=(0,Z.Z)("dl",{target:"ekd58v61"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,G.Z)(.75)," ",(0,G.Z)(1),";text-align:left;margin:0;"),ni=(0,Z.Z)("div",{target:"ekd58v60"})("display:flex;align-items:center;justify-content:flex-end;gap:0 ",(0,G.Z)(1),";"),si=Gs;var ii=n("./app/components/progressBar.tsx");function ri(e){let{totalEvents:t,pendingEvents:n}=e;const s=t-n,i=(0,ut.aQ)(s,t);return(0,_.tZ)(ai,{children:(0,_.BX)(ci,{children:[(0,_.BX)(di,{children:[(0,_.tZ)(pi,{children:(0,d.t)("Reprocessingâ€¦")}),(0,d.t)("Once the events in this issue have been reprocessed, youâ€™ll be able to make changes and view any new issues that may have been created.")]}),(0,_.BX)(li,{children:[(0,_.tZ)(ii.Z,{value:i,variant:"large"}),(0,d._N)("[remainingEventsToReprocess]/[totalEvents] [event] reprocessed",{remainingEventsToReprocess:s,totalEvents:t,event:(0,d.tn)("event","events",t)})]})]})})}ri.displayName="ReprocessingProgress";const oi=ri,ai=(0,Z.Z)("div",{target:"ev0t3ja4"})("margin:",(0,G.Z)(4)," 40px;flex:1;text-align:center;@media (min-width: ",(e=>e.theme.breakpoints.small),"){margin:40px;}"),li=(0,Z.Z)("div",{target:"ev0t3ja3"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeMedium),";display:grid;gap:",(0,G.Z)(1.5),";justify-items:center;max-width:402px;width:100%;"),ci=(0,Z.Z)("div",{target:"ev0t3ja2"})("display:grid;gap:",(0,G.Z)(3),";justify-items:center;"),di=(0,Z.Z)("div",{target:"ev0t3ja1"})("display:grid;gap:",(0,G.Z)(1),";color:",(e=>e.theme.textColor),";max-width:557px;"),pi=(0,Z.Z)("h3",{target:"ev0t3ja0"})("font-size:",(e=>e.theme.headerFontSize),";font-weight:600;margin-bottom:0;");var ui=n("./app/views/organizationGroupDetails/utils.tsx");class hi extends s.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{eventNavLinks:"",releasesCompletion:null}),(0,g.Z)(this,"fetchData",(async()=>{const{api:e,project:t,organization:n}=this.props,s=n.slug,i=t.slug,r=t.id,o=e.requestPromise(`/projects/${s}/${i}/releases/completion/`);(async(e,t)=>{const n=`/organizations/${t}/sentry-app-installations/`,s=await e.requestPromise(n);st.load(s)})(e,s),r?async function(e,t,n){const s=`/organizations/${t}/sentry-app-components/?projectId=${n}`,i=await e.requestPromise(s);b.Z.loadComponents(i)}(e,s,r):f.$e((e=>{e.setExtra("props",this.props),e.setExtra("state",this.state),f.uT("Project ID was not set")}));const a=await o;this.setState({releasesCompletion:a})}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){const{environments:t,params:n,location:s,organization:i,project:r}=this.props;!x()(e.environments,t)&&e.event&&n.eventId&&!["latest","oldest"].includes(n.eventId)&&t.length>0&&!t.find((t=>t.name===(0,ui.dG)(e.event)))?v.browserHistory.replace({pathname:`/organizations/${n.orgId}/issues/${n.groupId}/`,query:s.query}):e.organization.slug===i.slug&&e.project.slug===r.slug||this.fetchData()}componentWillUnmount(){this.props.api.clear()}renderContent(e){const{group:t,project:n,organization:s,environments:i,location:r,loadingEvent:o,onRetry:a,eventError:l,router:d,route:p}=this.props;return o?(0,_.tZ)(c.Z,{}):l?(0,_.tZ)(I,{environments:i,onRetry:a}):(0,_.tZ)(C.Z,{group:t,event:e,organization:s,project:n,location:r,router:d,route:p})}renderReprocessedBox(e,t){if(e!==ui.m7.REPROCESSED_AND_HASNT_EVENT&&e!==ui.m7.REPROCESSED_AND_HAS_EVENT)return null;const{group:n,organization:s}=this.props,{count:i,id:r}=n,o=Number(i);return(0,_.tZ)(rs.Z,{reprocessActivity:t,groupCount:o,groupId:r,orgSlug:s.slug})}render(){const{className:e,group:t,project:n,organization:i,environments:r,location:o,event:a,groupReprocessingStatus:l}=this.props,c=(0,E.xN)(a),d=i.features?.includes("reprocessing-v2"),{activity:p}=t,u=(0,ui.Ad)(p),h=Boolean(a?.tags?.find((e=>{let{key:t}=e;return"replayId"===t}))?.value);return(0,_.tZ)("div",{className:e,"data-test-id":"group-event-details",children:(0,_.tZ)(mi,{children:d&&l===ui.m7.REPROCESSING?(0,_.tZ)(oi,{totalEvents:u.data.eventCount,pendingEvents:t.statusDetails.pendingEvents}):(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(hs.Z,{event:c,location:o,orgSlug:i.slug,children:e=>(0,_.tZ)(Zi,{children:(0,_.BX)(us.p.Provider,{value:e,children:[c&&(0,_.tZ)(si,{group:t,event:c,organization:i,location:o,project:n,hasReplay:h}),(0,_.BX)(gi,{children:["ignored"===t.status&&(0,_.tZ)(is,{statusDetails:t.statusDetails}),"resolved"===t.status&&(0,_.tZ)(ps,{statusDetails:t.statusDetails,activities:p,projectId:n.id}),this.renderReprocessedBox(l,u)]}),this.renderContent(c)]})})}),(0,_.tZ)(vi,{children:(0,_.tZ)(Jn,{organization:i,project:n,group:t,event:c,environments:r})})]})})})}}hi.displayName="GroupEventDetails";const mi=(0,Z.Z)(es.uT,{target:"e150o94r4"})("padding:0!important;@media (min-width: ",(e=>e.theme.breakpoints.large),"){align-content:stretch;}"),gi=(0,Z.Z)("div",{target:"e150o94r3"})({name:"t2vw58",styles:"margin-bottom:-1px"}),Zi=(0,Z.Z)(es.or,{target:"e150o94r2"})("padding-top:",(0,G.Z)(2),";@media (max-width: ",(e=>e.theme.breakpoints.medium),"){padding-top:",(0,G.Z)(1),";}@media (min-width: ",(e=>e.theme.breakpoints.large),"){border-right:1px solid ",(e=>e.theme.border),";padding-right:0;}"),vi=(0,Z.Z)(es.MF,{target:"e150o94r1"})("padding:",(0,G.Z)(3)," ",(0,G.Z)(2)," ",(0,G.Z)(3),";@media (min-width: ",(e=>e.theme.breakpoints.large),"){padding-right:",(0,G.Z)(4),";padding-left:0;}"),fi=(0,Z.Z)(hi,{target:"e150o94r0"})({name:"1k8t52o",styles:"display:flex;flex:1;flex-direction:column"});function yi(e){const t=(0,p.X)(a);if((0,s.useEffect)((()=>{t.environments||t.error||async function(e,t){a.onFetchEnvironments();try{const n=await e.requestPromise(`/organizations/${t}/environments/`);if(!n)return void a.onFetchEnvironmentsError(new Error("retrieved environments is falsey"));a.onFetchEnvironmentsSuccess(n)}catch(e){a.onFetchEnvironmentsError(e)}}(e.api,e.organization.slug)}),[e.api]),t.error)return(0,_.tZ)(l.Z,{message:(0,d.t)("There was an error loading your organization's environments")});if(!t.environments)return(0,_.tZ)(c.Z,{});const{selection:n,...i}=e,r=t.environments.filter((e=>n.environments.includes(e.name)));return(0,_.tZ)(fi,{...i,environments:r})}yi.displayName="GroupEventDetailsContainer";const xi=(0,u.Z)((0,h.Z)((0,m.Z)(yi)))},"./app/views/organizationGroupDetails/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{Ad:()=>g,M3:()=>v,MN:()=>c,V7:()=>d,dG:()=>u,g5:()=>p,m7:()=>Z,sC:()=>m});var s=n("../node_modules/lodash/orderBy.js"),i=n.n(s),r=n("./app/actionCreators/group.tsx"),o=n("./app/api.tsx"),a=n("./app/locale.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");async function c(e,t,n,s,i,r){const o="latest"===s||"oldest"===s?`/issues/${n}/events/${s}/`:`/projects/${t}/${r}/events/${s}/?group_id=${n}`,a={};return 0!==i.length&&(a.environment=i),await e.requestPromise(o,{query:a})}function d(e,t,n,s){(0,r.Gv)(e,{orgId:t,projectId:n,itemIds:[s],failSilently:!0,data:{hasSeen:!0}},{})}function p(e,t){return(new o.KU).requestPromise(`/issues/${e}/user-reports/`,{includeAllArgs:!0,query:t})}function u(e){const t=e.tags.find((e=>{let{key:t}=e;return"environment"===t}));return t?t.value:null}const h={commented:(0,a.t)("You're receiving workflow notifications because you have commented on this issue."),assigned:(0,a.t)("You're receiving workflow notifications because you were assigned to this issue."),bookmarked:(0,a.t)("You're receiving workflow notifications because you have bookmarked this issue."),changed_status:(0,a.t)("You're receiving workflow notifications because you have changed the status of this issue."),mentioned:(0,a.t)("You're receiving workflow notifications because you have been mentioned in this issue.")};function m(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.subscriptionDetails&&e.subscriptionDetails.disabled)return(0,a._N)("You have [link:disabled workflow notifications] for this project.",{link:t?(0,l.tZ)("span",{}):(0,l.tZ)("a",{href:"/account/settings/notifications/"})});if(!e.isSubscribed)return(0,a.t)("Subscribe to workflow notifications for this issue");if(e.subscriptionDetails){const{reason:t}=e.subscriptionDetails;if("unknown"===t)return(0,a.t)("You're receiving workflow notifications because you are subscribed to this issue.");if(t&&h.hasOwnProperty(t))return h[t]}return(0,a._N)("You're receiving updates because you are [link:subscribed to workflow notifications] for this project.",{link:t?(0,l.tZ)("span",{}):(0,l.tZ)("a",{href:"/account/settings/notifications/"})})}function g(e){return i()([...e],(e=>{let{dateCreated:t}=e;return new Date(t)}),["desc"])[0]}let Z;function v(e,t){const{status:n,count:s,activity:i}=e,r=Number(s);switch(n){case"reprocessing":return Z.REPROCESSING;case"unresolved":return"reprocess"===(t??g(i))?.type?0===r?Z.REPROCESSED_AND_HASNT_EVENT:Z.REPROCESSED_AND_HAS_EVENT:Z.NO_STATUS;default:return Z.NO_STATUS}}!function(e){e.REPROCESSED_AND_HASNT_EVENT="reprocessed_and_hasnt_event",e.REPROCESSED_AND_HAS_EVENT="reprocessed_and_has_event",e.REPROCESSING="reprocessing",e.NO_STATUS="no_status"}(Z||(Z={}))},"./app/views/organizationIntegrations/integrationItem.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("./app/styles/space.tsx"),r=n("./app/views/organizationIntegrations/integrationIcon.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{integration:t,compact:n=!1}=e;return(0,o.BX)(c,{children:[(0,o.tZ)("div",{children:(0,o.tZ)(r.Z,{size:n?22:32,integration:t})}),(0,o.BX)(d,{compact:n,children:[(0,o.tZ)(p,{"data-test-id":"integration-name",children:t.name}),(0,o.tZ)(u,{compact:n,children:t.domainName})]})]})}a.displayName="IntegrationItem";const l=a,c=(0,s.Z)("div",{target:"e1k6l1f03"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),d=(0,s.Z)("div",{target:"e1k6l1f02"})("box-sizing:border-box;display:flex;",(e=>e.compact?"align-items: center;":""),";flex-direction:",(e=>e.compact?"row":"column"),";padding-left:",(0,i.Z)(1),";min-width:0;justify-content:center;"),p=(0,s.Z)("div",{target:"e1k6l1f01"})("font-size:",(e=>e.theme.fontSizeMedium),";font-weight:bold;"),u=(0,s.Z)("div",{target:"e1k6l1f00"})("color:",(e=>e.theme.subText),";margin-left:",(e=>e.compact?(0,i.Z)(1):"inherit"),";margin-top:",(e=>e.compact?"inherit":0),";font-size:",(e=>e.theme.fontSizeSmall),";overflow:hidden;text-overflow:ellipsis;")},"./app/views/organizationIntegrations/sentryAppExternalForm.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),r=n("../node_modules/react-select/dist/Select-dbb12e54.esm.js"),o=n("../node_modules/lodash/debounce.js"),a=n.n(o),l=n("./app/actionCreators/indicator.tsx"),c=n("./app/components/forms/fieldFromConfig.tsx"),d=n("./app/components/forms/form.tsx"),p=n("./app/components/forms/model.tsx"),u=n("./app/locale.tsx"),h=n("./app/utils/replaceAtArrayIndex.tsx"),m=n("./app/utils/withApi.tsx"),g=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class Z extends i.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{optionsByField:new Map,selectedOptions:{}}),(0,s.Z)(this,"model",new p.Z),(0,s.Z)(this,"onSubmitError",(()=>{const{action:e,appName:t}=this.props;(0,l.Iw)((0,u.t)("Unable to %s %s %s.",e,t,this.getElementText()))})),(0,s.Z)(this,"getOptions",((e,t)=>new Promise((n=>{this.debouncedOptionLoad(e,t,n)})))),(0,s.Z)(this,"getElementText",(()=>{const{element:e}=this.props;switch(e){case"issue-link":return"issue";case"alert-rule-action":return"alert";default:return"connection"}})),(0,s.Z)(this,"getDefaultOptions",(e=>{const t=((this.props.resetValues||{}).settings||[]).find((t=>t.name===e.name)),n=(e.choices||[]).map((e=>{let[t,n]=e;return{value:t,label:n}}));return t?.value&&t?.label&&!n.some((e=>e.value===t?.value))?[{value:t.value,label:t.label},...n]:n})),(0,s.Z)(this,"getDefaultFieldValue",(e=>{const{resetValues:t,getFieldDefault:n}=this.props;let s=e?.defaultValue;e.default&&n&&(s=n(e));const i=((t||{}).settings||[]).find((t=>t.name===e.name));return i&&(s=i.value),s})),(0,s.Z)(this,"debouncedOptionLoad",a()((async(e,t,n)=>{const s=(await this.makeExternalRequest(e,t)).map((e=>{let[t,n]=e;return{value:t,label:n}})),i=new Map(this.state.optionsByField);return i.set(e.name,s),this.setState({optionsByField:i}),n(s)}),200,{trailing:!0})),(0,s.Z)(this,"makeExternalRequest",(async(e,t)=>{const{extraRequestBody:n={},sentryAppInstallationUuid:s}=this.props,i={...n,uri:e.uri,query:t};if(e.depends_on){const t=e.depends_on.reduce(((e,t)=>(e[t]=this.model.getValue(t),e)),{});i.dependentData=JSON.stringify(t)}const{choices:r}=await this.props.api.requestPromise(`/sentry-app-installations/${s}/external-requests/`,{query:i});return r||[]})),(0,s.Z)(this,"handleFieldChange",(async e=>{const t=this.state;let n=t.required_fields||[],s=t.optional_fields||[];const i=n.concat(s).filter((t=>{let{depends_on:n}=t;return!!n&&n.includes(e)})),r=await Promise.all(i.map((e=>(this.model.setValue(e.name||"","",{quiet:!0}),this.makeExternalRequest(e,"")))));this.setState((e=>(n=e.required_fields||[],s=e.optional_fields||[],i.forEach(((e,t)=>{const i=r[t],o=n.indexOf(e),a=s.indexOf(e),l={...e,choices:i};o>-1?n=(0,h.m)(n,o,l):a>-1&&(s=(0,h.m)(s,a,l))})),{required_fields:n,optional_fields:s})))})),(0,s.Z)(this,"createPreserveOptionFunction",(e=>(t,n)=>{this.setState({selectedOptions:{...this.state.selectedOptions,[e]:t}})})),(0,s.Z)(this,"renderField",((e,t)=>{let n={...e,inline:!1,stacked:!0,flexibleControlStateSize:!0,required:t};if(e?.uri&&e?.async&&(n.type="select_async"),["select","select_async"].includes(n.type||"")){const s=this.getDefaultOptions(e),i=this.state.optionsByField.get(e.name)||s;n={...n,options:i,defaultOptions:s,defaultValue:this.getDefaultFieldValue(e),filterOption:(0,r.c)({}),allowClear:!t,placeholder:"Type to search"},e.depends_on&&e.depends_on.some((e=>{return!((t=this.model.getValue(e))||0===t);var t}))&&(n={...n,disabled:!0})}["text","textarea"].includes(n.type||"")&&(n={...n,defaultValue:this.getDefaultFieldValue(e)});const s=e.uri?{loadOptions:t=>this.getOptions(e,t),async:e?.async??!0,cache:!1,onSelectResetsInput:!1,onCloseResetsInput:!1,onBlurResetsInput:!1,autoload:!1,onChangeOption:this.createPreserveOptionFunction(e.name)}:{};return(0,g.tZ)(c.Z,{field:n,"data-test-id":e.name,...s},e.name)})),(0,s.Z)(this,"handleAlertRuleSubmit",((e,t)=>{const{sentryAppInstallationUuid:n}=this.props;this.model.validateForm()&&t({settings:Object.entries(e).map((e=>{let[t,n]=e;const s={name:t,value:n},i=this.state.selectedOptions[t];return i?.value===n&&(s.label=`${i?.label}`),s})),sentryAppInstallationUuid:n,hasSchemaFormConfig:!0})}))}componentDidMount(){this.resetStateFromProps()}componentDidUpdate(e){e.action!==this.props.action&&(this.model.reset(),this.resetStateFromProps())}resetStateFromProps(){const{config:e,action:t,extraFields:n,element:s}=this.props;if(this.setState({required_fields:e.required_fields,optional_fields:e.optional_fields}),"alert-rule-action"===s){const e=((this.props.resetValues||{}).settings||[]).reduce(((e,t)=>(e[t.name]=t.value,e)),{});this.model.setInitialData({...e})}else this.model.setInitialData({...n,action:t,uri:e.uri})}render(){const{sentryAppInstallationUuid:e,action:t,element:n,onSubmitSuccess:s}=this.props,i=this.state.required_fields||[],r=this.state.optional_fields||[];return e?(0,g.BX)(d.Z,{apiEndpoint:`/sentry-app-installations/${e}/external-issue-actions/`,apiMethod:"POST",onSubmit:"alert-rule-action"===n?this.handleAlertRuleSubmit:void 0,onSubmitSuccess:function(){s(...arguments)},onSubmitError:this.onSubmitError,onFieldChange:this.handleFieldChange,model:this.model,children:[i.map((e=>this.renderField(e,!0))),r.map((e=>this.renderField(e,!1)))]},t):""}}Z.displayName="SentryAppExternalForm";const v=(0,m.Z)(Z)},"../node_modules/lodash/isNull.js":e=>{e.exports=function(e){return null===e}},"../node_modules/lodash/orderBy.js":(e,t,n)=>{var s=n("../node_modules/lodash/_baseOrderBy.js"),i=n("../node_modules/lodash/isArray.js");e.exports=function(e,t,n,r){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=r?void 0:n)||(n=null==n?[]:[n]),s(e,t,n))}}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationGroupDetails_groupEventDetails_index_tsx-images_spot_performance-quick--573eca.c14b0227f941f12212a3874b33b0da48.js.map